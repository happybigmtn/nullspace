# Backend Configuration
# CRITICAL: Replace with your actual indexer endpoint before deployment
BACKEND_URL=https://REPLACE_WITH_YOUR_INDEXER_URL
# CRITICAL: Replace with your gateway's public URL (used for nonce signing)
GATEWAY_ORIGIN=https://REPLACE_WITH_YOUR_GATEWAY_URL
GATEWAY_PORT=9010
GATEWAY_DATA_DIR=/var/lib/nullspace/gateway
GATEWAY_EVENT_TIMEOUT_MS=30000

# Session Rate Limiting
GATEWAY_SESSION_RATE_LIMIT_POINTS=1000
GATEWAY_SESSION_RATE_LIMIT_WINDOW_MS=3600000
GATEWAY_SESSION_RATE_LIMIT_BLOCK_MS=600000

# Connection Limits
MAX_CONNECTIONS_PER_IP=200
MAX_TOTAL_SESSIONS=20000

# Environment
NODE_ENV=production
GATEWAY_INSTANCE_ID=gateway-prod-1

# REQUIRED: Allowed Origins for CORS (comma-separated)
# Example: GATEWAY_ALLOWED_ORIGINS=https://app.nullspace.xyz,https://mobile.nullspace.xyz
# CRITICAL: Service will crash on startup if not set in production
GATEWAY_ALLOWED_ORIGINS=https://REPLACE_WITH_YOUR_APP_DOMAIN,https://REPLACE_WITH_YOUR_MOBILE_DOMAIN

# Live Table Configuration
GATEWAY_LIVE_TABLE_CRAPS=1
GATEWAY_LIVE_TABLE_PRESENCE_UPDATE_MS=2000
GATEWAY_LIVE_TABLE_PRESENCE_TIMEOUT_MS=2000
GATEWAY_LIVE_TABLE_ADMIN_GRACE_MS=3000

# REQUIRED: Live Table Admin Key (for signing global table bets)
# Option 1: File path to hex-encoded Ed25519 private key
GATEWAY_LIVE_TABLE_ADMIN_KEY_FILE=/var/lib/nullspace/admin-key.hex
# Option 2: Set GATEWAY_LIVE_TABLE_ALLOW_ADMIN_ENV=1 and use env var:
# GATEWAY_LIVE_TABLE_ALLOW_ADMIN_ENV=1
# GATEWAY_LIVE_TABLE_ADMIN_KEY=your_hex_encoded_key_here

# REQUIRED: Live Table Presence Authentication Token
# Generate with: openssl rand -base64 32
# CRITICAL: Must be replaced before deployment - placeholder values will be rejected
GATEWAY_LIVE_TABLE_PRESENCE_TOKEN=rfkrrQ0RjBP5iVacr57Tp0dxPGE9cPLoE46lsLo5jeU=

# REQUIRED: Metrics Endpoint Authentication Token
# Generate with: openssl rand -base64 32
# CRITICAL: Must be replaced before deployment - placeholder values will be rejected
METRICS_AUTH_TOKEN=SLNmUmUHvNzc+wUagF9aOPGaQBb1DNp8jSG75+Cq5uI=
