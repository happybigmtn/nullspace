import{z as l,a as i,j as t,L as m}from"./index-mFzF45K3.js";import{b as u}from"./explorerClient-iX8tLvRu.js";function h(a){if(typeof a!="string")return"";const e=a.trim();if(!e)return"";if(e==="CasinoToggleShield")return"Toggle shield modifier";if(e==="CasinoToggleDouble")return"Toggle double modifier";if(e==="CasinoToggleSuper")return"Toggle super mode";if(e==="Unstake")return"Unstake";if(e==="ClaimRewards")return"Claim staking rewards";if(e==="ProcessEpoch")return"Process epoch";if(e==="CreateVault")return"Create vault";let s=e.match(/^CasinoRegister\s*\{\s*name:\s*"(.*)"\s*\}$/);if(s)return`Register casino player "${s[1]}"`;if(s=e.match(/^CasinoDeposit\s*\{\s*amount:\s*(\d+)\s*\}$/),s)return`Deposit ${s[1]} RNG (faucet)`;if(s=e.match(/^CasinoStartGame\s*\{\s*game_type:\s*([A-Za-z]+)\s*,\s*bet:\s*(\d+)\s*,\s*session_id:\s*(\d+)\s*\}$/),s)return`Start ${s[1]} game (bet ${s[2]} RNG, session ${s[3]})`;if(s=e.match(/^CasinoGameMove\s*\{\s*session_id:\s*(\d+)\s*,\s*payload:\s*\[([\s\S]*?)\]\s*,?\s*\}$/),s){const r=s[2].trim()?s[2].split(",").filter(n=>n.trim()!=="").length:0;return r?`Casino game move (session ${s[1]}, ${r} bytes)`:`Casino game move (session ${s[1]})`}return s=e.match(/^CasinoJoinTournament\s*\{\s*tournament_id:\s*(\d+)\s*\}$/),s?`Join tournament ${s[1]}`:(s=e.match(/^CasinoStartTournament\s*\{\s*tournament_id:\s*(\d+)\s*,\s*start_time_ms:\s*(\d+)\s*,\s*end_time_ms:\s*(\d+)\s*\}$/),s?`Start tournament ${s[1]} (start ${s[2]}, end ${s[3]})`:(s=e.match(/^CasinoEndTournament\s*\{\s*tournament_id:\s*(\d+)\s*\}$/),s?`End tournament ${s[1]}`:(s=e.match(/^Stake\s*\{\s*amount:\s*(\d+)\s*,\s*duration:\s*(\d+)\s*\}$/),s?`Stake ${s[1]} RNG for ${s[2]} blocks`:(s=e.match(/^DepositCollateral\s*\{\s*amount:\s*(\d+)\s*\}$/),s?`Deposit ${s[1]} RNG as collateral`:(s=e.match(/^BorrowUSDT\s*\{\s*amount:\s*(\d+)\s*\}$/),s?`Borrow ${s[1]} vUSDT`:(s=e.match(/^RepayUSDT\s*\{\s*amount:\s*(\d+)\s*\}$/),s?`Repay ${s[1]} vUSDT`:(s=e.match(/^Swap\s*\{\s*amount_in:\s*(\d+)\s*,\s*min_amount_out:\s*(\d+)\s*,\s*is_buying_rng:\s*(true|false)\s*\}$/),s?s[3]==="true"?`Swap ${s[1]} vUSDT for ≥ ${s[2]} RNG`:`Swap ${s[1]} RNG for ≥ ${s[2]} vUSDT`:(s=e.match(/^AddLiquidity\s*\{\s*rng_amount:\s*(\d+)\s*,\s*usdt_amount:\s*(\d+)\s*\}$/),s?`Add liquidity (${s[1]} RNG + ${s[2]} vUSDT)`:(s=e.match(/^RemoveLiquidity\s*\{\s*shares:\s*(\d+)\s*\}$/),s?`Remove liquidity (${s[1]} LP shares)`:"")))))))))}function g(){const{hash:a}=l(),[e,s]=i.useState(null),[r,n]=i.useState(null);if(i.useEffect(()=>{let o=!0;return u(a).then(d=>{o&&s(d)}).catch(()=>n("Transaction not found")),()=>{o=!1}},[a]),r)return t.jsx("div",{className:"text-red-400",children:r});if(!e)return t.jsx("div",{className:"text-gray-300",children:"Loading transaction..."});const c=e.description||h(e.instruction);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-xl font-semibold break-all",children:["Tx ",e.hash]}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Block:"," ",t.jsxs(m,{to:`/explorer/blocks/${e.block_height}`,className:"text-terminal-green hover:underline",children:["#",e.block_height]})]}),t.jsxs("p",{className:"text-gray-400 text-sm",children:["Position: ",e.position]})]}),t.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded p-3 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Public Key"}),t.jsx("span",{className:"font-mono break-all",children:e.public_key})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-400",children:"Nonce"}),t.jsx("span",{children:e.nonce})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"text-gray-400",children:"Description"}),t.jsx("div",{className:"break-words",children:c||"—"})]}),t.jsxs("div",{className:"mt-2",children:[t.jsx("div",{className:"text-gray-400",children:"Instruction"}),t.jsx("div",{className:"font-mono break-words text-xs",children:e.instruction})]})]})]})}export{g as default};
