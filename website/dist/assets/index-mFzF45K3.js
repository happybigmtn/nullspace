const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChainConnectionLayout-DmV8Gt8B.js","assets/CasinoConnectionContext-fVNBG02E.js","assets/EconomyApp-jXiPrd4v.js","assets/txTracker-BOjY1mwg.js","assets/useActivityFeed-BE_j7v_U.js","assets/StakingApp-BdmjSUZ7.js","assets/SecurityApp-BzL7JSYn.js","assets/ExplorerLayout-C1w9iP_b.js","assets/explorerClient-iX8tLvRu.js","assets/BlocksPage-CHSBRdxm.js","assets/BlockDetailPage-C50kLRlZ.js","assets/TxDetailPage-BVAPcgQm.js","assets/AccountPage-BOuzOPRG.js"])))=>i.map(i=>d[i]);
function Tx(l,r){for(var i=0;i<r.length;i++){const c=r[i];if(typeof c!="string"&&!Array.isArray(c)){for(const o in c)if(o!=="default"&&!(o in l)){const m=Object.getOwnPropertyDescriptor(c,o);m&&Object.defineProperty(l,o,m.get?m:{enumerable:!0,get:()=>c[o]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const m of o)if(m.type==="childList")for(const f of m.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const m={};return o.integrity&&(m.integrity=o.integrity),o.referrerPolicy&&(m.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?m.credentials="include":o.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function c(o){if(o.ep)return;o.ep=!0;const m=i(o);fetch(o.href,m)}})();function Yp(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var co={exports:{}},vs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hp;function Ax(){if(hp)return vs;hp=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(c,o,m){var f=null;if(m!==void 0&&(f=""+m),o.key!==void 0&&(f=""+o.key),"key"in o){m={};for(var v in o)v!=="key"&&(m[v]=o[v])}else m=o;return o=m.ref,{$$typeof:l,type:c,key:f,ref:o!==void 0?o:null,props:m}}return vs.Fragment=r,vs.jsx=i,vs.jsxs=i,vs}var pp;function Cx(){return pp||(pp=1,co.exports=Ax()),co.exports}var s=Cx(),uo={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function Sx(){if(mp)return Ue;mp=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),m=Symbol.for("react.consumer"),f=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),y=Symbol.iterator;function N(H){return H===null||typeof H!="object"?null:(H=y&&H[y]||H["@@iterator"],typeof H=="function"?H:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,h={};function E(H,ne,xe){this.props=H,this.context=ne,this.refs=h,this.updater=xe||A}E.prototype.isReactComponent={},E.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function O(){}O.prototype=E.prototype;function M(H,ne,xe){this.props=H,this.context=ne,this.refs=h,this.updater=xe||A}var I=M.prototype=new O;I.constructor=M,C(I,E.prototype),I.isPureReactComponent=!0;var le=Array.isArray,Q={H:null,A:null,T:null,S:null,V:null},ie=Object.prototype.hasOwnProperty;function Ee(H,ne,xe,he,Ne,Ke){return xe=Ke.ref,{$$typeof:l,type:H,key:ne,ref:xe!==void 0?xe:null,props:Ke}}function fe(H,ne){return Ee(H.type,ne,void 0,void 0,void 0,H.props)}function oe(H){return typeof H=="object"&&H!==null&&H.$$typeof===l}function je(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(xe){return ne[xe]})}var Je=/\/+/g;function De(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?je(""+H.key):ne.toString(36)}function vt(){}function Lt(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(vt,vt):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function ot(H,ne,xe,he,Ne){var Ke=typeof H;(Ke==="undefined"||Ke==="boolean")&&(H=null);var Oe=!1;if(H===null)Oe=!0;else switch(Ke){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(H.$$typeof){case l:case r:Oe=!0;break;case b:return Oe=H._init,ot(Oe(H._payload),ne,xe,he,Ne)}}if(Oe)return Ne=Ne(H),Oe=he===""?"."+De(H,0):he,le(Ne)?(xe="",Oe!=null&&(xe=Oe.replace(Je,"$&/")+"/"),ot(Ne,ne,xe,"",function(Ct){return Ct})):Ne!=null&&(oe(Ne)&&(Ne=fe(Ne,xe+(Ne.key==null||H&&H.key===Ne.key?"":(""+Ne.key).replace(Je,"$&/")+"/")+Oe)),ne.push(Ne)),1;Oe=0;var kt=he===""?".":he+":";if(le(H))for(var We=0;We<H.length;We++)he=H[We],Ke=kt+De(he,We),Oe+=ot(he,ne,xe,Ke,Ne);else if(We=N(H),typeof We=="function")for(H=We.call(H),We=0;!(he=H.next()).done;)he=he.value,Ke=kt+De(he,We++),Oe+=ot(he,ne,xe,Ke,Ne);else if(Ke==="object"){if(typeof H.then=="function")return ot(Lt(H),ne,xe,he,Ne);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function W(H,ne,xe){if(H==null)return H;var he=[],Ne=0;return ot(H,he,"","",function(Ke){return ne.call(xe,Ke,Ne++)}),he}function de(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(xe){(H._status===0||H._status===-1)&&(H._status=1,H._result=xe)},function(xe){(H._status===0||H._status===-1)&&(H._status=2,H._result=xe)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var ge=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}};function Fe(){}return Ue.Children={map:W,forEach:function(H,ne,xe){W(H,function(){ne.apply(this,arguments)},xe)},count:function(H){var ne=0;return W(H,function(){ne++}),ne},toArray:function(H){return W(H,function(ne){return ne})||[]},only:function(H){if(!oe(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ue.Component=E,Ue.Fragment=i,Ue.Profiler=o,Ue.PureComponent=M,Ue.StrictMode=c,Ue.Suspense=p,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(H){return Q.H.useMemoCache(H)}},Ue.cache=function(H){return function(){return H.apply(null,arguments)}},Ue.cloneElement=function(H,ne,xe){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var he=C({},H.props),Ne=H.key,Ke=void 0;if(ne!=null)for(Oe in ne.ref!==void 0&&(Ke=void 0),ne.key!==void 0&&(Ne=""+ne.key),ne)!ie.call(ne,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&ne.ref===void 0||(he[Oe]=ne[Oe]);var Oe=arguments.length-2;if(Oe===1)he.children=xe;else if(1<Oe){for(var kt=Array(Oe),We=0;We<Oe;We++)kt[We]=arguments[We+2];he.children=kt}return Ee(H.type,Ne,void 0,void 0,Ke,he)},Ue.createContext=function(H){return H={$$typeof:f,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:m,_context:H},H},Ue.createElement=function(H,ne,xe){var he,Ne={},Ke=null;if(ne!=null)for(he in ne.key!==void 0&&(Ke=""+ne.key),ne)ie.call(ne,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ne[he]=ne[he]);var Oe=arguments.length-2;if(Oe===1)Ne.children=xe;else if(1<Oe){for(var kt=Array(Oe),We=0;We<Oe;We++)kt[We]=arguments[We+2];Ne.children=kt}if(H&&H.defaultProps)for(he in Oe=H.defaultProps,Oe)Ne[he]===void 0&&(Ne[he]=Oe[he]);return Ee(H,Ke,void 0,void 0,null,Ne)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(H){return{$$typeof:v,render:H}},Ue.isValidElement=oe,Ue.lazy=function(H){return{$$typeof:b,_payload:{_status:-1,_result:H},_init:de}},Ue.memo=function(H,ne){return{$$typeof:x,type:H,compare:ne===void 0?null:ne}},Ue.startTransition=function(H){var ne=Q.T,xe={};Q.T=xe;try{var he=H(),Ne=Q.S;Ne!==null&&Ne(xe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Fe,ge)}catch(Ke){ge(Ke)}finally{Q.T=ne}},Ue.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},Ue.use=function(H){return Q.H.use(H)},Ue.useActionState=function(H,ne,xe){return Q.H.useActionState(H,ne,xe)},Ue.useCallback=function(H,ne){return Q.H.useCallback(H,ne)},Ue.useContext=function(H){return Q.H.useContext(H)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(H,ne){return Q.H.useDeferredValue(H,ne)},Ue.useEffect=function(H,ne,xe){var he=Q.H;if(typeof xe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(H,ne)},Ue.useId=function(){return Q.H.useId()},Ue.useImperativeHandle=function(H,ne,xe){return Q.H.useImperativeHandle(H,ne,xe)},Ue.useInsertionEffect=function(H,ne){return Q.H.useInsertionEffect(H,ne)},Ue.useLayoutEffect=function(H,ne){return Q.H.useLayoutEffect(H,ne)},Ue.useMemo=function(H,ne){return Q.H.useMemo(H,ne)},Ue.useOptimistic=function(H,ne){return Q.H.useOptimistic(H,ne)},Ue.useReducer=function(H,ne,xe){return Q.H.useReducer(H,ne,xe)},Ue.useRef=function(H){return Q.H.useRef(H)},Ue.useState=function(H){return Q.H.useState(H)},Ue.useSyncExternalStore=function(H,ne,xe){return Q.H.useSyncExternalStore(H,ne,xe)},Ue.useTransition=function(){return Q.H.useTransition()},Ue.version="19.1.1",Ue}var xp;function ko(){return xp||(xp=1,uo.exports=Sx()),uo.exports}var R=ko();const Ot=Yp(R),oE=Tx({__proto__:null,default:Ot},[R]);var oo={exports:{}},Ns={},fo={exports:{}},ho={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function Rx(){return yp||(yp=1,function(l){function r(W,de){var ge=W.length;W.push(de);e:for(;0<ge;){var Fe=ge-1>>>1,H=W[Fe];if(0<o(H,de))W[Fe]=de,W[ge]=H,ge=Fe;else break e}}function i(W){return W.length===0?null:W[0]}function c(W){if(W.length===0)return null;var de=W[0],ge=W.pop();if(ge!==de){W[0]=ge;e:for(var Fe=0,H=W.length,ne=H>>>1;Fe<ne;){var xe=2*(Fe+1)-1,he=W[xe],Ne=xe+1,Ke=W[Ne];if(0>o(he,ge))Ne<H&&0>o(Ke,he)?(W[Fe]=Ke,W[Ne]=ge,Fe=Ne):(W[Fe]=he,W[xe]=ge,Fe=xe);else if(Ne<H&&0>o(Ke,ge))W[Fe]=Ke,W[Ne]=ge,Fe=Ne;else break e}}return de}function o(W,de){var ge=W.sortIndex-de.sortIndex;return ge!==0?ge:W.id-de.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;l.unstable_now=function(){return m.now()}}else{var f=Date,v=f.now();l.unstable_now=function(){return f.now()-v}}var p=[],x=[],b=1,y=null,N=3,A=!1,C=!1,h=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function le(W){for(var de=i(x);de!==null;){if(de.callback===null)c(x);else if(de.startTime<=W)c(x),de.sortIndex=de.expirationTime,r(p,de);else break;de=i(x)}}function Q(W){if(h=!1,le(W),!C)if(i(p)!==null)C=!0,ie||(ie=!0,De());else{var de=i(x);de!==null&&ot(Q,de.startTime-W)}}var ie=!1,Ee=-1,fe=5,oe=-1;function je(){return E?!0:!(l.unstable_now()-oe<fe)}function Je(){if(E=!1,ie){var W=l.unstable_now();oe=W;var de=!0;try{e:{C=!1,h&&(h=!1,M(Ee),Ee=-1),A=!0;var ge=N;try{t:{for(le(W),y=i(p);y!==null&&!(y.expirationTime>W&&je());){var Fe=y.callback;if(typeof Fe=="function"){y.callback=null,N=y.priorityLevel;var H=Fe(y.expirationTime<=W);if(W=l.unstable_now(),typeof H=="function"){y.callback=H,le(W),de=!0;break t}y===i(p)&&c(p),le(W)}else c(p);y=i(p)}if(y!==null)de=!0;else{var ne=i(x);ne!==null&&ot(Q,ne.startTime-W),de=!1}}break e}finally{y=null,N=ge,A=!1}de=void 0}}finally{de?De():ie=!1}}}var De;if(typeof I=="function")De=function(){I(Je)};else if(typeof MessageChannel<"u"){var vt=new MessageChannel,Lt=vt.port2;vt.port1.onmessage=Je,De=function(){Lt.postMessage(null)}}else De=function(){O(Je,0)};function ot(W,de){Ee=O(function(){W(l.unstable_now())},de)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(W){W.callback=null},l.unstable_forceFrameRate=function(W){0>W||125<W||(fe=0<W?Math.floor(1e3/W):5)},l.unstable_getCurrentPriorityLevel=function(){return N},l.unstable_next=function(W){switch(N){case 1:case 2:case 3:var de=3;break;default:de=N}var ge=N;N=de;try{return W()}finally{N=ge}},l.unstable_requestPaint=function(){E=!0},l.unstable_runWithPriority=function(W,de){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=N;N=W;try{return de()}finally{N=ge}},l.unstable_scheduleCallback=function(W,de,ge){var Fe=l.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Fe+ge:Fe):ge=Fe,W){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=ge+H,W={id:b++,callback:de,priorityLevel:W,startTime:ge,expirationTime:H,sortIndex:-1},ge>Fe?(W.sortIndex=ge,r(x,W),i(p)===null&&W===i(x)&&(h?(M(Ee),Ee=-1):h=!0,ot(Q,ge-Fe))):(W.sortIndex=H,r(p,W),C||A||(C=!0,ie||(ie=!0,De()))),W},l.unstable_shouldYield=je,l.unstable_wrapCallback=function(W){var de=N;return function(){var ge=N;N=de;try{return W.apply(this,arguments)}finally{N=ge}}}}(ho)),ho}var gp;function wx(){return gp||(gp=1,fo.exports=Rx()),fo.exports}var po={exports:{}},Ft={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function Bx(){if(bp)return Ft;bp=1;var l=ko();function r(p){var x="https://react.dev/errors/"+p;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)x+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var c={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function m(p,x,b){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:p,containerInfo:x,implementation:b}}var f=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(p,x){if(p==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Ft.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,Ft.createPortal=function(p,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(r(299));return m(p,x,null,b)},Ft.flushSync=function(p){var x=f.T,b=c.p;try{if(f.T=null,c.p=2,p)return p()}finally{f.T=x,c.p=b,c.d.f()}},Ft.preconnect=function(p,x){typeof p=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(p,x))},Ft.prefetchDNS=function(p){typeof p=="string"&&c.d.D(p)},Ft.preinit=function(p,x){if(typeof p=="string"&&x&&typeof x.as=="string"){var b=x.as,y=v(b,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,A=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;b==="style"?c.d.S(p,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:N,fetchPriority:A}):b==="script"&&c.d.X(p,{crossOrigin:y,integrity:N,fetchPriority:A,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Ft.preinitModule=function(p,x){if(typeof p=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var b=v(x.as,x.crossOrigin);c.d.M(p,{crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(p)},Ft.preload=function(p,x){if(typeof p=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var b=x.as,y=v(b,x.crossOrigin);c.d.L(p,b,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Ft.preloadModule=function(p,x){if(typeof p=="string")if(x){var b=v(x.as,x.crossOrigin);c.d.m(p,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:b,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(p)},Ft.requestFormReset=function(p){c.d.r(p)},Ft.unstable_batchedUpdates=function(p,x){return p(x)},Ft.useFormState=function(p,x,b){return f.H.useFormState(p,x,b)},Ft.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ft.version="19.1.1",Ft}var Ep;function jx(){if(Ep)return po.exports;Ep=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch{}}return l(),po.exports=Bx(),po.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp;function Ox(){if(vp)return Ns;vp=1;var l=wx(),r=ko(),i=jx();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(m(e)!==e)throw Error(c(188))}function p(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(c(188));return t!==e?null:e}for(var a=e,n=t;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(n=u.return,n!==null){a=n;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return v(u),e;if(d===n)return v(u),t;d=d.sibling}throw Error(c(188))}if(a.return!==n.return)a=u,n=d;else{for(var g=!1,T=u.child;T;){if(T===a){g=!0,a=u,n=d;break}if(T===n){g=!0,n=u,a=d;break}T=T.sibling}if(!g){for(T=d.child;T;){if(T===a){g=!0,a=d,n=u;break}if(T===n){g=!0,n=d,a=u;break}T=T.sibling}if(!g)throw Error(c(189))}}if(a.alternate!==n)throw Error(c(190))}if(a.tag!==3)throw Error(c(188));return a.stateNode.current===a?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,y=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),I=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Ee=Symbol.for("react.memo"),fe=Symbol.for("react.lazy"),oe=Symbol.for("react.activity"),je=Symbol.for("react.memo_cache_sentinel"),Je=Symbol.iterator;function De(e){return e===null||typeof e!="object"?null:(e=Je&&e[Je]||e["@@iterator"],typeof e=="function"?e:null)}var vt=Symbol.for("react.client.reference");function Lt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===vt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case E:return"Profiler";case h:return"StrictMode";case Q:return"Suspense";case ie:return"SuspenseList";case oe:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case I:return(e.displayName||"Context")+".Provider";case M:return(e._context.displayName||"Context")+".Consumer";case le:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ee:return t=e.displayName||null,t!==null?t:Lt(e.type)||"Memo";case fe:t=e._payload,e=e._init;try{return Lt(e(t))}catch{}}return null}var ot=Array.isArray,W=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Fe=[],H=-1;function ne(e){return{current:e}}function xe(e){0>H||(e.current=Fe[H],Fe[H]=null,H--)}function he(e,t){H++,Fe[H]=e.current,e.current=t}var Ne=ne(null),Ke=ne(null),Oe=ne(null),kt=ne(null);function We(e,t){switch(he(Oe,t),he(Ke,e),he(Ne,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?$h(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=$h(t),e=Gh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}xe(Ne),he(Ne,e)}function Ct(){xe(Ne),xe(Ke),xe(Oe)}function Cl(e){e.memoizedState!==null&&he(kt,e);var t=Ne.current,a=Gh(t,e.type);t!==a&&(he(Ke,e),he(Ne,a))}function Na(e){Ke.current===e&&(xe(Ne),xe(Ke)),kt.current===e&&(xe(kt),xs._currentValue=ge)}var tl=Object.prototype.hasOwnProperty,La=l.unstable_scheduleCallback,Ka=l.unstable_cancelCallback,Va=l.unstable_shouldYield,un=l.unstable_requestPaint,ue=l.unstable_now,Mn=l.unstable_getCurrentPriorityLevel,on=l.unstable_ImmediatePriority,It=l.unstable_UserBlockingPriority,pe=l.unstable_NormalPriority,Nt=l.unstable_LowPriority,$e=l.unstable_IdlePriority,al=l.log,_e=l.unstable_setDisableYieldValue,re=null,Me=null;function zt(e){if(typeof al=="function"&&_e(e),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(re,e)}catch{}}var et=Math.clz32?Math.clz32:He,aa=Math.log,ka=Math.LN2;function He(e){return e>>>=0,e===0?32:31-(aa(e)/ka|0)|0}var qa=256,ll=4194304;function Re(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dn(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var u=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=n&134217727;return T!==0?(n=T&~d,n!==0?u=Re(n):(g&=T,g!==0?u=Re(g):a||(a=T&~e,a!==0&&(u=Re(a))))):(T=n&~d,T!==0?u=Re(T):g!==0?u=Re(g):a||(a=n&~e,a!==0&&(u=Re(a)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:u}function Sl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Os(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function da(){var e=qa;return qa<<=1,(qa&4194048)===0&&(qa=256),e}function _n(){var e=ll;return ll<<=1,(ll&62914560)===0&&(ll=4194304),e}function Rl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function nl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ce(e,t,a,n,u,d){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,_=e.expirationTimes,Y=e.hiddenUpdates;for(a=g&~a;0<a;){var ee=31-et(a),ae=1<<ee;T[ee]=0,_[ee]=-1;var V=Y[ee];if(V!==null)for(Y[ee]=null,ee=0;ee<V.length;ee++){var q=V[ee];q!==null&&(q.lane&=-536870913)}a&=~ae}n!==0&&Ve(e,n,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Ve(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-et(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function ht(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-et(a),u=1<<n;u&t|e[n]&t&&(e[n]|=t),a&=~u}}function rl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function wl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fn(){var e=de.p;return e!==0?e:(e=window.event,e===void 0?32:ip(e.type))}function Dn(e,t){var a=de.p;try{return de.p=e,t()}finally{de.p=a}}var Ta=Math.random().toString(36).slice(2),St="__reactFiber$"+Ta,Ut="__reactProps$"+Ta,la="__reactContainer$"+Ta,Nr="__reactEvents$"+Ta,cc="__reactListeners$"+Ta,uc="__reactHandles$"+Ta,Ls="__reactResources$"+Ta,hn="__reactMarker$"+Ta;function Mt(e){delete e[St],delete e[Ut],delete e[Nr],delete e[cc],delete e[uc]}function pt(e){var t=e[St];if(t)return t;for(var a=e.parentNode;a;){if(t=a[la]||a[St]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Vh(e);e!==null;){if(a=e[St])return a;e=Vh(e)}return t}e=a,a=e.parentNode}return null}function fa(e){if(e=e[St]||e[la]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Ma(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function na(e){var t=e[Ls];return t||(t=e[Ls]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ft(e){e[hn]=!0}var ks=new Set,Fa={};function sl(e,t){Bl(e,t),Bl(e+"Capture",t)}function Bl(e,t){for(Fa[e]=t,e=0;e<t.length;e++)ks.add(t[e])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},pn={};function Tr(e){return tl.call(pn,e)?!0:tl.call(jl,e)?!1:Ms.test(e)?pn[e]=!0:(jl[e]=!0,!1)}function In(e,t,a){if(Tr(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function mn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Zt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Rt,Ht;function ra(e){if(Rt===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Rt=t&&t[1]||"",Ht=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+e+Ht}var Ar=!1;function Cr(e,t){if(!e||Ar)return"";Ar=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(q){var V=q}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(q){V=q}e.call(ae.prototype)}}else{try{throw Error()}catch(q){V=q}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(q){if(q&&V&&typeof q.stack=="string")return[q.stack,V.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=n.DetermineComponentFrameRoot(),g=d[0],T=d[1];if(g&&T){var _=g.split(`
`),Y=T.split(`
`);for(u=n=0;n<_.length&&!_[n].includes("DetermineComponentFrameRoot");)n++;for(;u<Y.length&&!Y[u].includes("DetermineComponentFrameRoot");)u++;if(n===_.length||u===Y.length)for(n=_.length-1,u=Y.length-1;1<=n&&0<=u&&_[n]!==Y[u];)u--;for(;1<=n&&0<=u;n--,u--)if(_[n]!==Y[u]){if(n!==1||u!==1)do if(n--,u--,0>u||_[n]!==Y[u]){var ee=`
`+_[n].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=n&&0<=u);break}}}finally{Ar=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ra(a):""}function oc(e){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return Cr(e.type,!1);case 11:return Cr(e.type.render,!1);case 1:return Cr(e.type,!0);case 31:return ra("Activity");default:return""}}function _s(e){try{var t="";do t+=oc(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function sa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ds(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dc(e){var t=Ds(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,d=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){n=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(g){n=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Un(e){e._valueTracker||(e._valueTracker=dc(e))}function Is(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=Ds(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Hn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fc=/[\n"\\]/g;function ia(e){return e.replace(fc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Sr(e,t,a,n,u,d,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+sa(t)):e.value!==""+sa(t)&&(e.value=""+sa(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Rr(e,g,sa(t)):a!=null?Rr(e,g,sa(a)):n!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+sa(T):e.removeAttribute("name")}function Us(e,t,a,n,u,d,g,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null))return;a=a!=null?""+sa(a):"",t=t!=null?""+sa(t):a,T||t===e.value||(e.value=t),e.defaultValue=t}n=n??u,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=T?e.checked:!!n,e.defaultChecked=!!n,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g)}function Rr(e,t,a){t==="number"&&Hn(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ol(e,t,a,n){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&n&&(e[a].defaultSelected=!0)}else{for(a=""+sa(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,n&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function Hs(e,t,a){if(t!=null&&(t=""+sa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+sa(a):""}function Ps(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(c(92));if(ot(n)){if(1<n.length)throw Error(c(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=sa(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Ll(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||hc.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Gs(e,t,a){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var u in t)n=t[u],t.hasOwnProperty(u)&&a[u]!==n&&$s(e,u,n)}else for(var d in t)t.hasOwnProperty(d)&&$s(e,d,t[d])}function wr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pn(e){return mc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Br=null;function jr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var kl=null,Ml=null;function zs(e){var t=fa(e);if(t&&(e=t.stateNode)){var a=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(Sr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ia(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var u=n[Ut]||null;if(!u)throw Error(c(90));Sr(n,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&Is(n)}break e;case"textarea":Hs(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ol(e,!!a.multiple,t,!1)}}}var Or=!1;function Ys(e,t,a){if(Or)return e(t,a);Or=!0;try{var n=e(t);return n}finally{if(Or=!1,(kl!==null||Ml!==null)&&(Ci(),kl&&(t=kl,e=Ml,Ml=kl=null,zs(t),e)))for(t=0;t<e.length;t++)zs(e[t])}}function S(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Ut]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(c(231,t,typeof a));return a}var k=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),j=!1;if(k)try{var w={};Object.defineProperty(w,"passive",{get:function(){j=!0}}),window.addEventListener("test",w,w),window.removeEventListener("test",w,w)}catch{j=!1}var B=null,U=null,F=null;function L(){if(F)return F;var e,t=U,a=t.length,n,u="value"in B?B.value:B.textContent,d=u.length;for(e=0;e<a&&t[e]===u[e];e++);var g=a-e;for(n=1;n<=g&&t[a-n]===u[d-n];n++);return F=u.slice(e,1<n?1-n:void 0)}function $(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function X(){return!0}function Z(){return!1}function K(e){function t(a,n,u,d,g){this._reactName=a,this._targetInst=u,this.type=n,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?X:Z,this.isPropagationStopped=Z,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=X)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=X)},persist:function(){},isPersistent:X}),t}var J={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},se=K(J),ye=b({},J,{view:0,detail:0}),Ce=K(ye),me,ve,Le,Ie=b({},ye,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Da,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Le&&(Le&&e.type==="mousemove"?(me=e.screenX-Le.screenX,ve=e.screenY-Le.screenY):ve=me=0,Le=e),me)},movementY:function(e){return"movementY"in e?e.movementY:ve}}),Ae=K(Ie),we=b({},Ie,{dataTransfer:0}),gt=K(we),tt=b({},ye,{relatedTarget:0}),at=K(tt),Aa=b({},J,{animationName:0,elapsedTime:0,pseudoElement:0}),il=K(Aa),cl=b({},J,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rt=K(cl),_a=b({},J,{data:0}),$n=K(_a),xc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ks={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ks[e])?!!t[e]:!1}function Da(){return Lr}var Dm=b({},ye,{key:function(e){if(e.key){var t=xc[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Da,charCode:function(e){return e.type==="keypress"?$(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Im=K(Dm),Um=b({},Ie,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=K(Um),Hm=b({},ye,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Da}),Pm=K(Hm),$m=b({},J,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gm=K($m),zm=b({},Ie,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ym=K(zm),Km=b({},J,{newState:0,oldState:0}),Vm=K(Km),qm=[9,13,27,32],yc=k&&"CompositionEvent"in window,kr=null;k&&"documentMode"in document&&(kr=document.documentMode);var Fm=k&&"TextEvent"in window&&!kr,Xo=k&&(!yc||kr&&8<kr&&11>=kr),Wo=" ",Zo=!1;function Qo(e,t){switch(e){case"keyup":return qm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jo(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Xm(e,t){switch(e){case"compositionend":return Jo(t);case"keypress":return t.which!==32?null:(Zo=!0,Wo);case"textInput":return e=t.data,e===Wo&&Zo?null:e;default:return null}}function Wm(e,t){if(Gn)return e==="compositionend"||!yc&&Qo(e,t)?(e=L(),F=U=B=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xo&&t.locale!=="ko"?null:t.data;default:return null}}var Zm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ed(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zm[e.type]:t==="textarea"}function td(e,t,a,n){kl?Ml?Ml.push(n):Ml=[n]:kl=n,t=Oi(t,"onChange"),0<t.length&&(a=new se("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Mr=null,_r=null;function Qm(e){Dh(e,0)}function Vs(e){var t=Ma(e);if(Is(t))return e}function ad(e,t){if(e==="change")return t}var ld=!1;if(k){var gc;if(k){var bc="oninput"in document;if(!bc){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),bc=typeof nd.oninput=="function"}gc=bc}else gc=!1;ld=gc&&(!document.documentMode||9<document.documentMode)}function rd(){Mr&&(Mr.detachEvent("onpropertychange",sd),_r=Mr=null)}function sd(e){if(e.propertyName==="value"&&Vs(_r)){var t=[];td(t,_r,e,jr(e)),Ys(Qm,t)}}function Jm(e,t,a){e==="focusin"?(rd(),Mr=t,_r=a,Mr.attachEvent("onpropertychange",sd)):e==="focusout"&&rd()}function e0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Vs(_r)}function t0(e,t){if(e==="click")return Vs(t)}function a0(e,t){if(e==="input"||e==="change")return Vs(t)}function l0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ha=typeof Object.is=="function"?Object.is:l0;function Dr(e,t){if(ha(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var u=a[n];if(!tl.call(t,u)||!ha(e[u],t[u]))return!1}return!0}function id(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cd(e,t){var a=id(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=id(a)}}function ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function od(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hn(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Hn(e.document)}return t}function Ec(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var n0=k&&"documentMode"in document&&11>=document.documentMode,zn=null,vc=null,Ir=null,Nc=!1;function dd(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Nc||zn==null||zn!==Hn(n)||(n=zn,"selectionStart"in n&&Ec(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ir&&Dr(Ir,n)||(Ir=n,n=Oi(vc,"onSelect"),0<n.length&&(t=new se("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=zn)))}function yn(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Yn={animationend:yn("Animation","AnimationEnd"),animationiteration:yn("Animation","AnimationIteration"),animationstart:yn("Animation","AnimationStart"),transitionrun:yn("Transition","TransitionRun"),transitionstart:yn("Transition","TransitionStart"),transitioncancel:yn("Transition","TransitionCancel"),transitionend:yn("Transition","TransitionEnd")},Tc={},fd={};k&&(fd=document.createElement("div").style,"AnimationEvent"in window||(delete Yn.animationend.animation,delete Yn.animationiteration.animation,delete Yn.animationstart.animation),"TransitionEvent"in window||delete Yn.transitionend.transition);function gn(e){if(Tc[e])return Tc[e];if(!Yn[e])return e;var t=Yn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in fd)return Tc[e]=t[a];return e}var hd=gn("animationend"),pd=gn("animationiteration"),md=gn("animationstart"),r0=gn("transitionrun"),s0=gn("transitionstart"),i0=gn("transitioncancel"),xd=gn("transitionend"),yd=new Map,Ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ac.push("scrollEnd");function Ia(e,t){yd.set(e,t),sl(t,[e])}var gd=new WeakMap;function Ca(e,t){if(typeof e=="object"&&e!==null){var a=gd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:_s(t)},gd.set(e,t),t)}return{value:e,source:t,stack:_s(t)}}var Sa=[],Kn=0,Cc=0;function qs(){for(var e=Kn,t=Cc=Kn=0;t<e;){var a=Sa[t];Sa[t++]=null;var n=Sa[t];Sa[t++]=null;var u=Sa[t];Sa[t++]=null;var d=Sa[t];if(Sa[t++]=null,n!==null&&u!==null){var g=n.pending;g===null?u.next=u:(u.next=g.next,g.next=u),n.pending=u}d!==0&&bd(a,u,d)}}function Fs(e,t,a,n){Sa[Kn++]=e,Sa[Kn++]=t,Sa[Kn++]=a,Sa[Kn++]=n,Cc|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Sc(e,t,a,n){return Fs(e,t,a,n),Xs(e)}function Vn(e,t){return Fs(e,null,null,t),Xs(e)}function bd(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var u=!1,d=e.return;d!==null;)d.childLanes|=a,n=d.alternate,n!==null&&(n.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-et(a),e=d.hiddenUpdates,n=e[u],n===null?e[u]=[t]:n.push(t),t.lane=a|536870912),d):null}function Xs(e){if(50<cs)throw cs=0,Lu=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var qn={};function c0(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pa(e,t,a,n){return new c0(e,t,a,n)}function Rc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ul(e,t){var a=e.alternate;return a===null?(a=pa(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ed(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ws(e,t,a,n,u,d){var g=0;if(n=e,typeof e=="function")Rc(e)&&(g=1);else if(typeof e=="string")g=ox(e,a,Ne.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case oe:return e=pa(31,a,t,u),e.elementType=oe,e.lanes=d,e;case C:return bn(a.children,u,d,t);case h:g=8,u|=24;break;case E:return e=pa(12,a,t,u|2),e.elementType=E,e.lanes=d,e;case Q:return e=pa(13,a,t,u),e.elementType=Q,e.lanes=d,e;case ie:return e=pa(19,a,t,u),e.elementType=ie,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:case I:g=10;break e;case M:g=9;break e;case le:g=11;break e;case Ee:g=14;break e;case fe:g=16,n=null;break e}g=29,a=Error(c(130,e===null?"null":typeof e,"")),n=null}return t=pa(g,a,t,u),t.elementType=e,t.type=n,t.lanes=d,t}function bn(e,t,a,n){return e=pa(7,e,n,t),e.lanes=a,e}function wc(e,t,a){return e=pa(6,e,null,t),e.lanes=a,e}function Bc(e,t,a){return t=pa(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Fn=[],Xn=0,Zs=null,Qs=0,Ra=[],wa=0,En=null,ol=1,dl="";function vn(e,t){Fn[Xn++]=Qs,Fn[Xn++]=Zs,Zs=e,Qs=t}function vd(e,t,a){Ra[wa++]=ol,Ra[wa++]=dl,Ra[wa++]=En,En=e;var n=ol;e=dl;var u=32-et(n)-1;n&=~(1<<u),a+=1;var d=32-et(t)+u;if(30<d){var g=u-u%5;d=(n&(1<<g)-1).toString(32),n>>=g,u-=g,ol=1<<32-et(t)+u|a<<u|n,dl=d+e}else ol=1<<d|a<<u|n,dl=e}function jc(e){e.return!==null&&(vn(e,1),vd(e,1,0))}function Oc(e){for(;e===Zs;)Zs=Fn[--Xn],Fn[Xn]=null,Qs=Fn[--Xn],Fn[Xn]=null;for(;e===En;)En=Ra[--wa],Ra[wa]=null,dl=Ra[--wa],Ra[wa]=null,ol=Ra[--wa],Ra[wa]=null}var Qt=null,bt=null,Qe=!1,Nn=null,Xa=!1,Lc=Error(c(519));function Tn(e){var t=Error(c(418,""));throw Pr(Ca(t,e)),Lc}function Nd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[St]=e,t[Ut]=n,a){case"dialog":Ye("cancel",t),Ye("close",t);break;case"iframe":case"object":case"embed":Ye("load",t);break;case"video":case"audio":for(a=0;a<os.length;a++)Ye(os[a],t);break;case"source":Ye("error",t);break;case"img":case"image":case"link":Ye("error",t),Ye("load",t);break;case"details":Ye("toggle",t);break;case"input":Ye("invalid",t),Us(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),Un(t);break;case"select":Ye("invalid",t);break;case"textarea":Ye("invalid",t),Ps(t,n.value,n.defaultValue,n.children),Un(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||Ph(t.textContent,a)?(n.popover!=null&&(Ye("beforetoggle",t),Ye("toggle",t)),n.onScroll!=null&&Ye("scroll",t),n.onScrollEnd!=null&&Ye("scrollend",t),n.onClick!=null&&(t.onclick=Li),t=!0):t=!1,t||Tn(e)}function Td(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 13:Xa=!1;return;case 27:case 3:Xa=!0;return;default:Qt=Qt.return}}function Ur(e){if(e!==Qt)return!1;if(!Qe)return Td(e),Qe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Fu(e.type,e.memoizedProps)),a=!a),a&&bt&&Tn(e),Td(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){bt=Ha(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}bt=null}}else t===27?(t=bt,Wl(e.type)?(e=Qu,Qu=null,bt=e):bt=t):bt=Qt?Ha(e.stateNode.nextSibling):null;return!0}function Hr(){bt=Qt=null,Qe=!1}function Ad(){var e=Nn;return e!==null&&(oa===null?oa=e:oa.push.apply(oa,e),Nn=null),e}function Pr(e){Nn===null?Nn=[e]:Nn.push(e)}var kc=ne(null),An=null,fl=null;function _l(e,t,a){he(kc,t._currentValue),t._currentValue=a}function hl(e){e._currentValue=kc.current,xe(kc)}function Mc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function _c(e,t,a,n){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=u;for(var _=0;_<t.length;_++)if(T.context===t[_]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Mc(d.return,a,e),n||(g=null);break e}d=T.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(c(341));g.lanes|=a,d=g.alternate,d!==null&&(d.lanes|=a),Mc(g,a,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function $r(e,t,a,n){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(c(387));if(g=g.memoizedProps,g!==null){var T=u.type;ha(u.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(u===kt.current){if(g=u.alternate,g===null)throw Error(c(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(xs):e=[xs])}u=u.return}e!==null&&_c(t,e,a,n),t.flags|=262144}function Js(e){for(e=e.firstContext;e!==null;){if(!ha(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cn(e){An=e,fl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return Cd(An,e)}function ei(e,t){return An===null&&Cn(e),Cd(e,t)}function Cd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},fl===null){if(e===null)throw Error(c(308));fl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fl=fl.next=t;return a}var u0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},o0=l.unstable_scheduleCallback,d0=l.unstable_NormalPriority,_t={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new u0,data:new Map,refCount:0}}function Gr(e){e.refCount--,e.refCount===0&&o0(d0,function(){e.controller.abort()})}var zr=null,Ic=0,Wn=0,Zn=null;function f0(e,t){if(zr===null){var a=zr=[];Ic=0,Wn=Hu(),Zn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Ic++,t.then(Sd,Sd),t}function Sd(){if(--Ic===0&&zr!==null){Zn!==null&&(Zn.status="fulfilled");var e=zr;zr=null,Wn=0,Zn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function h0(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(n.status="rejected",n.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),n}var Rd=W.S;W.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&f0(e,t),Rd!==null&&Rd(e,t)};var Sn=ne(null);function Uc(){var e=Sn.current;return e!==null?e:dt.pooledCache}function ti(e,t){t===null?he(Sn,Sn.current):he(Sn,t.pool)}function wd(){var e=Uc();return e===null?null:{parent:_t._currentValue,pool:e}}var Yr=Error(c(460)),Bd=Error(c(474)),ai=Error(c(542)),Hc={then:function(){}};function jd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function li(){}function Od(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(li,li),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(li,li);else{if(e=dt,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=n}},function(n){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw Kr=t,Yr}}var Kr=null;function Ld(){if(Kr===null)throw Error(c(459));var e=Kr;return Kr=null,e}function kd(e){if(e===Yr||e===ai)throw Error(c(483))}var Dl=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Il(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ul(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(lt&2)!==0){var u=n.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),n.pending=t,t=Xs(e),bd(e,null,a),t}return Fs(e,n,t,a),Xs(e)}function Vr(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ht(e,a)}}function Gc(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,a=a.next}while(a!==null);d===null?u=d=t:d=d.next=t}else u=d=t;a={baseState:n.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var zc=!1;function qr(){if(zc){var e=Zn;if(e!==null)throw e}}function Fr(e,t,a,n){zc=!1;var u=e.updateQueue;Dl=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,T=u.shared.pending;if(T!==null){u.shared.pending=null;var _=T,Y=_.next;_.next=null,g===null?d=Y:g.next=Y,g=_;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,T=ee.lastBaseUpdate,T!==g&&(T===null?ee.firstBaseUpdate=Y:T.next=Y,ee.lastBaseUpdate=_))}if(d!==null){var ae=u.baseState;g=0,ee=Y=_=null,T=d;do{var V=T.lane&-536870913,q=V!==T.lane;if(q?(qe&V)===V:(n&V)===V){V!==0&&V===Wn&&(zc=!0),ee!==null&&(ee=ee.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ke=e,Se=T;V=t;var ct=a;switch(Se.tag){case 1:if(ke=Se.payload,typeof ke=="function"){ae=ke.call(ct,ae,V);break e}ae=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Se.payload,V=typeof ke=="function"?ke.call(ct,ae,V):ke,V==null)break e;ae=b({},ae,V);break e;case 2:Dl=!0}}V=T.callback,V!==null&&(e.flags|=64,q&&(e.flags|=8192),q=u.callbacks,q===null?u.callbacks=[V]:q.push(V))}else q={lane:V,tag:T.tag,payload:T.payload,callback:T.callback,next:null},ee===null?(Y=ee=q,_=ae):ee=ee.next=q,g|=V;if(T=T.next,T===null){if(T=u.shared.pending,T===null)break;q=T,T=q.next,q.next=null,u.lastBaseUpdate=q,u.shared.pending=null}}while(!0);ee===null&&(_=ae),u.baseState=_,u.firstBaseUpdate=Y,u.lastBaseUpdate=ee,d===null&&(u.shared.lanes=0),Vl|=g,e.lanes=g,e.memoizedState=ae}}function Md(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function _d(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Md(a[e],t)}var Qn=ne(null),ni=ne(0);function Dd(e,t){e=El,he(ni,e),he(Qn,t),El=e|t.baseLanes}function Yc(){he(ni,El),he(Qn,Qn.current)}function Kc(){El=ni.current,xe(Qn),xe(ni)}var Hl=0,Pe=null,st=null,wt=null,ri=!1,Jn=!1,Rn=!1,si=0,Xr=0,er=null,p0=0;function Tt(){throw Error(c(321))}function Vc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ha(e[a],t[a]))return!1;return!0}function qc(e,t,a,n,u,d){return Hl=d,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,W.H=e===null||e.memoizedState===null?Ef:vf,Rn=!1,d=a(n,u),Rn=!1,Jn&&(d=Ud(t,a,n,u)),Id(e),d}function Id(e){W.H=fi;var t=st!==null&&st.next!==null;if(Hl=0,wt=st=Pe=null,ri=!1,Xr=0,er=null,t)throw Error(c(300));e===null||Pt||(e=e.dependencies,e!==null&&Js(e)&&(Pt=!0))}function Ud(e,t,a,n){Pe=e;var u=0;do{if(Jn&&(er=null),Xr=0,Jn=!1,25<=u)throw Error(c(301));if(u+=1,wt=st=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=v0,d=t(a,n)}while(Jn);return d}function m0(){var e=W.H,t=e.useState()[0];return t=typeof t.then=="function"?Wr(t):t,e=e.useState()[0],(st!==null?st.memoizedState:null)!==e&&(Pe.flags|=1024),t}function Fc(){var e=si!==0;return si=0,e}function Xc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Wc(e){if(ri){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ri=!1}Hl=0,wt=st=Pe=null,Jn=!1,Xr=si=0,er=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?Pe.memoizedState=wt=e:wt=wt.next=e,wt}function Bt(){if(st===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=st.next;var t=wt===null?Pe.memoizedState:wt.next;if(t!==null)wt=t,st=e;else{if(e===null)throw Pe.alternate===null?Error(c(467)):Error(c(310));st=e,e={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},wt===null?Pe.memoizedState=wt=e:wt=wt.next=e}return wt}function Zc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wr(e){var t=Xr;return Xr+=1,er===null&&(er=[]),e=Od(er,e,t),t=Pe,(wt===null?t.memoizedState:wt.next)===null&&(t=t.alternate,W.H=t===null||t.memoizedState===null?Ef:vf),e}function ii(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wr(e);if(e.$$typeof===I)return qt(e)}throw Error(c(438,String(e)))}function Qc(e){var t=null,a=Pe.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=Pe.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Zc(),Pe.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=je;return t.index++,a}function pl(e,t){return typeof t=="function"?t(e):t}function ci(e){var t=Bt();return Jc(t,st,e)}function Jc(e,t,a){var n=e.queue;if(n===null)throw Error(c(311));n.lastRenderedReducer=a;var u=e.baseQueue,d=n.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}t.baseQueue=u=d,n.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var T=g=null,_=null,Y=t,ee=!1;do{var ae=Y.lane&-536870913;if(ae!==Y.lane?(qe&ae)===ae:(Hl&ae)===ae){var V=Y.revertLane;if(V===0)_!==null&&(_=_.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ae===Wn&&(ee=!0);else if((Hl&V)===V){Y=Y.next,V===Wn&&(ee=!0);continue}else ae={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(T=_=ae,g=d):_=_.next=ae,Pe.lanes|=V,Vl|=V;ae=Y.action,Rn&&a(d,ae),d=Y.hasEagerState?Y.eagerState:a(d,ae)}else V={lane:ae,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},_===null?(T=_=V,g=d):_=_.next=V,Pe.lanes|=ae,Vl|=ae;Y=Y.next}while(Y!==null&&Y!==t);if(_===null?g=d:_.next=T,!ha(d,e.memoizedState)&&(Pt=!0,ee&&(a=Zn,a!==null)))throw a;e.memoizedState=d,e.baseState=g,e.baseQueue=_,n.lastRenderedState=d}return u===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function eu(e){var t=Bt(),a=t.queue;if(a===null)throw Error(c(311));a.lastRenderedReducer=e;var n=a.dispatch,u=a.pending,d=t.memoizedState;if(u!==null){a.pending=null;var g=u=u.next;do d=e(d,g.action),g=g.next;while(g!==u);ha(d,t.memoizedState)||(Pt=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,n]}function Hd(e,t,a){var n=Pe,u=Bt(),d=Qe;if(d){if(a===void 0)throw Error(c(407));a=a()}else a=t();var g=!ha((st||u).memoizedState,a);g&&(u.memoizedState=a,Pt=!0),u=u.queue;var T=Gd.bind(null,n,u,e);if(Zr(2048,8,T,[e]),u.getSnapshot!==t||g||wt!==null&&wt.memoizedState.tag&1){if(n.flags|=2048,tr(9,ui(),$d.bind(null,n,u,a,t),null),dt===null)throw Error(c(349));d||(Hl&124)!==0||Pd(n,t,a)}return a}function Pd(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Pe.updateQueue,t===null?(t=Zc(),Pe.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function $d(e,t,a,n){t.value=a,t.getSnapshot=n,zd(t)&&Yd(e)}function Gd(e,t,a){return a(function(){zd(t)&&Yd(e)})}function zd(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ha(e,a)}catch{return!0}}function Yd(e){var t=Vn(e,2);t!==null&&ba(t,e,2)}function tu(e){var t=ca();if(typeof e=="function"){var a=e;if(e=a(),Rn){zt(!0);try{a()}finally{zt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:e},t}function Kd(e,t,a,n){return e.baseState=a,Jc(e,st,typeof n=="function"?n:pl)}function x0(e,t,a,n,u){if(di(e))throw Error(c(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};W.T!==null?a(!0):d.isTransition=!1,n(d),a=t.pending,a===null?(d.next=t.pending=d,Vd(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Vd(e,t){var a=t.action,n=t.payload,u=e.state;if(t.isTransition){var d=W.T,g={};W.T=g;try{var T=a(u,n),_=W.S;_!==null&&_(g,T),qd(e,t,T)}catch(Y){au(e,t,Y)}finally{W.T=d}}else try{d=a(u,n),qd(e,t,d)}catch(Y){au(e,t,Y)}}function qd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){Fd(e,t,n)},function(n){return au(e,t,n)}):Fd(e,t,a)}function Fd(e,t,a){t.status="fulfilled",t.value=a,Xd(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Vd(e,a)))}function au(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Xd(t),t=t.next;while(t!==n)}e.action=null}function Xd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wd(e,t){return t}function Zd(e,t){if(Qe){var a=dt.formState;if(a!==null){e:{var n=Pe;if(Qe){if(bt){t:{for(var u=bt,d=Xa;u.nodeType!==8;){if(!d){u=null;break t}if(u=Ha(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){bt=Ha(u.nextSibling),n=u.data==="F!";break e}}Tn(n)}n=!1}n&&(t=a[0])}}return a=ca(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wd,lastRenderedState:t},a.queue=n,a=yf.bind(null,Pe,n),n.dispatch=a,n=tu(!1),d=iu.bind(null,Pe,!1,n.queue),n=ca(),u={state:t,dispatch:null,action:e,pending:null},n.queue=u,a=x0.bind(null,Pe,u,d,a),u.dispatch=a,n.memoizedState=e,[t,a,!1]}function Qd(e){var t=Bt();return Jd(t,st,e)}function Jd(e,t,a){if(t=Jc(e,t,Wd)[0],e=ci(pl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Wr(t)}catch(g){throw g===Yr?ai:g}else n=t;t=Bt();var u=t.queue,d=u.dispatch;return a!==t.memoizedState&&(Pe.flags|=2048,tr(9,ui(),y0.bind(null,u,a),null)),[n,d,e]}function y0(e,t){e.action=t}function ef(e){var t=Bt(),a=st;if(a!==null)return Jd(t,a,e);Bt(),t=t.memoizedState,a=Bt();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function tr(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=Pe.updateQueue,t===null&&(t=Zc(),Pe.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function ui(){return{destroy:void 0,resource:void 0}}function tf(){return Bt().memoizedState}function oi(e,t,a,n){var u=ca();n=n===void 0?null:n,Pe.flags|=e,u.memoizedState=tr(1|t,ui(),a,n)}function Zr(e,t,a,n){var u=Bt();n=n===void 0?null:n;var d=u.memoizedState.inst;st!==null&&n!==null&&Vc(n,st.memoizedState.deps)?u.memoizedState=tr(t,d,a,n):(Pe.flags|=e,u.memoizedState=tr(1|t,d,a,n))}function af(e,t){oi(8390656,8,e,t)}function lf(e,t){Zr(2048,8,e,t)}function nf(e,t){return Zr(4,2,e,t)}function rf(e,t){return Zr(4,4,e,t)}function sf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cf(e,t,a){a=a!=null?a.concat([e]):null,Zr(4,4,sf.bind(null,t,e),a)}function lu(){}function uf(e,t){var a=Bt();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Vc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function of(e,t){var a=Bt();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Vc(t,n[1]))return n[0];if(n=e(),Rn){zt(!0);try{e()}finally{zt(!1)}}return a.memoizedState=[n,t],n}function nu(e,t,a){return a===void 0||(Hl&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=hh(),Pe.lanes|=e,Vl|=e,a)}function df(e,t,a,n){return ha(a,t)?a:Qn.current!==null?(e=nu(e,a,n),ha(e,t)||(Pt=!0),e):(Hl&42)===0?(Pt=!0,e.memoizedState=a):(e=hh(),Pe.lanes|=e,Vl|=e,t)}function ff(e,t,a,n,u){var d=de.p;de.p=d!==0&&8>d?d:8;var g=W.T,T={};W.T=T,iu(e,!1,t,a);try{var _=u(),Y=W.S;if(Y!==null&&Y(T,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var ee=h0(_,n);Qr(e,t,ee,ga(e))}else Qr(e,t,n,ga(e))}catch(ae){Qr(e,t,{then:function(){},status:"rejected",reason:ae},ga())}finally{de.p=d,W.T=g}}function g0(){}function ru(e,t,a,n){if(e.tag!==5)throw Error(c(476));var u=hf(e).queue;ff(e,u,t,ge,a===null?g0:function(){return pf(e),a(n)})}function hf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:ge},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pf(e){var t=hf(e).next.queue;Qr(e,t,{},ga())}function su(){return qt(xs)}function mf(){return Bt().memoizedState}function xf(){return Bt().memoizedState}function b0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ga();e=Il(a);var n=Ul(t,e,a);n!==null&&(ba(n,t,a),Vr(n,t,a)),t={cache:Dc()},e.payload=t;return}t=t.return}}function E0(e,t,a){var n=ga();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},di(e)?gf(t,a):(a=Sc(e,t,a,n),a!==null&&(ba(a,e,n),bf(a,t,n)))}function yf(e,t,a){var n=ga();Qr(e,t,a,n)}function Qr(e,t,a,n){var u={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(di(e))gf(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,T=d(g,a);if(u.hasEagerState=!0,u.eagerState=T,ha(T,g))return Fs(e,t,u,0),dt===null&&qs(),!1}catch{}finally{}if(a=Sc(e,t,u,n),a!==null)return ba(a,e,n),bf(a,t,n),!0}return!1}function iu(e,t,a,n){if(n={lane:2,revertLane:Hu(),action:n,hasEagerState:!1,eagerState:null,next:null},di(e)){if(t)throw Error(c(479))}else t=Sc(e,a,n,2),t!==null&&ba(t,e,2)}function di(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function gf(e,t){Jn=ri=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function bf(e,t,a){if((a&4194048)!==0){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,ht(e,a)}}var fi={readContext:qt,use:ii,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt},Ef={readContext:qt,use:ii,useCallback:function(e,t){return ca().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:af,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,oi(4194308,4,sf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return oi(4194308,4,e,t)},useInsertionEffect:function(e,t){oi(4,2,e,t)},useMemo:function(e,t){var a=ca();t=t===void 0?null:t;var n=e();if(Rn){zt(!0);try{e()}finally{zt(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=ca();if(a!==void 0){var u=a(t);if(Rn){zt(!0);try{a(t)}finally{zt(!1)}}}else u=t;return n.memoizedState=n.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},n.queue=e,e=e.dispatch=E0.bind(null,Pe,e),[n.memoizedState,e]},useRef:function(e){var t=ca();return e={current:e},t.memoizedState=e},useState:function(e){e=tu(e);var t=e.queue,a=yf.bind(null,Pe,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:lu,useDeferredValue:function(e,t){var a=ca();return nu(a,e,t)},useTransition:function(){var e=tu(!1);return e=ff.bind(null,Pe,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=Pe,u=ca();if(Qe){if(a===void 0)throw Error(c(407));a=a()}else{if(a=t(),dt===null)throw Error(c(349));(qe&124)!==0||Pd(n,t,a)}u.memoizedState=a;var d={value:a,getSnapshot:t};return u.queue=d,af(Gd.bind(null,n,d,e),[e]),n.flags|=2048,tr(9,ui(),$d.bind(null,n,d,a,t),null),a},useId:function(){var e=ca(),t=dt.identifierPrefix;if(Qe){var a=dl,n=ol;a=(n&~(1<<32-et(n)-1)).toString(32)+a,t=""+t+"R"+a,a=si++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=p0++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:su,useFormState:Zd,useActionState:Zd,useOptimistic:function(e){var t=ca();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=iu.bind(null,Pe,!0,a),a.dispatch=t,[e,t]},useMemoCache:Qc,useCacheRefresh:function(){return ca().memoizedState=b0.bind(null,Pe)}},vf={readContext:qt,use:ii,useCallback:uf,useContext:qt,useEffect:lf,useImperativeHandle:cf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:of,useReducer:ci,useRef:tf,useState:function(){return ci(pl)},useDebugValue:lu,useDeferredValue:function(e,t){var a=Bt();return df(a,st.memoizedState,e,t)},useTransition:function(){var e=ci(pl)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Wr(e),t]},useSyncExternalStore:Hd,useId:mf,useHostTransitionStatus:su,useFormState:Qd,useActionState:Qd,useOptimistic:function(e,t){var a=Bt();return Kd(a,st,e,t)},useMemoCache:Qc,useCacheRefresh:xf},v0={readContext:qt,use:ii,useCallback:uf,useContext:qt,useEffect:lf,useImperativeHandle:cf,useInsertionEffect:nf,useLayoutEffect:rf,useMemo:of,useReducer:eu,useRef:tf,useState:function(){return eu(pl)},useDebugValue:lu,useDeferredValue:function(e,t){var a=Bt();return st===null?nu(a,e,t):df(a,st.memoizedState,e,t)},useTransition:function(){var e=eu(pl)[0],t=Bt().memoizedState;return[typeof e=="boolean"?e:Wr(e),t]},useSyncExternalStore:Hd,useId:mf,useHostTransitionStatus:su,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var a=Bt();return st!==null?Kd(a,st,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Qc,useCacheRefresh:xf},ar=null,Jr=0;function hi(e){var t=Jr;return Jr+=1,ar===null&&(ar=[]),Od(ar,e,t)}function es(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function pi(e,t){throw t.$$typeof===y?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Nf(e){var t=e._init;return t(e._payload)}function Tf(e){function t(G,P){if(e){var z=G.deletions;z===null?(G.deletions=[P],G.flags|=16):z.push(P)}}function a(G,P){if(!e)return null;for(;P!==null;)t(G,P),P=P.sibling;return null}function n(G){for(var P=new Map;G!==null;)G.key!==null?P.set(G.key,G):P.set(G.index,G),G=G.sibling;return P}function u(G,P){return G=ul(G,P),G.index=0,G.sibling=null,G}function d(G,P,z){return G.index=z,e?(z=G.alternate,z!==null?(z=z.index,z<P?(G.flags|=67108866,P):z):(G.flags|=67108866,P)):(G.flags|=1048576,P)}function g(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function T(G,P,z,te){return P===null||P.tag!==6?(P=wc(z,G.mode,te),P.return=G,P):(P=u(P,z),P.return=G,P)}function _(G,P,z,te){var be=z.type;return be===C?ee(G,P,z.props.children,te,z.key):P!==null&&(P.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===fe&&Nf(be)===P.type)?(P=u(P,z.props),es(P,z),P.return=G,P):(P=Ws(z.type,z.key,z.props,null,G.mode,te),es(P,z),P.return=G,P)}function Y(G,P,z,te){return P===null||P.tag!==4||P.stateNode.containerInfo!==z.containerInfo||P.stateNode.implementation!==z.implementation?(P=Bc(z,G.mode,te),P.return=G,P):(P=u(P,z.children||[]),P.return=G,P)}function ee(G,P,z,te,be){return P===null||P.tag!==7?(P=bn(z,G.mode,te,be),P.return=G,P):(P=u(P,z),P.return=G,P)}function ae(G,P,z){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=wc(""+P,G.mode,z),P.return=G,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return z=Ws(P.type,P.key,P.props,null,G.mode,z),es(z,P),z.return=G,z;case A:return P=Bc(P,G.mode,z),P.return=G,P;case fe:var te=P._init;return P=te(P._payload),ae(G,P,z)}if(ot(P)||De(P))return P=bn(P,G.mode,z,null),P.return=G,P;if(typeof P.then=="function")return ae(G,hi(P),z);if(P.$$typeof===I)return ae(G,ei(G,P),z);pi(G,P)}return null}function V(G,P,z,te){var be=P!==null?P.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return be!==null?null:T(G,P,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case N:return z.key===be?_(G,P,z,te):null;case A:return z.key===be?Y(G,P,z,te):null;case fe:return be=z._init,z=be(z._payload),V(G,P,z,te)}if(ot(z)||De(z))return be!==null?null:ee(G,P,z,te,null);if(typeof z.then=="function")return V(G,P,hi(z),te);if(z.$$typeof===I)return V(G,P,ei(G,z),te);pi(G,z)}return null}function q(G,P,z,te,be){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return G=G.get(z)||null,T(P,G,""+te,be);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return G=G.get(te.key===null?z:te.key)||null,_(P,G,te,be);case A:return G=G.get(te.key===null?z:te.key)||null,Y(P,G,te,be);case fe:var Ge=te._init;return te=Ge(te._payload),q(G,P,z,te,be)}if(ot(te)||De(te))return G=G.get(z)||null,ee(P,G,te,be,null);if(typeof te.then=="function")return q(G,P,z,hi(te),be);if(te.$$typeof===I)return q(G,P,z,ei(P,te),be);pi(P,te)}return null}function ke(G,P,z,te){for(var be=null,Ge=null,Te=P,Be=P=0,Gt=null;Te!==null&&Be<z.length;Be++){Te.index>Be?(Gt=Te,Te=null):Gt=Te.sibling;var Ze=V(G,Te,z[Be],te);if(Ze===null){Te===null&&(Te=Gt);break}e&&Te&&Ze.alternate===null&&t(G,Te),P=d(Ze,P,Be),Ge===null?be=Ze:Ge.sibling=Ze,Ge=Ze,Te=Gt}if(Be===z.length)return a(G,Te),Qe&&vn(G,Be),be;if(Te===null){for(;Be<z.length;Be++)Te=ae(G,z[Be],te),Te!==null&&(P=d(Te,P,Be),Ge===null?be=Te:Ge.sibling=Te,Ge=Te);return Qe&&vn(G,Be),be}for(Te=n(Te);Be<z.length;Be++)Gt=q(Te,G,Be,z[Be],te),Gt!==null&&(e&&Gt.alternate!==null&&Te.delete(Gt.key===null?Be:Gt.key),P=d(Gt,P,Be),Ge===null?be=Gt:Ge.sibling=Gt,Ge=Gt);return e&&Te.forEach(function(tn){return t(G,tn)}),Qe&&vn(G,Be),be}function Se(G,P,z,te){if(z==null)throw Error(c(151));for(var be=null,Ge=null,Te=P,Be=P=0,Gt=null,Ze=z.next();Te!==null&&!Ze.done;Be++,Ze=z.next()){Te.index>Be?(Gt=Te,Te=null):Gt=Te.sibling;var tn=V(G,Te,Ze.value,te);if(tn===null){Te===null&&(Te=Gt);break}e&&Te&&tn.alternate===null&&t(G,Te),P=d(tn,P,Be),Ge===null?be=tn:Ge.sibling=tn,Ge=tn,Te=Gt}if(Ze.done)return a(G,Te),Qe&&vn(G,Be),be;if(Te===null){for(;!Ze.done;Be++,Ze=z.next())Ze=ae(G,Ze.value,te),Ze!==null&&(P=d(Ze,P,Be),Ge===null?be=Ze:Ge.sibling=Ze,Ge=Ze);return Qe&&vn(G,Be),be}for(Te=n(Te);!Ze.done;Be++,Ze=z.next())Ze=q(Te,G,Be,Ze.value,te),Ze!==null&&(e&&Ze.alternate!==null&&Te.delete(Ze.key===null?Be:Ze.key),P=d(Ze,P,Be),Ge===null?be=Ze:Ge.sibling=Ze,Ge=Ze);return e&&Te.forEach(function(Nx){return t(G,Nx)}),Qe&&vn(G,Be),be}function ct(G,P,z,te){if(typeof z=="object"&&z!==null&&z.type===C&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case N:e:{for(var be=z.key;P!==null;){if(P.key===be){if(be=z.type,be===C){if(P.tag===7){a(G,P.sibling),te=u(P,z.props.children),te.return=G,G=te;break e}}else if(P.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===fe&&Nf(be)===P.type){a(G,P.sibling),te=u(P,z.props),es(te,z),te.return=G,G=te;break e}a(G,P);break}else t(G,P);P=P.sibling}z.type===C?(te=bn(z.props.children,G.mode,te,z.key),te.return=G,G=te):(te=Ws(z.type,z.key,z.props,null,G.mode,te),es(te,z),te.return=G,G=te)}return g(G);case A:e:{for(be=z.key;P!==null;){if(P.key===be)if(P.tag===4&&P.stateNode.containerInfo===z.containerInfo&&P.stateNode.implementation===z.implementation){a(G,P.sibling),te=u(P,z.children||[]),te.return=G,G=te;break e}else{a(G,P);break}else t(G,P);P=P.sibling}te=Bc(z,G.mode,te),te.return=G,G=te}return g(G);case fe:return be=z._init,z=be(z._payload),ct(G,P,z,te)}if(ot(z))return ke(G,P,z,te);if(De(z)){if(be=De(z),typeof be!="function")throw Error(c(150));return z=be.call(z),Se(G,P,z,te)}if(typeof z.then=="function")return ct(G,P,hi(z),te);if(z.$$typeof===I)return ct(G,P,ei(G,z),te);pi(G,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,P!==null&&P.tag===6?(a(G,P.sibling),te=u(P,z),te.return=G,G=te):(a(G,P),te=wc(z,G.mode,te),te.return=G,G=te),g(G)):a(G,P)}return function(G,P,z,te){try{Jr=0;var be=ct(G,P,z,te);return ar=null,be}catch(Te){if(Te===Yr||Te===ai)throw Te;var Ge=pa(29,Te,null,G.mode);return Ge.lanes=te,Ge.return=G,Ge}finally{}}}var lr=Tf(!0),Af=Tf(!1),Ba=ne(null),Wa=null;function Pl(e){var t=e.alternate;he(Dt,Dt.current&1),he(Ba,e),Wa===null&&(t===null||Qn.current!==null||t.memoizedState!==null)&&(Wa=e)}function Cf(e){if(e.tag===22){if(he(Dt,Dt.current),he(Ba,e),Wa===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Wa=e)}}else $l()}function $l(){he(Dt,Dt.current),he(Ba,Ba.current)}function ml(e){xe(Ba),Wa===e&&(Wa=null),xe(Dt)}var Dt=ne(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function cu(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:b({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var uu={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ga(),u=Il(n);u.payload=t,a!=null&&(u.callback=a),t=Ul(e,u,n),t!==null&&(ba(t,e,n),Vr(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ga(),u=Il(n);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=Ul(e,u,n),t!==null&&(ba(t,e,n),Vr(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ga(),n=Il(a);n.tag=2,t!=null&&(n.callback=t),t=Ul(e,n,a),t!==null&&(ba(t,e,a),Vr(t,e,a))}};function Sf(e,t,a,n,u,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,d,g):t.prototype&&t.prototype.isPureReactComponent?!Dr(a,n)||!Dr(u,d):!0}function Rf(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&uu.enqueueReplaceState(t,t.state,null)}function wn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}var xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}};function wf(e){xi(e)}function Bf(e){}function jf(e){xi(e)}function yi(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Of(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function ou(e,t,a){return a=Il(a),a.tag=3,a.payload={element:null},a.callback=function(){yi(e,t)},a}function Lf(e){return e=Il(e),e.tag=3,e}function kf(e,t,a,n){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=n.value;e.payload=function(){return u(d)},e.callback=function(){Of(t,a,n)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Of(t,a,n),typeof u!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var T=n.stack;this.componentDidCatch(n.value,{componentStack:T!==null?T:""})})}function N0(e,t,a,n,u){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&$r(t,a,u,!0),a=Ba.current,a!==null){switch(a.tag){case 13:return Wa===null?Mu():a.alternate===null&&Et===0&&(Et=3),a.flags&=-257,a.flags|=65536,a.lanes=u,n===Hc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Du(e,n,u)),!1;case 22:return a.flags|=65536,n===Hc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Du(e,n,u)),!1}throw Error(c(435,a.tag))}return Du(e,n,u),Mu(),!1}if(Qe)return t=Ba.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,n!==Lc&&(e=Error(c(422),{cause:n}),Pr(Ca(e,a)))):(n!==Lc&&(t=Error(c(423),{cause:n}),Pr(Ca(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,n=Ca(n,a),u=ou(e.stateNode,n,u),Gc(e,u),Et!==4&&(Et=2)),!1;var d=Error(c(520),{cause:n});if(d=Ca(d,a),is===null?is=[d]:is.push(d),Et!==4&&(Et=2),t===null)return!0;n=Ca(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=ou(a.stateNode,n,e),Gc(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ql===null||!ql.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=Lf(u),kf(u,e,a,n),Gc(a,u),!1}a=a.return}while(a!==null);return!1}var Mf=Error(c(461)),Pt=!1;function Yt(e,t,a,n){t.child=e===null?Af(t,null,a,n):lr(t,e.child,a,n)}function _f(e,t,a,n,u){a=a.render;var d=t.ref;if("ref"in n){var g={};for(var T in n)T!=="ref"&&(g[T]=n[T])}else g=n;return Cn(t),n=qc(e,t,a,g,d,u),T=Fc(),e!==null&&!Pt?(Xc(e,t,u),xl(e,t,u)):(Qe&&T&&jc(t),t.flags|=1,Yt(e,t,n,u),t.child)}function Df(e,t,a,n,u){if(e===null){var d=a.type;return typeof d=="function"&&!Rc(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,If(e,t,d,n,u)):(e=Ws(a.type,null,n,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!gu(e,u)){var g=d.memoizedProps;if(a=a.compare,a=a!==null?a:Dr,a(g,n)&&e.ref===t.ref)return xl(e,t,u)}return t.flags|=1,e=ul(d,n),e.ref=t.ref,e.return=t,t.child=e}function If(e,t,a,n,u){if(e!==null){var d=e.memoizedProps;if(Dr(d,n)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=n=d,gu(e,u))(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,xl(e,t,u)}return du(e,t,a,n,u)}function Uf(e,t,a){var n=t.pendingProps,u=n.children,d=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if((t.flags&128)!==0){if(n=d!==null?d.baseLanes|a:a,e!==null){for(u=t.child=e.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;t.childLanes=d&~n}else t.childLanes=0,t.child=null;return Hf(e,t,n,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ti(t,d!==null?d.cachePool:null),d!==null?Dd(t,d):Yc(),Cf(t);else return t.lanes=t.childLanes=536870912,Hf(e,t,d!==null?d.baseLanes|a:a,a)}else d!==null?(ti(t,d.cachePool),Dd(t,d),$l(),t.memoizedState=null):(e!==null&&ti(t,null),Yc(),$l());return Yt(e,t,u,a),t.child}function Hf(e,t,a,n){var u=Uc();return u=u===null?null:{parent:_t._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&ti(t,null),Yc(),Cf(t),e!==null&&$r(e,t,n,!0),null}function gi(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(c(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function du(e,t,a,n,u){return Cn(t),a=qc(e,t,a,n,void 0,u),n=Fc(),e!==null&&!Pt?(Xc(e,t,u),xl(e,t,u)):(Qe&&n&&jc(t),t.flags|=1,Yt(e,t,a,u),t.child)}function Pf(e,t,a,n,u,d){return Cn(t),t.updateQueue=null,a=Ud(t,n,a,u),Id(e),n=Fc(),e!==null&&!Pt?(Xc(e,t,d),xl(e,t,d)):(Qe&&n&&jc(t),t.flags|=1,Yt(e,t,a,d),t.child)}function $f(e,t,a,n,u){if(Cn(t),t.stateNode===null){var d=qn,g=a.contextType;typeof g=="object"&&g!==null&&(d=qt(g)),d=new a(n,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=uu,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=n,d.state=t.memoizedState,d.refs={},Pc(t),g=a.contextType,d.context=typeof g=="object"&&g!==null?qt(g):qn,d.state=t.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(cu(t,a,g,n),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&uu.enqueueReplaceState(d,d.state,null),Fr(t,n,d,u),qr(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){d=t.stateNode;var T=t.memoizedProps,_=wn(a,T);d.props=_;var Y=d.context,ee=a.contextType;g=qn,typeof ee=="object"&&ee!==null&&(g=qt(ee));var ae=a.getDerivedStateFromProps;ee=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||Y!==g)&&Rf(t,d,n,g),Dl=!1;var V=t.memoizedState;d.state=V,Fr(t,n,d,u),qr(),Y=t.memoizedState,T||V!==Y||Dl?(typeof ae=="function"&&(cu(t,a,ae,n),Y=t.memoizedState),(_=Dl||Sf(t,a,_,n,V,Y,g))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=Y),d.props=n,d.state=Y,d.context=g,n=_):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{d=t.stateNode,$c(e,t),g=t.memoizedProps,ee=wn(a,g),d.props=ee,ae=t.pendingProps,V=d.context,Y=a.contextType,_=qn,typeof Y=="object"&&Y!==null&&(_=qt(Y)),T=a.getDerivedStateFromProps,(Y=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==ae||V!==_)&&Rf(t,d,n,_),Dl=!1,V=t.memoizedState,d.state=V,Fr(t,n,d,u),qr();var q=t.memoizedState;g!==ae||V!==q||Dl||e!==null&&e.dependencies!==null&&Js(e.dependencies)?(typeof T=="function"&&(cu(t,a,T,n),q=t.memoizedState),(ee=Dl||Sf(t,a,ee,n,V,q,_)||e!==null&&e.dependencies!==null&&Js(e.dependencies))?(Y||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(n,q,_),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(n,q,_)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=q),d.props=n,d.state=q,d.context=_,n=ee):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&V===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&V===e.memoizedState||(t.flags|=1024),n=!1)}return d=n,gi(e,t),n=(t.flags&128)!==0,d||n?(d=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&n?(t.child=lr(t,e.child,null,u),t.child=lr(t,null,a,u)):Yt(e,t,a,u),t.memoizedState=d.state,e=t.child):e=xl(e,t,u),e}function Gf(e,t,a,n){return Hr(),t.flags|=256,Yt(e,t,a,n),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:wd()}}function pu(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=ja),e}function zf(e,t,a){var n=t.pendingProps,u=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Qe){if(u?Pl(t):$l(),Qe){var T=bt,_;if(_=T){e:{for(_=T,T=Xa;_.nodeType!==8;){if(!T){T=null;break e}if(_=Ha(_.nextSibling),_===null){T=null;break e}}T=_}T!==null?(t.memoizedState={dehydrated:T,treeContext:En!==null?{id:ol,overflow:dl}:null,retryLane:536870912,hydrationErrors:null},_=pa(18,null,null,0),_.stateNode=T,_.return=t,t.child=_,Qt=t,bt=null,_=!0):_=!1}_||Tn(t)}if(T=t.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Zu(T)?t.lanes=32:t.lanes=536870912,null;ml(t)}return T=n.children,n=n.fallback,u?($l(),u=t.mode,T=bi({mode:"hidden",children:T},u),n=bn(n,u,a,null),T.return=t,n.return=t,T.sibling=n,t.child=T,u=t.child,u.memoizedState=hu(a),u.childLanes=pu(e,g,a),t.memoizedState=fu,n):(Pl(t),mu(t,T))}if(_=e.memoizedState,_!==null&&(T=_.dehydrated,T!==null)){if(d)t.flags&256?(Pl(t),t.flags&=-257,t=xu(e,t,a)):t.memoizedState!==null?($l(),t.child=e.child,t.flags|=128,t=null):($l(),u=n.fallback,T=t.mode,n=bi({mode:"visible",children:n.children},T),u=bn(u,T,a,null),u.flags|=2,n.return=t,u.return=t,n.sibling=u,t.child=n,lr(t,e.child,null,a),n=t.child,n.memoizedState=hu(a),n.childLanes=pu(e,g,a),t.memoizedState=fu,t=u);else if(Pl(t),Zu(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var Y=g.dgst;g=Y,n=Error(c(419)),n.stack="",n.digest=g,Pr({value:n,source:null,stack:null}),t=xu(e,t,a)}else if(Pt||$r(e,t,a,!1),g=(a&e.childLanes)!==0,Pt||g){if(g=dt,g!==null&&(n=a&-a,n=(n&42)!==0?1:rl(n),n=(n&(g.suspendedLanes|a))!==0?0:n,n!==0&&n!==_.retryLane))throw _.retryLane=n,Vn(e,n),ba(g,e,n),Mf;T.data==="$?"||Mu(),t=xu(e,t,a)}else T.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,bt=Ha(T.nextSibling),Qt=t,Qe=!0,Nn=null,Xa=!1,e!==null&&(Ra[wa++]=ol,Ra[wa++]=dl,Ra[wa++]=En,ol=e.id,dl=e.overflow,En=t),t=mu(t,n.children),t.flags|=4096);return t}return u?($l(),u=n.fallback,T=t.mode,_=e.child,Y=_.sibling,n=ul(_,{mode:"hidden",children:n.children}),n.subtreeFlags=_.subtreeFlags&65011712,Y!==null?u=ul(Y,u):(u=bn(u,T,a,null),u.flags|=2),u.return=t,n.return=t,n.sibling=u,t.child=n,n=u,u=t.child,T=e.child.memoizedState,T===null?T=hu(a):(_=T.cachePool,_!==null?(Y=_t._currentValue,_=_.parent!==Y?{parent:Y,pool:Y}:_):_=wd(),T={baseLanes:T.baseLanes|a,cachePool:_}),u.memoizedState=T,u.childLanes=pu(e,g,a),t.memoizedState=fu,n):(Pl(t),a=e.child,e=a.sibling,a=ul(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=a,t.memoizedState=null,a)}function mu(e,t){return t=bi({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bi(e,t){return e=pa(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function xu(e,t,a){return lr(t,e.child,null,a),e=mu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yf(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mc(e.return,t,a)}function yu(e,t,a,n,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=n,d.tail=a,d.tailMode=u)}function Kf(e,t,a){var n=t.pendingProps,u=n.revealOrder,d=n.tail;if(Yt(e,t,n.children,a),n=Dt.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,a,t);else if(e.tag===19)Yf(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(he(Dt,n),u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&mi(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),yu(t,!1,u,a,d);break;case"backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&mi(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}yu(t,!0,a,null,d);break;case"together":yu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xl(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Vl|=t.lanes,(a&t.childLanes)===0)if(e!==null){if($r(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,a=ul(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ul(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Js(e)))}function T0(e,t,a){switch(t.tag){case 3:We(t,t.stateNode.containerInfo),_l(t,_t,e.memoizedState.cache),Hr();break;case 27:case 5:Cl(t);break;case 4:We(t,t.stateNode.containerInfo);break;case 10:_l(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Pl(t),t.flags|=128,null):(a&t.child.childLanes)!==0?zf(e,t,a):(Pl(t),e=xl(e,t,a),e!==null?e.sibling:null);Pl(t);break;case 19:var u=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||($r(e,t,a,!1),n=(a&t.childLanes)!==0),u){if(n)return Kf(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),he(Dt,Dt.current),n)break;return null;case 22:case 23:return t.lanes=0,Uf(e,t,a);case 24:_l(t,_t,e.memoizedState.cache)}return xl(e,t,a)}function Vf(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pt=!0;else{if(!gu(e,a)&&(t.flags&128)===0)return Pt=!1,T0(e,t,a);Pt=(e.flags&131072)!==0}else Pt=!1,Qe&&(t.flags&1048576)!==0&&vd(t,Qs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,u=n._init;if(n=u(n._payload),t.type=n,typeof n=="function")Rc(n)?(e=wn(n,e),t.tag=1,t=$f(null,t,n,e,a)):(t.tag=0,t=du(null,t,n,e,a));else{if(n!=null){if(u=n.$$typeof,u===le){t.tag=11,t=_f(null,t,n,e,a);break e}else if(u===Ee){t.tag=14,t=Df(null,t,n,e,a);break e}}throw t=Lt(n)||n,Error(c(306,t,""))}}return t;case 0:return du(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,u=wn(n,t.pendingProps),$f(e,t,n,u,a);case 3:e:{if(We(t,t.stateNode.containerInfo),e===null)throw Error(c(387));n=t.pendingProps;var d=t.memoizedState;u=d.element,$c(e,t),Fr(t,n,null,a);var g=t.memoizedState;if(n=g.cache,_l(t,_t,n),n!==d.cache&&_c(t,[_t],a,!0),qr(),n=g.element,d.isDehydrated)if(d={element:n,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=Gf(e,t,n,a);break e}else if(n!==u){u=Ca(Error(c(424)),t),Pr(u),t=Gf(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(bt=Ha(e.firstChild),Qt=t,Qe=!0,Nn=null,Xa=!0,a=Af(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hr(),n===u){t=xl(e,t,a);break e}Yt(e,t,n,a)}t=t.child}return t;case 26:return gi(e,t),e===null?(a=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=a:Qe||(a=t.type,e=t.pendingProps,n=ki(Oe.current).createElement(a),n[St]=t,n[Ut]=e,Vt(n,a,e),ft(n),t.stateNode=n):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Cl(t),e===null&&Qe&&(n=t.stateNode=qh(t.type,t.pendingProps,Oe.current),Qt=t,Xa=!0,u=bt,Wl(t.type)?(Qu=u,bt=Ha(n.firstChild)):bt=u),Yt(e,t,t.pendingProps.children,a),gi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Qe&&((u=n=bt)&&(n=Z0(n,t.type,t.pendingProps,Xa),n!==null?(t.stateNode=n,Qt=t,bt=Ha(n.firstChild),Xa=!1,u=!0):u=!1),u||Tn(t)),Cl(t),u=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,n=d.children,Fu(u,d)?n=null:g!==null&&Fu(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=qc(e,t,m0,null,null,a),xs._currentValue=u),gi(e,t),Yt(e,t,n,a),t.child;case 6:return e===null&&Qe&&((e=a=bt)&&(a=Q0(a,t.pendingProps,Xa),a!==null?(t.stateNode=a,Qt=t,bt=null,e=!0):e=!1),e||Tn(t)),null;case 13:return zf(e,t,a);case 4:return We(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=lr(t,null,n,a):Yt(e,t,n,a),t.child;case 11:return _f(e,t,t.type,t.pendingProps,a);case 7:return Yt(e,t,t.pendingProps,a),t.child;case 8:return Yt(e,t,t.pendingProps.children,a),t.child;case 12:return Yt(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,_l(t,t.type,n.value),Yt(e,t,n.children,a),t.child;case 9:return u=t.type._context,n=t.pendingProps.children,Cn(t),u=qt(u),n=n(u),t.flags|=1,Yt(e,t,n,a),t.child;case 14:return Df(e,t,t.type,t.pendingProps,a);case 15:return If(e,t,t.type,t.pendingProps,a);case 19:return Kf(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=bi(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ul(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Uf(e,t,a);case 24:return Cn(t),n=qt(_t),e===null?(u=Uc(),u===null&&(u=dt,d=Dc(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),t.memoizedState={parent:n,cache:u},Pc(t),_l(t,_t,u)):((e.lanes&a)!==0&&($c(e,t),Fr(t,null,null,a),qr()),u=e.memoizedState,d=t.memoizedState,u.parent!==n?(u={parent:n,cache:n},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),_l(t,_t,n)):(n=d.cache,_l(t,_t,n),n!==u.cache&&_c(t,[_t],a,!0))),Yt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function yl(e){e.flags|=4}function qf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!tp(t)){if(t=Ba.current,t!==null&&((qe&4194048)===qe?Wa!==null:(qe&62914560)!==qe&&(qe&536870912)===0||t!==Wa))throw Kr=Hc,Bd;e.flags|=8192}}function Ei(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_n():536870912,e.lanes|=t,ir|=t)}function ts(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags&65011712,n|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,n|=u.subtreeFlags,n|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function A0(e,t,a){var n=t.pendingProps;switch(Oc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(t),null;case 1:return xt(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),hl(_t),Ct(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ur(t)?yl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ad())),xt(t),null;case 26:return a=t.memoizedState,e===null?(yl(t),a!==null?(xt(t),qf(t,a)):(xt(t),t.flags&=-16777217)):a?a!==e.memoizedState?(yl(t),xt(t),qf(t,a)):(xt(t),t.flags&=-16777217):(e.memoizedProps!==n&&yl(t),xt(t),t.flags&=-16777217),null;case 27:Na(t),a=Oe.current;var u=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&yl(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return xt(t),null}e=Ne.current,Ur(t)?Nd(t):(e=qh(u,n,a),t.stateNode=e,yl(t))}return xt(t),null;case 5:if(Na(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&yl(t);else{if(!n){if(t.stateNode===null)throw Error(c(166));return xt(t),null}if(e=Ne.current,Ur(t))Nd(t);else{switch(u=ki(Oe.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?u.createElement("select",{is:n.is}):u.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?u.createElement(a,{is:n.is}):u.createElement(a)}}e[St]=t,e[Ut]=n;e:for(u=t.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}t.stateNode=e;e:switch(Vt(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&yl(t)}}return xt(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&yl(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(c(166));if(e=Oe.current,Ur(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,u=Qt,u!==null)switch(u.tag){case 27:case 5:n=u.memoizedProps}e[St]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||Ph(e.nodeValue,a)),e||Tn(t)}else e=ki(e).createTextNode(n),e[St]=t,t.stateNode=e}return xt(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ur(t),n!==null&&n.dehydrated!==null){if(e===null){if(!u)throw Error(c(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(c(317));u[St]=t}else Hr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;xt(t),u=!1}else u=Ad(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ml(t),t):(ml(t),null)}if(ml(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,u=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(u=n.alternate.memoizedState.cachePool.pool);var d=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(d=n.memoizedState.cachePool.pool),d!==u&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),Ei(t,t.updateQueue),xt(t),null;case 4:return Ct(),e===null&&zu(t.stateNode.containerInfo),xt(t),null;case 10:return hl(t.type),xt(t),null;case 19:if(xe(Dt),u=t.memoizedState,u===null)return xt(t),null;if(n=(t.flags&128)!==0,d=u.rendering,d===null)if(n)ts(u,!1);else{if(Et!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=mi(e),d!==null){for(t.flags|=128,ts(u,!1),e=d.updateQueue,t.updateQueue=e,Ei(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Ed(a,e),a=a.sibling;return he(Dt,Dt.current&1|2),t.child}e=e.sibling}u.tail!==null&&ue()>Ti&&(t.flags|=128,n=!0,ts(u,!1),t.lanes=4194304)}else{if(!n)if(e=mi(d),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Ei(t,e),ts(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Qe)return xt(t),null}else 2*ue()-u.renderingStartTime>Ti&&a!==536870912&&(t.flags|=128,n=!0,ts(u,!1),t.lanes=4194304);u.isBackwards?(d.sibling=t.child,t.child=d):(e=u.last,e!==null?e.sibling=d:t.child=d,u.last=d)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=ue(),t.sibling=null,e=Dt.current,he(Dt,n?e&1|2:e&1),t):(xt(t),null);case 22:case 23:return ml(t),Kc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?(a&536870912)!==0&&(t.flags&128)===0&&(xt(t),t.subtreeFlags&6&&(t.flags|=8192)):xt(t),a=t.updateQueue,a!==null&&Ei(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&xe(Sn),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),hl(_t),xt(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function C0(e,t){switch(Oc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return hl(_t),Ct(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Na(t),null;case 13:if(ml(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Dt),null;case 4:return Ct(),null;case 10:return hl(t.type),null;case 22:case 23:return ml(t),Kc(),e!==null&&xe(Sn),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return hl(_t),null;case 25:return null;default:return null}}function Ff(e,t){switch(Oc(t),t.tag){case 3:hl(_t),Ct();break;case 26:case 27:case 5:Na(t);break;case 4:Ct();break;case 13:ml(t);break;case 19:xe(Dt);break;case 10:hl(t.type);break;case 22:case 23:ml(t),Kc(),e!==null&&xe(Sn);break;case 24:hl(_t)}}function as(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var u=n.next;a=u;do{if((a.tag&e)===e){n=void 0;var d=a.create,g=a.inst;n=d(),g.destroy=n}a=a.next}while(a!==u)}}catch(T){ut(t,t.return,T)}}function Gl(e,t,a){try{var n=t.updateQueue,u=n!==null?n.lastEffect:null;if(u!==null){var d=u.next;n=d;do{if((n.tag&e)===e){var g=n.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,u=t;var _=a,Y=T;try{Y()}catch(ee){ut(u,_,ee)}}}n=n.next}while(n!==d)}}catch(ee){ut(t,t.return,ee)}}function Xf(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{_d(t,a)}catch(n){ut(e,e.return,n)}}}function Wf(e,t,a){a.props=wn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ut(e,t,n)}}function ls(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(u){ut(e,t,u)}}function Za(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(u){ut(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){ut(e,t,u)}else a.current=null}function Zf(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(u){ut(e,e.return,u)}}function bu(e,t,a){try{var n=e.stateNode;V0(n,e.type,a,t),n[Ut]=t}catch(u){ut(e,e.return,u)}}function Qf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wl(e.type)||e.tag===4}function Eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Qf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wl(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Li));else if(n!==4&&(n===27&&Wl(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(vu(e,t,a),e=e.sibling;e!==null;)vu(e,t,a),e=e.sibling}function vi(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&Wl(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(vi(e,t,a),e=e.sibling;e!==null;)vi(e,t,a),e=e.sibling}function Jf(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);Vt(t,n,a),t[St]=e,t[Ut]=a}catch(d){ut(e,e.return,d)}}var gl=!1,At=!1,Nu=!1,eh=typeof WeakSet=="function"?WeakSet:Set,$t=null;function S0(e,t){if(e=e.containerInfo,Vu=Hi,e=od(e),Ec(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var u=n.anchorOffset,d=n.focusNode;n=n.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var g=0,T=-1,_=-1,Y=0,ee=0,ae=e,V=null;t:for(;;){for(var q;ae!==a||u!==0&&ae.nodeType!==3||(T=g+u),ae!==d||n!==0&&ae.nodeType!==3||(_=g+n),ae.nodeType===3&&(g+=ae.nodeValue.length),(q=ae.firstChild)!==null;)V=ae,ae=q;for(;;){if(ae===e)break t;if(V===a&&++Y===u&&(T=g),V===d&&++ee===n&&(_=g),(q=ae.nextSibling)!==null)break;ae=V,V=ae.parentNode}ae=q}a=T===-1||_===-1?null:{start:T,end:_}}else a=null}a=a||{start:0,end:0}}else a=null;for(qu={focusedElem:e,selectionRange:a},Hi=!1,$t=t;$t!==null;)if(t=$t,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,$t=e;else for(;$t!==null;){switch(t=$t,d=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,u=d.memoizedProps,d=d.memoizedState,n=a.stateNode;try{var ke=wn(a.type,u,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(ke,d),n.__reactInternalSnapshotBeforeUpdate=e}catch(Se){ut(a,a.return,Se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Wu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,$t=e;break}$t=t.return}}function th(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:zl(e,a),n&4&&as(5,a);break;case 1:if(zl(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(g){ut(a,a.return,g)}else{var u=wn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ut(a,a.return,g)}}n&64&&Xf(a),n&512&&ls(a,a.return);break;case 3:if(zl(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{_d(e,t)}catch(g){ut(a,a.return,g)}}break;case 27:t===null&&n&4&&Jf(a);case 26:case 5:zl(e,a),t===null&&n&4&&Zf(a),n&512&&ls(a,a.return);break;case 12:zl(e,a);break;case 13:zl(e,a),n&4&&nh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_0.bind(null,a),J0(e,a))));break;case 22:if(n=a.memoizedState!==null||gl,!n){t=t!==null&&t.memoizedState!==null||At,u=gl;var d=At;gl=n,(At=t)&&!d?Yl(e,a,(a.subtreeFlags&8772)!==0):zl(e,a),gl=u,At=d}break;case 30:break;default:zl(e,a)}}function ah(e){var t=e.alternate;t!==null&&(e.alternate=null,ah(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var mt=null,ua=!1;function bl(e,t,a){for(a=a.child;a!==null;)lh(e,t,a),a=a.sibling}function lh(e,t,a){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(re,a)}catch{}switch(a.tag){case 26:At||Za(a,t),bl(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:At||Za(a,t);var n=mt,u=ua;Wl(a.type)&&(mt=a.stateNode,ua=!1),bl(e,t,a),fs(a.stateNode),mt=n,ua=u;break;case 5:At||Za(a,t);case 6:if(n=mt,u=ua,mt=null,bl(e,t,a),mt=n,ua=u,mt!==null)if(ua)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(a.stateNode)}catch(d){ut(a,t,d)}else try{mt.removeChild(a.stateNode)}catch(d){ut(a,t,d)}break;case 18:mt!==null&&(ua?(e=mt,Kh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Es(e)):Kh(mt,a.stateNode));break;case 4:n=mt,u=ua,mt=a.stateNode.containerInfo,ua=!0,bl(e,t,a),mt=n,ua=u;break;case 0:case 11:case 14:case 15:At||Gl(2,a,t),At||Gl(4,a,t),bl(e,t,a);break;case 1:At||(Za(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Wf(a,t,n)),bl(e,t,a);break;case 21:bl(e,t,a);break;case 22:At=(n=At)||a.memoizedState!==null,bl(e,t,a),At=n;break;default:bl(e,t,a)}}function nh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Es(e)}catch(a){ut(t,t.return,a)}}function R0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new eh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new eh),t;default:throw Error(c(435,e.tag))}}function Tu(e,t){var a=R0(e);t.forEach(function(n){var u=D0.bind(null,e,n);a.has(n)||(a.add(n),n.then(u,u))})}function ma(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var u=a[n],d=e,g=t,T=g;e:for(;T!==null;){switch(T.tag){case 27:if(Wl(T.type)){mt=T.stateNode,ua=!1;break e}break;case 5:mt=T.stateNode,ua=!1;break e;case 3:case 4:mt=T.stateNode.containerInfo,ua=!0;break e}T=T.return}if(mt===null)throw Error(c(160));lh(d,g,u),mt=null,ua=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)rh(t,e),t=t.sibling}var Ua=null;function rh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ma(t,e),xa(e),n&4&&(Gl(3,e,e.return),as(3,e),Gl(5,e,e.return));break;case 1:ma(t,e),xa(e),n&512&&(At||a===null||Za(a,a.return)),n&64&&gl&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var u=Ua;if(ma(t,e),xa(e),n&512&&(At||a===null||Za(a,a.return)),n&4){var d=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(n){case"title":d=u.getElementsByTagName("title")[0],(!d||d[hn]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(n),u.head.insertBefore(d,u.querySelector("head > title"))),Vt(d,n,a),d[St]=e,ft(d),n=d;break e;case"link":var g=Jh("link","href",u).get(n+(a.href||""));if(g){for(var T=0;T<g.length;T++)if(d=g[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(T,1);break t}}d=u.createElement(n),Vt(d,n,a),u.head.appendChild(d);break;case"meta":if(g=Jh("meta","content",u).get(n+(a.content||""))){for(T=0;T<g.length;T++)if(d=g[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(T,1);break t}}d=u.createElement(n),Vt(d,n,a),u.head.appendChild(d);break;default:throw Error(c(468,n))}d[St]=e,ft(d),n=d}e.stateNode=n}else ep(u,e.type,e.stateNode);else e.stateNode=Qh(u,n,e.memoizedProps);else d!==n?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,n===null?ep(u,e.type,e.stateNode):Qh(u,n,e.memoizedProps)):n===null&&e.stateNode!==null&&bu(e,e.memoizedProps,a.memoizedProps)}break;case 27:ma(t,e),xa(e),n&512&&(At||a===null||Za(a,a.return)),a!==null&&n&4&&bu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ma(t,e),xa(e),n&512&&(At||a===null||Za(a,a.return)),e.flags&32){u=e.stateNode;try{Ll(u,"")}catch(q){ut(e,e.return,q)}}n&4&&e.stateNode!=null&&(u=e.memoizedProps,bu(e,u,a!==null?a.memoizedProps:u)),n&1024&&(Nu=!0);break;case 6:if(ma(t,e),xa(e),n&4){if(e.stateNode===null)throw Error(c(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(q){ut(e,e.return,q)}}break;case 3:if(Di=null,u=Ua,Ua=Mi(t.containerInfo),ma(t,e),Ua=u,xa(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{Es(t.containerInfo)}catch(q){ut(e,e.return,q)}Nu&&(Nu=!1,sh(e));break;case 4:n=Ua,Ua=Mi(e.stateNode.containerInfo),ma(t,e),xa(e),Ua=n;break;case 12:ma(t,e),xa(e);break;case 13:ma(t,e),xa(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Bu=ue()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Tu(e,n)));break;case 22:u=e.memoizedState!==null;var _=a!==null&&a.memoizedState!==null,Y=gl,ee=At;if(gl=Y||u,At=ee||_,ma(t,e),At=ee,gl=Y,xa(e),n&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||_||gl||At||Bn(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){_=a=t;try{if(d=_.stateNode,u)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=_.stateNode;var ae=_.memoizedProps.style,V=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=V==null||typeof V=="boolean"?"":(""+V).trim()}}catch(q){ut(_,_.return,q)}}}else if(t.tag===6){if(a===null){_=t;try{_.stateNode.nodeValue=u?"":_.memoizedProps}catch(q){ut(_,_.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,Tu(e,a))));break;case 19:ma(t,e),xa(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Tu(e,n)));break;case 30:break;case 21:break;default:ma(t,e),xa(e)}}function xa(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(Qf(n)){a=n;break}n=n.return}if(a==null)throw Error(c(160));switch(a.tag){case 27:var u=a.stateNode,d=Eu(e);vi(e,d,u);break;case 5:var g=a.stateNode;a.flags&32&&(Ll(g,""),a.flags&=-33);var T=Eu(e);vi(e,T,g);break;case 3:case 4:var _=a.stateNode.containerInfo,Y=Eu(e);vu(e,Y,_);break;default:throw Error(c(161))}}catch(ee){ut(e,e.return,ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function zl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)th(e,t.alternate,t),t=t.sibling}function Bn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gl(4,t,t.return),Bn(t);break;case 1:Za(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Wf(t,t.return,a),Bn(t);break;case 27:fs(t.stateNode);case 26:case 5:Za(t,t.return),Bn(t);break;case 22:t.memoizedState===null&&Bn(t);break;case 30:Bn(t);break;default:Bn(t)}e=e.sibling}}function Yl(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,u=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:Yl(u,d,a),as(4,d);break;case 1:if(Yl(u,d,a),n=d,u=n.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(Y){ut(n,n.return,Y)}if(n=d,u=n.updateQueue,u!==null){var T=n.stateNode;try{var _=u.shared.hiddenCallbacks;if(_!==null)for(u.shared.hiddenCallbacks=null,u=0;u<_.length;u++)Md(_[u],T)}catch(Y){ut(n,n.return,Y)}}a&&g&64&&Xf(d),ls(d,d.return);break;case 27:Jf(d);case 26:case 5:Yl(u,d,a),a&&n===null&&g&4&&Zf(d),ls(d,d.return);break;case 12:Yl(u,d,a);break;case 13:Yl(u,d,a),a&&g&4&&nh(u,d);break;case 22:d.memoizedState===null&&Yl(u,d,a),ls(d,d.return);break;case 30:break;default:Yl(u,d,a)}t=t.sibling}}function Au(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Gr(a))}function Cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gr(e))}function Qa(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ih(e,t,a,n),t=t.sibling}function ih(e,t,a,n){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Qa(e,t,a,n),u&2048&&as(9,t);break;case 1:Qa(e,t,a,n);break;case 3:Qa(e,t,a,n),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Gr(e)));break;case 12:if(u&2048){Qa(e,t,a,n),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,T=d.onPostCommit;typeof T=="function"&&T(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){ut(t,t.return,_)}}else Qa(e,t,a,n);break;case 13:Qa(e,t,a,n);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?Qa(e,t,a,n):ns(e,t):d._visibility&2?Qa(e,t,a,n):(d._visibility|=2,nr(e,t,a,n,(t.subtreeFlags&10256)!==0)),u&2048&&Au(g,t);break;case 24:Qa(e,t,a,n),u&2048&&Cu(t.alternate,t);break;default:Qa(e,t,a,n)}}function nr(e,t,a,n,u){for(u=u&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var d=e,g=t,T=a,_=n,Y=g.flags;switch(g.tag){case 0:case 11:case 15:nr(d,g,T,_,u),as(8,g);break;case 23:break;case 22:var ee=g.stateNode;g.memoizedState!==null?ee._visibility&2?nr(d,g,T,_,u):ns(d,g):(ee._visibility|=2,nr(d,g,T,_,u)),u&&Y&2048&&Au(g.alternate,g);break;case 24:nr(d,g,T,_,u),u&&Y&2048&&Cu(g.alternate,g);break;default:nr(d,g,T,_,u)}t=t.sibling}}function ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,u=n.flags;switch(n.tag){case 22:ns(a,n),u&2048&&Au(n.alternate,n);break;case 24:ns(a,n),u&2048&&Cu(n.alternate,n);break;default:ns(a,n)}t=t.sibling}}var rs=8192;function rr(e){if(e.subtreeFlags&rs)for(e=e.child;e!==null;)ch(e),e=e.sibling}function ch(e){switch(e.tag){case 26:rr(e),e.flags&rs&&e.memoizedState!==null&&fx(Ua,e.memoizedState,e.memoizedProps);break;case 5:rr(e);break;case 3:case 4:var t=Ua;Ua=Mi(e.stateNode.containerInfo),rr(e),Ua=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=rs,rs=16777216,rr(e),rs=t):rr(e));break;default:rr(e)}}function uh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ss(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];$t=n,dh(n,e)}uh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)oh(e),e=e.sibling}function oh(e){switch(e.tag){case 0:case 11:case 15:ss(e),e.flags&2048&&Gl(9,e,e.return);break;case 3:ss(e);break;case 12:ss(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ni(e)):ss(e);break;default:ss(e)}}function Ni(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];$t=n,dh(n,e)}uh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gl(8,t,t.return),Ni(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ni(t));break;default:Ni(t)}e=e.sibling}}function dh(e,t){for(;$t!==null;){var a=$t;switch(a.tag){case 0:case 11:case 15:Gl(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Gr(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,$t=n;else e:for(a=e;$t!==null;){n=$t;var u=n.sibling,d=n.return;if(ah(n),n===a){$t=null;break e}if(u!==null){u.return=d,$t=u;break e}$t=d}}}var w0={getCacheForType:function(e){var t=qt(_t),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},B0=typeof WeakMap=="function"?WeakMap:Map,lt=0,dt=null,ze=null,qe=0,nt=0,ya=null,Kl=!1,sr=!1,Su=!1,El=0,Et=0,Vl=0,jn=0,Ru=0,ja=0,ir=0,is=null,oa=null,wu=!1,Bu=0,Ti=1/0,Ai=null,ql=null,Kt=0,Fl=null,cr=null,ur=0,ju=0,Ou=null,fh=null,cs=0,Lu=null;function ga(){if((lt&2)!==0&&qe!==0)return qe&-qe;if(W.T!==null){var e=Wn;return e!==0?e:Hu()}return fn()}function hh(){ja===0&&(ja=(qe&536870912)===0||Qe?da():536870912);var e=Ba.current;return e!==null&&(e.flags|=32),ja}function ba(e,t,a){(e===dt&&(nt===2||nt===9)||e.cancelPendingCommit!==null)&&(or(e,0),Xl(e,qe,ja,!1)),nl(e,a),((lt&2)===0||e!==dt)&&(e===dt&&((lt&2)===0&&(jn|=a),Et===4&&Xl(e,qe,ja,!1)),Ja(e))}function ph(e,t,a){if((lt&6)!==0)throw Error(c(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Sl(e,t),u=n?L0(e,t):_u(e,t,!0),d=n;do{if(u===0){sr&&!n&&Xl(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!j0(a)){u=_u(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var T=e;u=is;var _=T.current.memoizedState.isDehydrated;if(_&&(or(T,g).flags|=256),g=_u(T,g,!1),g!==2){if(Su&&!_){T.errorRecoveryDisabledLanes|=d,jn|=d,u=4;break e}d=oa,oa=u,d!==null&&(oa===null?oa=d:oa.push.apply(oa,d))}u=g}if(d=!1,u!==2)continue}}if(u===1){or(e,0),Xl(e,t,0,!0);break}e:{switch(n=e,d=u,d){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Xl(n,t,ja,!Kl);break e;case 2:oa=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(u=Bu+300-ue(),10<u)){if(Xl(n,t,ja,!Kl),dn(n,0,!0)!==0)break e;n.timeoutHandle=zh(mh.bind(null,n,a,oa,Ai,wu,t,ja,jn,ir,Kl,d,2,-0,0),u);break e}mh(n,a,oa,Ai,wu,t,ja,jn,ir,Kl,d,0,-0,0)}}break}while(!0);Ja(e)}function mh(e,t,a,n,u,d,g,T,_,Y,ee,ae,V,q){if(e.timeoutHandle=-1,ae=t.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(ms={stylesheets:null,count:0,unsuspend:dx},ch(t),ae=hx(),ae!==null)){e.cancelPendingCommit=ae(Nh.bind(null,e,t,d,a,n,u,g,T,_,ee,1,V,q)),Xl(e,d,g,!Y);return}Nh(e,t,d,a,n,u,g,T,_)}function j0(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var u=a[n],d=u.getSnapshot;u=u.value;try{if(!ha(d(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xl(e,t,a,n){t&=~Ru,t&=~jn,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var u=t;0<u;){var d=31-et(u),g=1<<d;n[d]=-1,u&=~g}a!==0&&Ve(e,a,t)}function Ci(){return(lt&6)===0?(us(0),!1):!0}function ku(){if(ze!==null){if(nt===0)var e=ze.return;else e=ze,fl=An=null,Wc(e),ar=null,Jr=0,e=ze;for(;e!==null;)Ff(e.alternate,e),e=e.return;ze=null}}function or(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,F0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ku(),dt=e,ze=a=ul(e.current,null),qe=t,nt=0,ya=null,Kl=!1,sr=Sl(e,t),Su=!1,ir=ja=Ru=jn=Vl=Et=0,oa=is=null,wu=!1,(t&8)!==0&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var u=31-et(n),d=1<<u;t|=e[u],n&=~d}return El=t,qs(),a}function xh(e,t){Pe=null,W.H=fi,t===Yr||t===ai?(t=Ld(),nt=3):t===Bd?(t=Ld(),nt=4):nt=t===Mf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ya=t,ze===null&&(Et=1,yi(e,Ca(t,e.current)))}function yh(){var e=W.H;return W.H=fi,e===null?fi:e}function gh(){var e=W.A;return W.A=w0,e}function Mu(){Et=4,Kl||(qe&4194048)!==qe&&Ba.current!==null||(sr=!0),(Vl&134217727)===0&&(jn&134217727)===0||dt===null||Xl(dt,qe,ja,!1)}function _u(e,t,a){var n=lt;lt|=2;var u=yh(),d=gh();(dt!==e||qe!==t)&&(Ai=null,or(e,t)),t=!1;var g=Et;e:do try{if(nt!==0&&ze!==null){var T=ze,_=ya;switch(nt){case 8:ku(),g=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(t=!0);var Y=nt;if(nt=0,ya=null,dr(e,T,_,Y),a&&sr){g=0;break e}break;default:Y=nt,nt=0,ya=null,dr(e,T,_,Y)}}O0(),g=Et;break}catch(ee){xh(e,ee)}while(!0);return t&&e.shellSuspendCounter++,fl=An=null,lt=n,W.H=u,W.A=d,ze===null&&(dt=null,qe=0,qs()),g}function O0(){for(;ze!==null;)bh(ze)}function L0(e,t){var a=lt;lt|=2;var n=yh(),u=gh();dt!==e||qe!==t?(Ai=null,Ti=ue()+500,or(e,t)):sr=Sl(e,t);e:do try{if(nt!==0&&ze!==null){t=ze;var d=ya;t:switch(nt){case 1:nt=0,ya=null,dr(e,t,d,1);break;case 2:case 9:if(jd(d)){nt=0,ya=null,Eh(t);break}t=function(){nt!==2&&nt!==9||dt!==e||(nt=7),Ja(e)},d.then(t,t);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:jd(d)?(nt=0,ya=null,Eh(t)):(nt=0,ya=null,dr(e,t,d,7));break;case 5:var g=null;switch(ze.tag){case 26:g=ze.memoizedState;case 5:case 27:var T=ze;if(!g||tp(g)){nt=0,ya=null;var _=T.sibling;if(_!==null)ze=_;else{var Y=T.return;Y!==null?(ze=Y,Si(Y)):ze=null}break t}}nt=0,ya=null,dr(e,t,d,5);break;case 6:nt=0,ya=null,dr(e,t,d,6);break;case 8:ku(),Et=6;break e;default:throw Error(c(462))}}k0();break}catch(ee){xh(e,ee)}while(!0);return fl=An=null,W.H=n,W.A=u,lt=a,ze!==null?0:(dt=null,qe=0,qs(),Et)}function k0(){for(;ze!==null&&!Va();)bh(ze)}function bh(e){var t=Vf(e.alternate,e,El);e.memoizedProps=e.pendingProps,t===null?Si(e):ze=t}function Eh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Pf(a,t,t.pendingProps,t.type,void 0,qe);break;case 11:t=Pf(a,t,t.pendingProps,t.type.render,t.ref,qe);break;case 5:Wc(t);default:Ff(a,t),t=ze=Ed(t,El),t=Vf(a,t,El)}e.memoizedProps=e.pendingProps,t===null?Si(e):ze=t}function dr(e,t,a,n){fl=An=null,Wc(t),ar=null,Jr=0;var u=t.return;try{if(N0(e,u,t,a,qe)){Et=1,yi(e,Ca(a,e.current)),ze=null;return}}catch(d){if(u!==null)throw ze=u,d;Et=1,yi(e,Ca(a,e.current)),ze=null;return}t.flags&32768?(Qe||n===1?e=!0:sr||(qe&536870912)!==0?e=!1:(Kl=e=!0,(n===2||n===9||n===3||n===6)&&(n=Ba.current,n!==null&&n.tag===13&&(n.flags|=16384))),vh(t,e)):Si(t)}function Si(e){var t=e;do{if((t.flags&32768)!==0){vh(t,Kl);return}e=t.return;var a=A0(t.alternate,t,El);if(a!==null){ze=a;return}if(t=t.sibling,t!==null){ze=t;return}ze=t=e}while(t!==null);Et===0&&(Et=5)}function vh(e,t){do{var a=C0(e.alternate,e);if(a!==null){a.flags&=32767,ze=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){ze=e;return}ze=e=a}while(e!==null);Et=6,ze=null}function Nh(e,t,a,n,u,d,g,T,_){e.cancelPendingCommit=null;do Ri();while(Kt!==0);if((lt&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(d=t.lanes|t.childLanes,d|=Cc,ce(e,a,d,g,T,_),e===dt&&(ze=dt=null,qe=0),cr=t,Fl=e,ur=a,ju=d,Ou=u,fh=n,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,I0(pe,function(){return Rh(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||n){n=W.T,W.T=null,u=de.p,de.p=2,g=lt,lt|=4;try{S0(e,t,a)}finally{lt=g,de.p=u,W.T=n}}Kt=1,Th(),Ah(),Ch()}}function Th(){if(Kt===1){Kt=0;var e=Fl,t=cr,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var n=de.p;de.p=2;var u=lt;lt|=4;try{rh(t,e);var d=qu,g=od(e.containerInfo),T=d.focusedElem,_=d.selectionRange;if(g!==T&&T&&T.ownerDocument&&ud(T.ownerDocument.documentElement,T)){if(_!==null&&Ec(T)){var Y=_.start,ee=_.end;if(ee===void 0&&(ee=Y),"selectionStart"in T)T.selectionStart=Y,T.selectionEnd=Math.min(ee,T.value.length);else{var ae=T.ownerDocument||document,V=ae&&ae.defaultView||window;if(V.getSelection){var q=V.getSelection(),ke=T.textContent.length,Se=Math.min(_.start,ke),ct=_.end===void 0?Se:Math.min(_.end,ke);!q.extend&&Se>ct&&(g=ct,ct=Se,Se=g);var G=cd(T,Se),P=cd(T,ct);if(G&&P&&(q.rangeCount!==1||q.anchorNode!==G.node||q.anchorOffset!==G.offset||q.focusNode!==P.node||q.focusOffset!==P.offset)){var z=ae.createRange();z.setStart(G.node,G.offset),q.removeAllRanges(),Se>ct?(q.addRange(z),q.extend(P.node,P.offset)):(z.setEnd(P.node,P.offset),q.addRange(z))}}}}for(ae=[],q=T;q=q.parentNode;)q.nodeType===1&&ae.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var te=ae[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Hi=!!Vu,qu=Vu=null}finally{lt=u,de.p=n,W.T=a}}e.current=t,Kt=2}}function Ah(){if(Kt===2){Kt=0;var e=Fl,t=cr,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var n=de.p;de.p=2;var u=lt;lt|=4;try{th(e,t.alternate,t)}finally{lt=u,de.p=n,W.T=a}}Kt=3}}function Ch(){if(Kt===4||Kt===3){Kt=0,un();var e=Fl,t=cr,a=ur,n=fh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Kt=5:(Kt=0,cr=Fl=null,Sh(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ql=null),wl(a),t=t.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(re,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=W.T,u=de.p,de.p=2,W.T=null;try{for(var d=e.onRecoverableError,g=0;g<n.length;g++){var T=n[g];d(T.value,{componentStack:T.stack})}}finally{W.T=t,de.p=u}}(ur&3)!==0&&Ri(),Ja(e),u=e.pendingLanes,(a&4194090)!==0&&(u&42)!==0?e===Lu?cs++:(cs=0,Lu=e):cs=0,us(0)}}function Sh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Gr(t)))}function Ri(e){return Th(),Ah(),Ch(),Rh()}function Rh(){if(Kt!==5)return!1;var e=Fl,t=ju;ju=0;var a=wl(ur),n=W.T,u=de.p;try{de.p=32>a?32:a,W.T=null,a=Ou,Ou=null;var d=Fl,g=ur;if(Kt=0,cr=Fl=null,ur=0,(lt&6)!==0)throw Error(c(331));var T=lt;if(lt|=4,oh(d.current),ih(d,d.current,g,a),lt=T,us(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(re,d)}catch{}return!0}finally{de.p=u,W.T=n,Sh(e,t)}}function wh(e,t,a){t=Ca(a,t),t=ou(e.stateNode,t,2),e=Ul(e,t,2),e!==null&&(nl(e,2),Ja(e))}function ut(e,t,a){if(e.tag===3)wh(e,e,a);else for(;t!==null;){if(t.tag===3){wh(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ql===null||!ql.has(n))){e=Ca(a,e),a=Lf(2),n=Ul(t,a,2),n!==null&&(kf(a,n,t,e),nl(n,2),Ja(n));break}}t=t.return}}function Du(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new B0;var u=new Set;n.set(t,u)}else u=n.get(t),u===void 0&&(u=new Set,n.set(t,u));u.has(a)||(Su=!0,u.add(a),e=M0.bind(null,e,t,a),t.then(e,e))}function M0(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,dt===e&&(qe&a)===a&&(Et===4||Et===3&&(qe&62914560)===qe&&300>ue()-Bu?(lt&2)===0&&or(e,0):Ru|=a,ir===qe&&(ir=0)),Ja(e)}function Bh(e,t){t===0&&(t=_n()),e=Vn(e,t),e!==null&&(nl(e,t),Ja(e))}function _0(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),Bh(e,a)}function D0(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(c(314))}n!==null&&n.delete(t),Bh(e,a)}function I0(e,t){return La(e,t)}var wi=null,fr=null,Iu=!1,Bi=!1,Uu=!1,On=0;function Ja(e){e!==fr&&e.next===null&&(fr===null?wi=fr=e:fr=fr.next=e),Bi=!0,Iu||(Iu=!0,H0())}function us(e,t){if(!Uu&&Bi){Uu=!0;do for(var a=!1,n=wi;n!==null;){if(e!==0){var u=n.pendingLanes;if(u===0)var d=0;else{var g=n.suspendedLanes,T=n.pingedLanes;d=(1<<31-et(42|e)+1)-1,d&=u&~(g&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,kh(n,d))}else d=qe,d=dn(n,n===dt?d:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),(d&3)===0||Sl(n,d)||(a=!0,kh(n,d));n=n.next}while(a);Uu=!1}}function U0(){jh()}function jh(){Bi=Iu=!1;var e=0;On!==0&&(q0()&&(e=On),On=0);for(var t=ue(),a=null,n=wi;n!==null;){var u=n.next,d=Oh(n,t);d===0?(n.next=null,a===null?wi=u:a.next=u,u===null&&(fr=a)):(a=n,(e!==0||(d&3)!==0)&&(Bi=!0)),n=u}us(e)}function Oh(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-et(d),T=1<<g,_=u[g];_===-1?((T&a)===0||(T&n)!==0)&&(u[g]=Os(T,t)):_<=t&&(e.expiredLanes|=T),d&=~T}if(t=dt,a=qe,a=dn(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(nt===2||nt===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Ka(n),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Sl(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Ka(n),wl(a)){case 2:case 8:a=It;break;case 32:a=pe;break;case 268435456:a=$e;break;default:a=pe}return n=Lh.bind(null,e),a=La(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Ka(n),e.callbackPriority=2,e.callbackNode=null,2}function Lh(e,t){if(Kt!==0&&Kt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ri()&&e.callbackNode!==a)return null;var n=qe;return n=dn(e,e===dt?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(ph(e,n,t),Oh(e,ue()),e.callbackNode!=null&&e.callbackNode===a?Lh.bind(null,e):null)}function kh(e,t){if(Ri())return null;ph(e,t,!0)}function H0(){X0(function(){(lt&6)!==0?La(on,U0):jh()})}function Hu(){return On===0&&(On=da()),On}function Mh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Pn(""+e)}function _h(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function P0(e,t,a,n,u){if(t==="submit"&&a&&a.stateNode===u){var d=Mh((u[Ut]||null).action),g=n.submitter;g&&(t=(t=g[Ut]||null)?Mh(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var T=new se("action","action",null,n,u);e.push({event:T,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(On!==0){var _=g?_h(u,g):new FormData(u);ru(a,{pending:!0,data:_,method:u.method,action:d},null,_)}}else typeof d=="function"&&(T.preventDefault(),_=g?_h(u,g):new FormData(u),ru(a,{pending:!0,data:_,method:u.method,action:d},d,_))},currentTarget:u}]})}}for(var Pu=0;Pu<Ac.length;Pu++){var $u=Ac[Pu],$0=$u.toLowerCase(),G0=$u[0].toUpperCase()+$u.slice(1);Ia($0,"on"+G0)}Ia(hd,"onAnimationEnd"),Ia(pd,"onAnimationIteration"),Ia(md,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(r0,"onTransitionRun"),Ia(s0,"onTransitionStart"),Ia(i0,"onTransitionCancel"),Ia(xd,"onTransitionEnd"),Bl("onMouseEnter",["mouseout","mouseover"]),Bl("onMouseLeave",["mouseout","mouseover"]),Bl("onPointerEnter",["pointerout","pointerover"]),Bl("onPointerLeave",["pointerout","pointerover"]),sl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sl("onBeforeInput",["compositionend","keypress","textInput","paste"]),sl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(os));function Dh(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],u=n.event;n=n.listeners;e:{var d=void 0;if(t)for(var g=n.length-1;0<=g;g--){var T=n[g],_=T.instance,Y=T.currentTarget;if(T=T.listener,_!==d&&u.isPropagationStopped())break e;d=T,u.currentTarget=Y;try{d(u)}catch(ee){xi(ee)}u.currentTarget=null,d=_}else for(g=0;g<n.length;g++){if(T=n[g],_=T.instance,Y=T.currentTarget,T=T.listener,_!==d&&u.isPropagationStopped())break e;d=T,u.currentTarget=Y;try{d(u)}catch(ee){xi(ee)}u.currentTarget=null,d=_}}}}function Ye(e,t){var a=t[Nr];a===void 0&&(a=t[Nr]=new Set);var n=e+"__bubble";a.has(n)||(Ih(t,e,2,!1),a.add(n))}function Gu(e,t,a){var n=0;t&&(n|=4),Ih(a,e,n,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function zu(e){if(!e[ji]){e[ji]=!0,ks.forEach(function(a){a!=="selectionchange"&&(z0.has(a)||Gu(a,!1,e),Gu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ji]||(t[ji]=!0,Gu("selectionchange",!1,t))}}function Ih(e,t,a,n){switch(ip(t)){case 2:var u=xx;break;case 8:u=yx;break;default:u=lo}a=u.bind(null,t,a,e),u=void 0,!j||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),n?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Yu(e,t,a,n,u){var d=n;if((t&1)===0&&(t&2)===0&&n!==null)e:for(;;){if(n===null)return;var g=n.tag;if(g===3||g===4){var T=n.stateNode.containerInfo;if(T===u)break;if(g===4)for(g=n.return;g!==null;){var _=g.tag;if((_===3||_===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;T!==null;){if(g=pt(T),g===null)return;if(_=g.tag,_===5||_===6||_===26||_===27){n=d=g;continue e}T=T.parentNode}}n=n.return}Ys(function(){var Y=d,ee=jr(a),ae=[];e:{var V=yd.get(e);if(V!==void 0){var q=se,ke=e;switch(e){case"keypress":if($(a)===0)break e;case"keydown":case"keyup":q=Im;break;case"focusin":ke="focus",q=at;break;case"focusout":ke="blur",q=at;break;case"beforeblur":case"afterblur":q=at;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Ae;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=gt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=Pm;break;case hd:case pd:case md:q=il;break;case xd:q=Gm;break;case"scroll":case"scrollend":q=Ce;break;case"wheel":q=Ym;break;case"copy":case"cut":case"paste":q=rt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Fo;break;case"toggle":case"beforetoggle":q=Vm}var Se=(t&4)!==0,ct=!Se&&(e==="scroll"||e==="scrollend"),G=Se?V!==null?V+"Capture":null:V;Se=[];for(var P=Y,z;P!==null;){var te=P;if(z=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||z===null||G===null||(te=S(P,G),te!=null&&Se.push(ds(P,te,z))),ct)break;P=P.return}0<Se.length&&(V=new q(V,ke,null,a,ee),ae.push({event:V,listeners:Se}))}}if((t&7)===0){e:{if(V=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",V&&a!==Br&&(ke=a.relatedTarget||a.fromElement)&&(pt(ke)||ke[la]))break e;if((q||V)&&(V=ee.window===ee?ee:(V=ee.ownerDocument)?V.defaultView||V.parentWindow:window,q?(ke=a.relatedTarget||a.toElement,q=Y,ke=ke?pt(ke):null,ke!==null&&(ct=m(ke),Se=ke.tag,ke!==ct||Se!==5&&Se!==27&&Se!==6)&&(ke=null)):(q=null,ke=Y),q!==ke)){if(Se=Ae,te="onMouseLeave",G="onMouseEnter",P="mouse",(e==="pointerout"||e==="pointerover")&&(Se=Fo,te="onPointerLeave",G="onPointerEnter",P="pointer"),ct=q==null?V:Ma(q),z=ke==null?V:Ma(ke),V=new Se(te,P+"leave",q,a,ee),V.target=ct,V.relatedTarget=z,te=null,pt(ee)===Y&&(Se=new Se(G,P+"enter",ke,a,ee),Se.target=z,Se.relatedTarget=ct,te=Se),ct=te,q&&ke)t:{for(Se=q,G=ke,P=0,z=Se;z;z=hr(z))P++;for(z=0,te=G;te;te=hr(te))z++;for(;0<P-z;)Se=hr(Se),P--;for(;0<z-P;)G=hr(G),z--;for(;P--;){if(Se===G||G!==null&&Se===G.alternate)break t;Se=hr(Se),G=hr(G)}Se=null}else Se=null;q!==null&&Uh(ae,V,q,Se,!1),ke!==null&&ct!==null&&Uh(ae,ct,ke,Se,!0)}}e:{if(V=Y?Ma(Y):window,q=V.nodeName&&V.nodeName.toLowerCase(),q==="select"||q==="input"&&V.type==="file")var be=ad;else if(ed(V))if(ld)be=a0;else{be=e0;var Ge=Jm}else q=V.nodeName,!q||q.toLowerCase()!=="input"||V.type!=="checkbox"&&V.type!=="radio"?Y&&wr(Y.elementType)&&(be=ad):be=t0;if(be&&(be=be(e,Y))){td(ae,be,a,ee);break e}Ge&&Ge(e,V,Y),e==="focusout"&&Y&&V.type==="number"&&Y.memoizedProps.value!=null&&Rr(V,"number",V.value)}switch(Ge=Y?Ma(Y):window,e){case"focusin":(ed(Ge)||Ge.contentEditable==="true")&&(zn=Ge,vc=Y,Ir=null);break;case"focusout":Ir=vc=zn=null;break;case"mousedown":Nc=!0;break;case"contextmenu":case"mouseup":case"dragend":Nc=!1,dd(ae,a,ee);break;case"selectionchange":if(n0)break;case"keydown":case"keyup":dd(ae,a,ee)}var Te;if(yc)e:{switch(e){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Gn?Qo(e,a)&&(Be="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Be="onCompositionStart");Be&&(Xo&&a.locale!=="ko"&&(Gn||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Gn&&(Te=L()):(B=ee,U="value"in B?B.value:B.textContent,Gn=!0)),Ge=Oi(Y,Be),0<Ge.length&&(Be=new $n(Be,e,null,a,ee),ae.push({event:Be,listeners:Ge}),Te?Be.data=Te:(Te=Jo(a),Te!==null&&(Be.data=Te)))),(Te=Fm?Xm(e,a):Wm(e,a))&&(Be=Oi(Y,"onBeforeInput"),0<Be.length&&(Ge=new $n("onBeforeInput","beforeinput",null,a,ee),ae.push({event:Ge,listeners:Be}),Ge.data=Te)),P0(ae,e,Y,a,ee)}Dh(ae,t)})}function ds(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Oi(e,t){for(var a=t+"Capture",n=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=S(e,a),u!=null&&n.unshift(ds(e,u,d)),u=S(e,t),u!=null&&n.push(ds(e,u,d))),e.tag===3)return n;e=e.return}return[]}function hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Uh(e,t,a,n,u){for(var d=t._reactName,g=[];a!==null&&a!==n;){var T=a,_=T.alternate,Y=T.stateNode;if(T=T.tag,_!==null&&_===n)break;T!==5&&T!==26&&T!==27||Y===null||(_=Y,u?(Y=S(a,d),Y!=null&&g.unshift(ds(a,Y,_))):u||(Y=S(a,d),Y!=null&&g.push(ds(a,Y,_)))),a=a.return}g.length!==0&&e.push({event:t,listeners:g})}var Y0=/\r\n?/g,K0=/\u0000|\uFFFD/g;function Hh(e){return(typeof e=="string"?e:""+e).replace(Y0,`
`).replace(K0,"")}function Ph(e,t){return t=Hh(t),Hh(e)===t}function Li(){}function it(e,t,a,n,u,d){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Ll(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Ll(e,""+n);break;case"className":mn(e,"class",n);break;case"tabIndex":mn(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,a,n);break;case"style":Gs(e,n,d);break;case"data":if(t!=="object"){mn(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Pn(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&it(e,t,"name",u.name,u,null),it(e,t,"formEncType",u.formEncType,u,null),it(e,t,"formMethod",u.formMethod,u,null),it(e,t,"formTarget",u.formTarget,u,null)):(it(e,t,"encType",u.encType,u,null),it(e,t,"method",u.method,u,null),it(e,t,"target",u.target,u,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Pn(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Li);break;case"onScroll":n!=null&&Ye("scroll",e);break;case"onScrollEnd":n!=null&&Ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Pn(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Ye("beforetoggle",e),Ye("toggle",e),In(e,"popover",n);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":In(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pc.get(a)||a,In(e,a,n))}}function Ku(e,t,a,n,u,d){switch(a){case"style":Gs(e,n,d);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(c(61));if(a=n.__html,a!=null){if(u.children!=null)throw Error(c(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Ll(e,n):(typeof n=="number"||typeof n=="bigint")&&Ll(e,""+n);break;case"onScroll":n!=null&&Ye("scroll",e);break;case"onScrollEnd":n!=null&&Ye("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),d=e[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof n=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,u);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):In(e,a,n)}}}function Vt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ye("error",e),Ye("load",e);var n=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var g=a[d];if(g!=null)switch(d){case"src":n=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:it(e,t,d,g,a,null)}}u&&it(e,t,"srcSet",a.srcSet,a,null),n&&it(e,t,"src",a.src,a,null);return;case"input":Ye("invalid",e);var T=d=g=u=null,_=null,Y=null;for(n in a)if(a.hasOwnProperty(n)){var ee=a[n];if(ee!=null)switch(n){case"name":u=ee;break;case"type":g=ee;break;case"checked":_=ee;break;case"defaultChecked":Y=ee;break;case"value":d=ee;break;case"defaultValue":T=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(c(137,t));break;default:it(e,t,n,ee,a,null)}}Us(e,d,T,_,Y,g,u,!1),Un(e);return;case"select":Ye("invalid",e),n=g=d=null;for(u in a)if(a.hasOwnProperty(u)&&(T=a[u],T!=null))switch(u){case"value":d=T;break;case"defaultValue":g=T;break;case"multiple":n=T;default:it(e,t,u,T,a,null)}t=d,a=g,e.multiple=!!n,t!=null?Ol(e,!!n,t,!1):a!=null&&Ol(e,!!n,a,!0);return;case"textarea":Ye("invalid",e),d=u=n=null;for(g in a)if(a.hasOwnProperty(g)&&(T=a[g],T!=null))switch(g){case"value":n=T;break;case"defaultValue":u=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(c(91));break;default:it(e,t,g,T,a,null)}Ps(e,n,u,d),Un(e);return;case"option":for(_ in a)if(a.hasOwnProperty(_)&&(n=a[_],n!=null))switch(_){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:it(e,t,_,n,a,null)}return;case"dialog":Ye("beforetoggle",e),Ye("toggle",e),Ye("cancel",e),Ye("close",e);break;case"iframe":case"object":Ye("load",e);break;case"video":case"audio":for(n=0;n<os.length;n++)Ye(os[n],e);break;case"image":Ye("error",e),Ye("load",e);break;case"details":Ye("toggle",e);break;case"embed":case"source":case"link":Ye("error",e),Ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(n=a[Y],n!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:it(e,t,Y,n,a,null)}return;default:if(wr(t)){for(ee in a)a.hasOwnProperty(ee)&&(n=a[ee],n!==void 0&&Ku(e,t,ee,n,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(n=a[T],n!=null&&it(e,t,T,n,a,null))}function V0(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,T=null,_=null,Y=null,ee=null;for(q in a){var ae=a[q];if(a.hasOwnProperty(q)&&ae!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":_=ae;default:n.hasOwnProperty(q)||it(e,t,q,null,n,ae)}}for(var V in n){var q=n[V];if(ae=a[V],n.hasOwnProperty(V)&&(q!=null||ae!=null))switch(V){case"type":d=q;break;case"name":u=q;break;case"checked":Y=q;break;case"defaultChecked":ee=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(c(137,t));break;default:q!==ae&&it(e,t,V,q,n,ae)}}Sr(e,g,T,_,Y,ee,d,u);return;case"select":q=g=T=V=null;for(d in a)if(_=a[d],a.hasOwnProperty(d)&&_!=null)switch(d){case"value":break;case"multiple":q=_;default:n.hasOwnProperty(d)||it(e,t,d,null,n,_)}for(u in n)if(d=n[u],_=a[u],n.hasOwnProperty(u)&&(d!=null||_!=null))switch(u){case"value":V=d;break;case"defaultValue":T=d;break;case"multiple":g=d;default:d!==_&&it(e,t,u,d,n,_)}t=T,a=g,n=q,V!=null?Ol(e,!!a,V,!1):!!n!=!!a&&(t!=null?Ol(e,!!a,t,!0):Ol(e,!!a,a?[]:"",!1));return;case"textarea":q=V=null;for(T in a)if(u=a[T],a.hasOwnProperty(T)&&u!=null&&!n.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:it(e,t,T,null,n,u)}for(g in n)if(u=n[g],d=a[g],n.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":V=u;break;case"defaultValue":q=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(c(91));break;default:u!==d&&it(e,t,g,u,n,d)}Hs(e,V,q);return;case"option":for(var ke in a)if(V=a[ke],a.hasOwnProperty(ke)&&V!=null&&!n.hasOwnProperty(ke))switch(ke){case"selected":e.selected=!1;break;default:it(e,t,ke,null,n,V)}for(_ in n)if(V=n[_],q=a[_],n.hasOwnProperty(_)&&V!==q&&(V!=null||q!=null))switch(_){case"selected":e.selected=V&&typeof V!="function"&&typeof V!="symbol";break;default:it(e,t,_,V,n,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)V=a[Se],a.hasOwnProperty(Se)&&V!=null&&!n.hasOwnProperty(Se)&&it(e,t,Se,null,n,V);for(Y in n)if(V=n[Y],q=a[Y],n.hasOwnProperty(Y)&&V!==q&&(V!=null||q!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(c(137,t));break;default:it(e,t,Y,V,n,q)}return;default:if(wr(t)){for(var ct in a)V=a[ct],a.hasOwnProperty(ct)&&V!==void 0&&!n.hasOwnProperty(ct)&&Ku(e,t,ct,void 0,n,V);for(ee in n)V=n[ee],q=a[ee],!n.hasOwnProperty(ee)||V===q||V===void 0&&q===void 0||Ku(e,t,ee,V,n,q);return}}for(var G in a)V=a[G],a.hasOwnProperty(G)&&V!=null&&!n.hasOwnProperty(G)&&it(e,t,G,null,n,V);for(ae in n)V=n[ae],q=a[ae],!n.hasOwnProperty(ae)||V===q||V==null&&q==null||it(e,t,ae,V,n,q)}var Vu=null,qu=null;function ki(e){return e.nodeType===9?e:e.ownerDocument}function $h(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xu=null;function q0(){var e=window.event;return e&&e.type==="popstate"?e===Xu?!1:(Xu=e,!0):(Xu=null,!1)}var zh=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,Yh=typeof Promise=="function"?Promise:void 0,X0=typeof queueMicrotask=="function"?queueMicrotask:typeof Yh<"u"?function(e){return Yh.resolve(null).then(e).catch(W0)}:zh;function W0(e){setTimeout(function(){throw e})}function Wl(e){return e==="head"}function Kh(e,t){var a=t,n=0,u=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<n&&8>n){a=n;var g=e.ownerDocument;if(a&1&&fs(g.documentElement),a&2&&fs(g.body),a&4)for(a=g.head,fs(a),g=a.firstChild;g;){var T=g.nextSibling,_=g.nodeName;g[hn]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&g.rel.toLowerCase()==="stylesheet"||a.removeChild(g),g=T}}if(u===0){e.removeChild(d),Es(t);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:n=a.charCodeAt(0)-48;else n=0;a=d}while(a);Es(t)}function Wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wu(a),Mt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Z0(e,t,a,n){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[hn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Ha(e.nextSibling),e===null)break}return null}function Q0(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ha(e.nextSibling),e===null))return null;return e}function Zu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function J0(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Ha(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Qu=null;function Vh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function qh(e,t,a){switch(t=ki(a),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function fs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mt(e)}var Oa=new Map,Fh=new Set;function Mi(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vl=de.d;de.d={f:ex,r:tx,D:ax,C:lx,L:nx,m:rx,X:ix,S:sx,M:cx};function ex(){var e=vl.f(),t=Ci();return e||t}function tx(e){var t=fa(e);t!==null&&t.tag===5&&t.type==="form"?pf(t):vl.r(e)}var pr=typeof document>"u"?null:document;function Xh(e,t,a){var n=pr;if(n&&typeof t=="string"&&t){var u=ia(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Fh.has(u)||(Fh.add(u),e={rel:e,crossOrigin:a,href:t},n.querySelector(u)===null&&(t=n.createElement("link"),Vt(t,"link",e),ft(t),n.head.appendChild(t)))}}function ax(e){vl.D(e),Xh("dns-prefetch",e,null)}function lx(e,t){vl.C(e,t),Xh("preconnect",e,t)}function nx(e,t,a){vl.L(e,t,a);var n=pr;if(n&&e&&t){var u='link[rel="preload"][as="'+ia(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+ia(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+ia(a.imageSizes)+'"]')):u+='[href="'+ia(e)+'"]';var d=u;switch(t){case"style":d=mr(e);break;case"script":d=xr(e)}Oa.has(d)||(e=b({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Oa.set(d,e),n.querySelector(u)!==null||t==="style"&&n.querySelector(hs(d))||t==="script"&&n.querySelector(ps(d))||(t=n.createElement("link"),Vt(t,"link",e),ft(t),n.head.appendChild(t)))}}function rx(e,t){vl.m(e,t);var a=pr;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+ia(n)+'"][href="'+ia(e)+'"]',d=u;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=xr(e)}if(!Oa.has(d)&&(e=b({rel:"modulepreload",href:e},t),Oa.set(d,e),a.querySelector(u)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ps(d)))return}n=a.createElement("link"),Vt(n,"link",e),ft(n),a.head.appendChild(n)}}}function sx(e,t,a){vl.S(e,t,a);var n=pr;if(n&&e){var u=na(n).hoistableStyles,d=mr(e);t=t||"default";var g=u.get(d);if(!g){var T={loading:0,preload:null};if(g=n.querySelector(hs(d)))T.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Oa.get(d))&&Ju(e,a);var _=g=n.createElement("link");ft(_),Vt(_,"link",e),_._p=new Promise(function(Y,ee){_.onload=Y,_.onerror=ee}),_.addEventListener("load",function(){T.loading|=1}),_.addEventListener("error",function(){T.loading|=2}),T.loading|=4,_i(g,t,n)}g={type:"stylesheet",instance:g,count:1,state:T},u.set(d,g)}}}function ix(e,t){vl.X(e,t);var a=pr;if(a&&e){var n=na(a).hoistableScripts,u=xr(e),d=n.get(u);d||(d=a.querySelector(ps(u)),d||(e=b({src:e,async:!0},t),(t=Oa.get(u))&&eo(e,t),d=a.createElement("script"),ft(d),Vt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(u,d))}}function cx(e,t){vl.M(e,t);var a=pr;if(a&&e){var n=na(a).hoistableScripts,u=xr(e),d=n.get(u);d||(d=a.querySelector(ps(u)),d||(e=b({src:e,async:!0,type:"module"},t),(t=Oa.get(u))&&eo(e,t),d=a.createElement("script"),ft(d),Vt(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},n.set(u,d))}}function Wh(e,t,a,n){var u=(u=Oe.current)?Mi(u):null;if(!u)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=mr(a.href),a=na(u).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=mr(a.href);var d=na(u).hoistableStyles,g=d.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=u.querySelector(hs(e)))&&!d._p&&(g.instance=d,g.state.loading=5),Oa.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Oa.set(e,a),d||ux(u,e,a,g.state))),t&&n===null)throw Error(c(528,""));return g}if(t&&n!==null)throw Error(c(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=xr(a),a=na(u).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function mr(e){return'href="'+ia(e)+'"'}function hs(e){return'link[rel="stylesheet"]['+e+"]"}function Zh(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function ux(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Vt(t,"link",a),ft(t),e.head.appendChild(t))}function xr(e){return'[src="'+ia(e)+'"]'}function ps(e){return"script[async]"+e}function Qh(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+ia(a.href)+'"]');if(n)return t.instance=n,ft(n),n;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),ft(n),Vt(n,"style",u),_i(n,a.precedence,e),t.instance=n;case"stylesheet":u=mr(a.href);var d=e.querySelector(hs(u));if(d)return t.state.loading|=4,t.instance=d,ft(d),d;n=Zh(a),(u=Oa.get(u))&&Ju(n,u),d=(e.ownerDocument||e).createElement("link"),ft(d);var g=d;return g._p=new Promise(function(T,_){g.onload=T,g.onerror=_}),Vt(d,"link",n),t.state.loading|=4,_i(d,a.precedence,e),t.instance=d;case"script":return d=xr(a.src),(u=e.querySelector(ps(d)))?(t.instance=u,ft(u),u):(n=a,(u=Oa.get(d))&&(n=b({},a),eo(n,u)),e=e.ownerDocument||e,u=e.createElement("script"),ft(u),Vt(u,"link",n),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(n=t.instance,t.state.loading|=4,_i(n,a.precedence,e));return t.instance}function _i(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=n.length?n[n.length-1]:null,d=u,g=0;g<n.length;g++){var T=n[g];if(T.dataset.precedence===t)d=T;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function eo(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Di=null;function Jh(e,t,a){if(Di===null){var n=new Map,u=Di=new Map;u.set(a,n)}else u=Di,n=u.get(a),n||(n=new Map,u.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var d=a[u];if(!(d[hn]||d[St]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var T=n.get(g);T?T.push(d):n.set(g,[d])}}return n}function ep(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function ox(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function tp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ms=null;function dx(){}function fx(e,t,a){if(ms===null)throw Error(c(475));var n=ms;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var u=mr(a.href),d=e.querySelector(hs(u));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=Ii.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=d,ft(d);return}d=e.ownerDocument||e,a=Zh(a),(u=Oa.get(u))&&Ju(a,u),d=d.createElement("link"),ft(d);var g=d;g._p=new Promise(function(T,_){g.onload=T,g.onerror=_}),Vt(d,"link",a),t.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(n.count++,t=Ii.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function hx(){if(ms===null)throw Error(c(475));var e=ms;return e.stylesheets&&e.count===0&&to(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&to(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Ii(){if(this.count--,this.count===0){if(this.stylesheets)to(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ui=null;function to(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ui=new Map,t.forEach(px,e),Ui=null,Ii.call(e))}function px(e,t){if(!(t.state.loading&4)){var a=Ui.get(e);if(a)var n=a.get(null);else{a=new Map,Ui.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),n=g)}n&&a.set(null,n)}u=t.instance,g=u.getAttribute("data-precedence"),d=a.get(g)||n,d===n&&a.set(null,u),a.set(g,u),this.count++,n=Ii.bind(this),u.addEventListener("load",n),u.addEventListener("error",n),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var xs={$$typeof:I,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function mx(e,t,a,n,u,d,g,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rl(0),this.hiddenUpdates=Rl(null),this.identifierPrefix=n,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function ap(e,t,a,n,u,d,g,T,_,Y,ee,ae){return e=new mx(e,t,a,g,T,_,Y,ae),t=1,d===!0&&(t|=24),d=pa(3,null,null,t),e.current=d,d.stateNode=e,t=Dc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:n,isDehydrated:a,cache:t},Pc(d),e}function lp(e){return e?(e=qn,e):qn}function np(e,t,a,n,u,d){u=lp(u),n.context===null?n.context=u:n.pendingContext=u,n=Il(t),n.payload={element:a},d=d===void 0?null:d,d!==null&&(n.callback=d),a=Ul(e,n,t),a!==null&&(ba(a,e,t),Vr(a,e,t))}function rp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function ao(e,t){rp(e,t),(e=e.alternate)&&rp(e,t)}function sp(e){if(e.tag===13){var t=Vn(e,67108864);t!==null&&ba(t,e,67108864),ao(e,67108864)}}var Hi=!0;function xx(e,t,a,n){var u=W.T;W.T=null;var d=de.p;try{de.p=2,lo(e,t,a,n)}finally{de.p=d,W.T=u}}function yx(e,t,a,n){var u=W.T;W.T=null;var d=de.p;try{de.p=8,lo(e,t,a,n)}finally{de.p=d,W.T=u}}function lo(e,t,a,n){if(Hi){var u=no(n);if(u===null)Yu(e,t,n,Pi,a),cp(e,n);else if(bx(u,e,t,a,n))n.stopPropagation();else if(cp(e,n),t&4&&-1<gx.indexOf(e)){for(;u!==null;){var d=fa(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Re(d.pendingLanes);if(g!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var _=1<<31-et(g);T.entanglements[1]|=_,g&=~_}Ja(d),(lt&6)===0&&(Ti=ue()+500,us(0))}}break;case 13:T=Vn(d,2),T!==null&&ba(T,d,2),Ci(),ao(d,2)}if(d=no(n),d===null&&Yu(e,t,n,Pi,a),d===u)break;u=d}u!==null&&n.stopPropagation()}else Yu(e,t,n,null,a)}}function no(e){return e=jr(e),ro(e)}var Pi=null;function ro(e){if(Pi=null,e=pt(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pi=e,null}function ip(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mn()){case on:return 2;case It:return 8;case pe:case Nt:return 32;case $e:return 268435456;default:return 32}default:return 32}}var so=!1,Zl=null,Ql=null,Jl=null,ys=new Map,gs=new Map,en=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cp(e,t){switch(e){case"focusin":case"focusout":Zl=null;break;case"dragenter":case"dragleave":Ql=null;break;case"mouseover":case"mouseout":Jl=null;break;case"pointerover":case"pointerout":ys.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function bs(e,t,a,n,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:d,targetContainers:[u]},t!==null&&(t=fa(t),t!==null&&sp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function bx(e,t,a,n,u){switch(t){case"focusin":return Zl=bs(Zl,e,t,a,n,u),!0;case"dragenter":return Ql=bs(Ql,e,t,a,n,u),!0;case"mouseover":return Jl=bs(Jl,e,t,a,n,u),!0;case"pointerover":var d=u.pointerId;return ys.set(d,bs(ys.get(d)||null,e,t,a,n,u)),!0;case"gotpointercapture":return d=u.pointerId,gs.set(d,bs(gs.get(d)||null,e,t,a,n,u)),!0}return!1}function up(e){var t=pt(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,Dn(e.priority,function(){if(a.tag===13){var n=ga();n=rl(n);var u=Vn(a,n);u!==null&&ba(u,a,n),ao(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $i(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=no(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Br=n,a.target.dispatchEvent(n),Br=null}else return t=fa(a),t!==null&&sp(t),e.blockedOn=a,!1;t.shift()}return!0}function op(e,t,a){$i(e)&&a.delete(t)}function Ex(){so=!1,Zl!==null&&$i(Zl)&&(Zl=null),Ql!==null&&$i(Ql)&&(Ql=null),Jl!==null&&$i(Jl)&&(Jl=null),ys.forEach(op),gs.forEach(op)}function Gi(e,t){e.blockedOn===t&&(e.blockedOn=null,so||(so=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Ex)))}var zi=null;function dp(e){zi!==e&&(zi=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){zi===e&&(zi=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],u=e[t+2];if(typeof n!="function"){if(ro(n||a)===null)continue;break}var d=fa(a);d!==null&&(e.splice(t,3),t-=3,ru(d,{pending:!0,data:u,method:a.method,action:n},n,u))}}))}function Es(e){function t(_){return Gi(_,e)}Zl!==null&&Gi(Zl,e),Ql!==null&&Gi(Ql,e),Jl!==null&&Gi(Jl,e),ys.forEach(t),gs.forEach(t);for(var a=0;a<en.length;a++){var n=en[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<en.length&&(a=en[0],a.blockedOn===null);)up(a),a.blockedOn===null&&en.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var u=a[n],d=a[n+1],g=u[Ut]||null;if(typeof d=="function")g||dp(a);else if(g){var T=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[Ut]||null)T=g.formAction;else if(ro(u)!==null)continue}else T=g.action;typeof T=="function"?a[n+1]=T:(a.splice(n,3),n-=3),dp(a)}}}function io(e){this._internalRoot=e}Yi.prototype.render=io.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var a=t.current,n=ga();np(a,n,e,t,null,null)},Yi.prototype.unmount=io.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;np(e.current,2,null,e,null,null),Ci(),t[la]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var t=fn();e={blockedOn:null,target:e,priority:t};for(var a=0;a<en.length&&t!==0&&t<en[a].priority;a++);en.splice(a,0,e),a===0&&up(e)}};var fp=r.version;if(fp!=="19.1.1")throw Error(c(527,fp,"19.1.1"));de.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=p(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var vx={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ki.isDisabled&&Ki.supportsFiber)try{re=Ki.inject(vx),Me=Ki}catch{}}return Ns.createRoot=function(e,t){if(!o(e))throw Error(c(299));var a=!1,n="",u=wf,d=Bf,g=jf,T=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(T=t.unstable_transitionCallbacks)),t=ap(e,1,!1,null,null,a,n,u,d,g,T,null),e[la]=t.current,zu(e),new io(t)},Ns.hydrateRoot=function(e,t,a){if(!o(e))throw Error(c(299));var n=!1,u="",d=wf,g=Bf,T=jf,_=null,Y=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(_=a.unstable_transitionCallbacks),a.formState!==void 0&&(Y=a.formState)),t=ap(e,1,!0,t,a??null,n,u,d,g,T,_,Y),t.context=lp(null),a=t.current,n=ga(),n=rl(n),u=Il(n),u.callback=null,Ul(a,u,n),a=n,t.current.lanes=a,nl(t,a),Ja(t),e[la]=t.current,zu(e),new Yi(t)},Ns.version="19.1.1",Ns}var Np;function Lx(){if(Np)return oo.exports;Np=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch{}}return l(),oo.exports=Ox(),oo.exports}var kx=Lx();const Mx=Yp(kx),_x="modulepreload",Dx=function(l){return"/"+l},Tp={},ta=function(r,i,c){let o=Promise.resolve();if(i&&i.length>0){let f=function(x){return Promise.all(x.map(b=>Promise.resolve(b).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const v=document.querySelector("meta[property=csp-nonce]"),p=(v==null?void 0:v.nonce)||(v==null?void 0:v.getAttribute("nonce"));o=f(i.map(x=>{if(x=Dx(x),x in Tp)return;Tp[x]=!0;const b=x.endsWith(".css"),y=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${x}"]${y}`))return;const N=document.createElement("link");if(N.rel=b?"stylesheet":_x,b||(N.as="script"),N.crossOrigin="",N.href=x,p&&N.setAttribute("nonce",p),document.head.appendChild(N),b)return new Promise((A,C)=>{N.addEventListener("load",A),N.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${x}`)))})}))}function m(f){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=f,window.dispatchEvent(v),!v.defaultPrevented)throw f}return o.then(f=>{for(const v of f||[])v.status==="rejected"&&m(v.reason);return r().catch(m)})};/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ap="popstate";function Ix(l={}){function r(c,o){let{pathname:m,search:f,hash:v}=c.location;return Ao("",{pathname:m,search:f,hash:v},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(c,o){return typeof o=="string"?o:Cs(o)}return Hx(r,i,null,l)}function yt(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function $a(l,r){if(!l)try{throw new Error(r)}catch{}}function Ux(){return Math.random().toString(36).substring(2,10)}function Cp(l,r){return{usr:l.state,key:l.key,idx:r}}function Ao(l,r,i=null,c){return{pathname:typeof l=="string"?l:l.pathname,search:"",hash:"",...typeof r=="string"?Er(r):r,state:i,key:r&&r.key||c||Ux()}}function Cs({pathname:l="/",search:r="",hash:i=""}){return r&&r!=="?"&&(l+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(l+=i.charAt(0)==="#"?i:"#"+i),l}function Er(l){let r={};if(l){let i=l.indexOf("#");i>=0&&(r.hash=l.substring(i),l=l.substring(0,i));let c=l.indexOf("?");c>=0&&(r.search=l.substring(c),l=l.substring(0,c)),l&&(r.pathname=l)}return r}function Hx(l,r,i,c={}){let{window:o=document.defaultView,v5Compat:m=!1}=c,f=o.history,v="POP",p=null,x=b();x==null&&(x=0,f.replaceState({...f.state,idx:x},""));function b(){return(f.state||{idx:null}).idx}function y(){v="POP";let E=b(),O=E==null?null:E-x;x=E,p&&p({action:v,location:h.location,delta:O})}function N(E,O){v="PUSH";let M=Ao(h.location,E,O);x=b()+1;let I=Cp(M,x),le=h.createHref(M);try{f.pushState(I,"",le)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;o.location.assign(le)}m&&p&&p({action:v,location:h.location,delta:1})}function A(E,O){v="REPLACE";let M=Ao(h.location,E,O);x=b();let I=Cp(M,x),le=h.createHref(M);f.replaceState(I,"",le),m&&p&&p({action:v,location:h.location,delta:0})}function C(E){return Px(E)}let h={get action(){return v},get location(){return l(o,f)},listen(E){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ap,y),p=E,()=>{o.removeEventListener(Ap,y),p=null}},createHref(E){return r(o,E)},createURL:C,encodeLocation(E){let O=C(E);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:N,replace:A,go(E){return f.go(E)}};return h}function Px(l,r=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),yt(i,"No window.location.(origin|href) available to create URL");let c=typeof l=="string"?l:Cs(l);return c=c.replace(/ $/,"%20"),!r&&c.startsWith("//")&&(c=i+c),new URL(c,i)}function Kp(l,r,i="/"){return $x(l,r,i,!1)}function $x(l,r,i,c){let o=typeof r=="string"?Er(r):r,m=Al(o.pathname||"/",i);if(m==null)return null;let f=Vp(l);Gx(f);let v=null;for(let p=0;v==null&&p<f.length;++p){let x=Jx(m);v=Zx(f[p],x,c)}return v}function Vp(l,r=[],i=[],c="",o=!1){let m=(f,v,p=o,x)=>{let b={relativePath:x===void 0?f.path||"":x,caseSensitive:f.caseSensitive===!0,childrenIndex:v,route:f};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(c)&&p)return;yt(b.relativePath.startsWith(c),`Absolute route path "${b.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(c.length)}let y=Tl([c,b.relativePath]),N=i.concat(b);f.children&&f.children.length>0&&(yt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Vp(f.children,r,N,y,p)),!(f.path==null&&!f.index)&&r.push({path:y,score:Xx(y,f.index),routesMeta:N})};return l.forEach((f,v)=>{var p;if(f.path===""||!((p=f.path)!=null&&p.includes("?")))m(f,v);else for(let x of qp(f.path))m(f,v,!0,x)}),r}function qp(l){let r=l.split("/");if(r.length===0)return[];let[i,...c]=r,o=i.endsWith("?"),m=i.replace(/\?$/,"");if(c.length===0)return o?[m,""]:[m];let f=qp(c.join("/")),v=[];return v.push(...f.map(p=>p===""?m:[m,p].join("/"))),o&&v.push(...f),v.map(p=>l.startsWith("/")&&p===""?"/":p)}function Gx(l){l.sort((r,i)=>r.score!==i.score?i.score-r.score:Wx(r.routesMeta.map(c=>c.childrenIndex),i.routesMeta.map(c=>c.childrenIndex)))}var zx=/^:[\w-]+$/,Yx=3,Kx=2,Vx=1,qx=10,Fx=-2,Sp=l=>l==="*";function Xx(l,r){let i=l.split("/"),c=i.length;return i.some(Sp)&&(c+=Fx),r&&(c+=Kx),i.filter(o=>!Sp(o)).reduce((o,m)=>o+(zx.test(m)?Yx:m===""?Vx:qx),c)}function Wx(l,r){return l.length===r.length&&l.slice(0,-1).every((c,o)=>c===r[o])?l[l.length-1]-r[r.length-1]:0}function Zx(l,r,i=!1){let{routesMeta:c}=l,o={},m="/",f=[];for(let v=0;v<c.length;++v){let p=c[v],x=v===c.length-1,b=m==="/"?r:r.slice(m.length)||"/",y=Qi({path:p.relativePath,caseSensitive:p.caseSensitive,end:x},b),N=p.route;if(!y&&x&&i&&!c[c.length-1].route.index&&(y=Qi({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!y)return null;Object.assign(o,y.params),f.push({params:o,pathname:Tl([m,y.pathname]),pathnameBase:ny(Tl([m,y.pathnameBase])),route:N}),y.pathnameBase!=="/"&&(m=Tl([m,y.pathnameBase]))}return f}function Qi(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[i,c]=Qx(l.path,l.caseSensitive,l.end),o=r.match(i);if(!o)return null;let m=o[0],f=m.replace(/(.)\/+$/,"$1"),v=o.slice(1);return{params:c.reduce((x,{paramName:b,isOptional:y},N)=>{if(b==="*"){let C=v[N]||"";f=m.slice(0,m.length-C.length).replace(/(.)\/+$/,"$1")}const A=v[N];return y&&!A?x[b]=void 0:x[b]=(A||"").replace(/%2F/g,"/"),x},{}),pathname:m,pathnameBase:f,pattern:l}}function Qx(l,r=!1,i=!0){$a(l==="*"||!l.endsWith("*")||l.endsWith("/*"),`Route path "${l}" will be treated as if it were "${l.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${l.replace(/\*$/,"/*")}".`);let c=[],o="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,v,p)=>(c.push({paramName:v,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return l.endsWith("*")?(c.push({paramName:"*"}),o+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":l!==""&&l!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,r?void 0:"i"),c]}function Jx(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return $a(!1,`The URL path "${l}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),l}}function Al(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,c=l.charAt(i);return c&&c!=="/"?null:l.slice(i)||"/"}var ey=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ty=l=>ey.test(l);function ay(l,r="/"){let{pathname:i,search:c="",hash:o=""}=typeof l=="string"?Er(l):l,m;if(i)if(ty(i))m=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),$a(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?m=Rp(i.substring(1),"/"):m=Rp(i,r)}else m=r;return{pathname:m,search:ry(c),hash:sy(o)}}function Rp(l,r){let i=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function mo(l,r,i,c){return`Cannot include a '${l}' character in a manually specified \`to.${r}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ly(l){return l.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function Fp(l){let r=ly(l);return r.map((i,c)=>c===r.length-1?i.pathname:i.pathnameBase)}function Xp(l,r,i,c=!1){let o;typeof l=="string"?o=Er(l):(o={...l},yt(!o.pathname||!o.pathname.includes("?"),mo("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),mo("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),mo("#","search","hash",o)));let m=l===""||o.pathname==="",f=m?"/":o.pathname,v;if(f==null)v=i;else{let y=r.length-1;if(!c&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),y-=1;o.pathname=N.join("/")}v=y>=0?r[y]:"/"}let p=ay(o,v),x=f&&f!=="/"&&f.endsWith("/"),b=(m||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(x||b)&&(p.pathname+="/"),p}var Tl=l=>l.join("/").replace(/\/\/+/g,"/"),ny=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),ry=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,sy=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function iy(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}function cy(l){return l.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Wp=["POST","PUT","PATCH","DELETE"];new Set(Wp);var uy=["GET",...Wp];new Set(uy);var vr=R.createContext(null);vr.displayName="DataRouter";var nc=R.createContext(null);nc.displayName="DataRouterState";R.createContext(!1);var Zp=R.createContext({isTransitioning:!1});Zp.displayName="ViewTransition";var oy=R.createContext(new Map);oy.displayName="Fetchers";var dy=R.createContext(null);dy.displayName="Await";var za=R.createContext(null);za.displayName="Navigation";var Rs=R.createContext(null);Rs.displayName="Location";var Ya=R.createContext({outlet:null,matches:[],isDataRoute:!1});Ya.displayName="Route";var Mo=R.createContext(null);Mo.displayName="RouteError";function fy(l,{relative:r}={}){yt(ws(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:c}=R.useContext(za),{hash:o,pathname:m,search:f}=Bs(l,{relative:r}),v=m;return i!=="/"&&(v=m==="/"?i:Tl([i,m])),c.createHref({pathname:v,search:f,hash:o})}function ws(){return R.useContext(Rs)!=null}function sn(){return yt(ws(),"useLocation() may be used only in the context of a <Router> component."),R.useContext(Rs).location}var Qp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Jp(l){R.useContext(za).static||R.useLayoutEffect(l)}function hy(){let{isDataRoute:l}=R.useContext(Ya);return l?wy():py()}function py(){yt(ws(),"useNavigate() may be used only in the context of a <Router> component.");let l=R.useContext(vr),{basename:r,navigator:i}=R.useContext(za),{matches:c}=R.useContext(Ya),{pathname:o}=sn(),m=JSON.stringify(Fp(c)),f=R.useRef(!1);return Jp(()=>{f.current=!0}),R.useCallback((p,x={})=>{if($a(f.current,Qp),!f.current)return;if(typeof p=="number"){i.go(p);return}let b=Xp(p,JSON.parse(m),o,x.relative==="path");l==null&&r!=="/"&&(b.pathname=b.pathname==="/"?r:Tl([r,b.pathname])),(x.replace?i.replace:i.push)(b,x.state,x)},[r,i,m,o,l])}var my=R.createContext(null);function xy(l){let r=R.useContext(Ya).outlet;return R.useMemo(()=>r&&R.createElement(my.Provider,{value:l},r),[r,l])}function dE(){let{matches:l}=R.useContext(Ya),r=l[l.length-1];return r?r.params:{}}function Bs(l,{relative:r}={}){let{matches:i}=R.useContext(Ya),{pathname:c}=sn(),o=JSON.stringify(Fp(i));return R.useMemo(()=>Xp(l,JSON.parse(o),c,r==="path"),[l,o,c,r])}function yy(l,r){return em(l,r)}function em(l,r,i,c,o){var M;yt(ws(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:m}=R.useContext(za),{matches:f}=R.useContext(Ya),v=f[f.length-1],p=v?v.params:{},x=v?v.pathname:"/",b=v?v.pathnameBase:"/",y=v&&v.route;{let I=y&&y.path||"";tm(x,!y||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let N=sn(),A;if(r){let I=typeof r=="string"?Er(r):r;yt(b==="/"||((M=I.pathname)==null?void 0:M.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${I.pathname}" was given in the \`location\` prop.`),A=I}else A=N;let C=A.pathname||"/",h=C;if(b!=="/"){let I=b.replace(/^\//,"").split("/");h="/"+C.replace(/^\//,"").split("/").slice(I.length).join("/")}let E=Kp(l,{pathname:h});$a(y||E!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),$a(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=Ny(E&&E.map(I=>Object.assign({},I,{params:Object.assign({},p,I.params),pathname:Tl([b,m.encodeLocation?m.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?b:Tl([b,m.encodeLocation?m.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),f,i,c,o);return r&&O?R.createElement(Rs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},O):O}function gy(){let l=Ry(),r=iy(l)?`${l.status} ${l.statusText}`:l instanceof Error?l.message:JSON.stringify(l),i=l instanceof Error?l.stack:null,c="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:c},m={padding:"2px 4px",backgroundColor:c},f=null;return f=R.createElement(R.Fragment,null,R.createElement("p",null," Hey developer "),R.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",R.createElement("code",{style:m},"ErrorBoundary")," or"," ",R.createElement("code",{style:m},"errorElement")," prop on your route.")),R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),i?R.createElement("pre",{style:o},i):null,f)}var by=R.createElement(gy,null),Ey=class extends R.Component{constructor(l){super(l),this.state={location:l.location,revalidation:l.revalidation,error:l.error}}static getDerivedStateFromError(l){return{error:l}}static getDerivedStateFromProps(l,r){return r.location!==l.location||r.revalidation!=="idle"&&l.revalidation==="idle"?{error:l.error,location:l.location,revalidation:l.revalidation}:{error:l.error!==void 0?l.error:r.error,location:r.location,revalidation:l.revalidation||r.revalidation}}componentDidCatch(l,r){this.props.onError&&this.props.onError(l,r)}render(){return this.state.error!==void 0?R.createElement(Ya.Provider,{value:this.props.routeContext},R.createElement(Mo.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vy({routeContext:l,match:r,children:i}){let c=R.useContext(vr);return c&&c.static&&c.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=r.route.id),R.createElement(Ya.Provider,{value:l},i)}function Ny(l,r=[],i=null,c=null,o=null){if(l==null){if(!i)return null;if(i.errors)l=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)l=i.matches;else return null}let m=l,f=i==null?void 0:i.errors;if(f!=null){let b=m.findIndex(y=>y.route.id&&(f==null?void 0:f[y.route.id])!==void 0);yt(b>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),m=m.slice(0,Math.min(m.length,b+1))}let v=!1,p=-1;if(i)for(let b=0;b<m.length;b++){let y=m[b];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=b),y.route.id){let{loaderData:N,errors:A}=i,C=y.route.loader&&!N.hasOwnProperty(y.route.id)&&(!A||A[y.route.id]===void 0);if(y.route.lazy||C){v=!0,p>=0?m=m.slice(0,p+1):m=[m[0]];break}}}let x=i&&c?(b,y)=>{var N,A;c(b,{location:i.location,params:((A=(N=i.matches)==null?void 0:N[0])==null?void 0:A.params)??{},unstable_pattern:cy(i.matches),errorInfo:y})}:void 0;return m.reduceRight((b,y,N)=>{let A,C=!1,h=null,E=null;i&&(A=f&&y.route.id?f[y.route.id]:void 0,h=y.route.errorElement||by,v&&(p<0&&N===0?(tm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,E=null):p===N&&(C=!0,E=y.route.hydrateFallbackElement||null)));let O=r.concat(m.slice(0,N+1)),M=()=>{let I;return A?I=h:C?I=E:y.route.Component?I=R.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=b,R.createElement(vy,{match:y,routeContext:{outlet:b,matches:O,isDataRoute:i!=null},children:I})};return i&&(y.route.ErrorBoundary||y.route.errorElement||N===0)?R.createElement(Ey,{location:i.location,revalidation:i.revalidation,component:h,error:A,children:M(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:x}):M()},null)}function _o(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ty(l){let r=R.useContext(vr);return yt(r,_o(l)),r}function Ay(l){let r=R.useContext(nc);return yt(r,_o(l)),r}function Cy(l){let r=R.useContext(Ya);return yt(r,_o(l)),r}function Do(l){let r=Cy(l),i=r.matches[r.matches.length-1];return yt(i.route.id,`${l} can only be used on routes that contain a unique "id"`),i.route.id}function Sy(){return Do("useRouteId")}function Ry(){var c;let l=R.useContext(Mo),r=Ay("useRouteError"),i=Do("useRouteError");return l!==void 0?l:(c=r.errors)==null?void 0:c[i]}function wy(){let{router:l}=Ty("useNavigate"),r=Do("useNavigate"),i=R.useRef(!1);return Jp(()=>{i.current=!0}),R.useCallback(async(o,m={})=>{$a(i.current,Qp),i.current&&(typeof o=="number"?await l.navigate(o):await l.navigate(o,{fromRouteId:r,...m}))},[l,r])}var wp={};function tm(l,r,i){!r&&!wp[l]&&(wp[l]=!0,$a(!1,i))}R.memo(By);function By({routes:l,future:r,state:i,unstable_onError:c}){return em(l,void 0,i,c,r)}function fE(l){return xy(l.context)}function Xt(l){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jy({basename:l="/",children:r=null,location:i,navigationType:c="POP",navigator:o,static:m=!1,unstable_useTransitions:f}){yt(!ws(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=l.replace(/^\/*/,"/"),p=R.useMemo(()=>({basename:v,navigator:o,static:m,unstable_useTransitions:f,future:{}}),[v,o,m,f]);typeof i=="string"&&(i=Er(i));let{pathname:x="/",search:b="",hash:y="",state:N=null,key:A="default"}=i,C=R.useMemo(()=>{let h=Al(x,v);return h==null?null:{location:{pathname:h,search:b,hash:y,state:N,key:A},navigationType:c}},[v,x,b,y,N,A,c]);return $a(C!=null,`<Router basename="${v}"> is not able to match the URL "${x}${b}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:R.createElement(za.Provider,{value:p},R.createElement(Rs.Provider,{children:r,value:C}))}function Oy({children:l,location:r}){return yy(Co(l),r)}function Co(l,r=[]){let i=[];return R.Children.forEach(l,(c,o)=>{if(!R.isValidElement(c))return;let m=[...r,o];if(c.type===R.Fragment){i.push.apply(i,Co(c.props.children,m));return}yt(c.type===Xt,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!c.props.index||!c.props.children,"An index route cannot have child routes.");let f={id:c.props.id||m.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(f.children=Co(c.props.children,m)),i.push(f)}),i}var Wi="get",Zi="application/x-www-form-urlencoded";function rc(l){return typeof HTMLElement<"u"&&l instanceof HTMLElement}function Ly(l){return rc(l)&&l.tagName.toLowerCase()==="button"}function ky(l){return rc(l)&&l.tagName.toLowerCase()==="form"}function My(l){return rc(l)&&l.tagName.toLowerCase()==="input"}function _y(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function Dy(l,r){return l.button===0&&(!r||r==="_self")&&!_y(l)}var Vi=null;function Iy(){if(Vi===null)try{new FormData(document.createElement("form"),0),Vi=!1}catch{Vi=!0}return Vi}var Uy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xo(l){return l!=null&&!Uy.has(l)?($a(!1,`"${l}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zi}"`),null):l}function Hy(l,r){let i,c,o,m,f;if(ky(l)){let v=l.getAttribute("action");c=v?Al(v,r):null,i=l.getAttribute("method")||Wi,o=xo(l.getAttribute("enctype"))||Zi,m=new FormData(l)}else if(Ly(l)||My(l)&&(l.type==="submit"||l.type==="image")){let v=l.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=l.getAttribute("formaction")||v.getAttribute("action");if(c=p?Al(p,r):null,i=l.getAttribute("formmethod")||v.getAttribute("method")||Wi,o=xo(l.getAttribute("formenctype"))||xo(v.getAttribute("enctype"))||Zi,m=new FormData(v,l),!Iy()){let{name:x,type:b,value:y}=l;if(b==="image"){let N=x?`${x}.`:"";m.append(`${N}x`,"0"),m.append(`${N}y`,"0")}else x&&m.append(x,y)}}else{if(rc(l))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Wi,c=null,o=Zi,f=l}return m&&o==="text/plain"&&(f=m,m=void 0),{action:c,method:i.toLowerCase(),encType:o,formData:m,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Io(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function Py(l,r,i){let c=typeof l=="string"?new URL(l,typeof window>"u"?"server://singlefetch/":window.location.origin):l;return c.pathname==="/"?c.pathname=`_root.${i}`:r&&Al(c.pathname,r)==="/"?c.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${i}`,c}async function $y(l,r){if(l.id in r)return r[l.id];try{let i=await import(l.module);return r[l.id]=i,i}catch{return window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Gy(l){return l==null?!1:l.href==null?l.rel==="preload"&&typeof l.imageSrcSet=="string"&&typeof l.imageSizes=="string":typeof l.rel=="string"&&typeof l.href=="string"}async function zy(l,r,i){let c=await Promise.all(l.map(async o=>{let m=r.routes[o.route.id];if(m){let f=await $y(m,i);return f.links?f.links():[]}return[]}));return qy(c.flat(1).filter(Gy).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Bp(l,r,i,c,o,m){let f=(p,x)=>i[x]?p.route.id!==i[x].route.id:!0,v=(p,x)=>{var b;return i[x].pathname!==p.pathname||((b=i[x].route.path)==null?void 0:b.endsWith("*"))&&i[x].params["*"]!==p.params["*"]};return m==="assets"?r.filter((p,x)=>f(p,x)||v(p,x)):m==="data"?r.filter((p,x)=>{var y;let b=c.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(f(p,x)||v(p,x))return!0;if(p.route.shouldRevalidate){let N=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=i[0])==null?void 0:y.params)||{},nextUrl:new URL(l,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Yy(l,r,{includeHydrateFallback:i}={}){return Ky(l.map(c=>{let o=r.routes[c.route.id];if(!o)return[];let m=[o.module];return o.clientActionModule&&(m=m.concat(o.clientActionModule)),o.clientLoaderModule&&(m=m.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(m=m.concat(o.hydrateFallbackModule)),o.imports&&(m=m.concat(o.imports)),m}).flat(1))}function Ky(l){return[...new Set(l)]}function Vy(l){let r={},i=Object.keys(l).sort();for(let c of i)r[c]=l[c];return r}function qy(l,r){let i=new Set;return new Set(r),l.reduce((c,o)=>{let m=JSON.stringify(Vy(o));return i.has(m)||(i.add(m),c.push({key:m,link:o})),c},[])}function am(){let l=R.useContext(vr);return Io(l,"You must render this element inside a <DataRouterContext.Provider> element"),l}function Fy(){let l=R.useContext(nc);return Io(l,"You must render this element inside a <DataRouterStateContext.Provider> element"),l}var Uo=R.createContext(void 0);Uo.displayName="FrameworkContext";function lm(){let l=R.useContext(Uo);return Io(l,"You must render this element inside a <HydratedRouter> element"),l}function Xy(l,r){let i=R.useContext(Uo),[c,o]=R.useState(!1),[m,f]=R.useState(!1),{onFocus:v,onBlur:p,onMouseEnter:x,onMouseLeave:b,onTouchStart:y}=r,N=R.useRef(null);R.useEffect(()=>{if(l==="render"&&f(!0),l==="viewport"){let h=O=>{O.forEach(M=>{f(M.isIntersecting)})},E=new IntersectionObserver(h,{threshold:.5});return N.current&&E.observe(N.current),()=>{E.disconnect()}}},[l]),R.useEffect(()=>{if(c){let h=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(h)}}},[c]);let A=()=>{o(!0)},C=()=>{o(!1),f(!1)};return i?l!=="intent"?[m,N,{}]:[m,N,{onFocus:Ts(v,A),onBlur:Ts(p,C),onMouseEnter:Ts(x,A),onMouseLeave:Ts(b,C),onTouchStart:Ts(y,A)}]:[!1,N,{}]}function Ts(l,r){return i=>{l&&l(i),i.defaultPrevented||r(i)}}function Wy({page:l,...r}){let{router:i}=am(),c=R.useMemo(()=>Kp(i.routes,l,i.basename),[i.routes,l,i.basename]);return c?R.createElement(Qy,{page:l,matches:c,...r}):null}function Zy(l){let{manifest:r,routeModules:i}=lm(),[c,o]=R.useState([]);return R.useEffect(()=>{let m=!1;return zy(l,r,i).then(f=>{m||o(f)}),()=>{m=!0}},[l,r,i]),c}function Qy({page:l,matches:r,...i}){let c=sn(),{manifest:o,routeModules:m}=lm(),{basename:f}=am(),{loaderData:v,matches:p}=Fy(),x=R.useMemo(()=>Bp(l,r,p,o,c,"data"),[l,r,p,o,c]),b=R.useMemo(()=>Bp(l,r,p,o,c,"assets"),[l,r,p,o,c]),y=R.useMemo(()=>{if(l===c.pathname+c.search+c.hash)return[];let C=new Set,h=!1;if(r.forEach(O=>{var I;let M=o.routes[O.route.id];!M||!M.hasLoader||(!x.some(le=>le.route.id===O.route.id)&&O.route.id in v&&((I=m[O.route.id])!=null&&I.shouldRevalidate)||M.hasClientLoader?h=!0:C.add(O.route.id))}),C.size===0)return[];let E=Py(l,f,"data");return h&&C.size>0&&E.searchParams.set("_routes",r.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[E.pathname+E.search]},[f,v,c,o,x,r,l,m]),N=R.useMemo(()=>Yy(b,o),[b,o]),A=Zy(b);return R.createElement(R.Fragment,null,y.map(C=>R.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),N.map(C=>R.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),A.map(({key:C,link:h})=>R.createElement("link",{key:C,nonce:i.nonce,...h})))}function Jy(...l){return r=>{l.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var nm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nm&&(window.__reactRouterVersion="7.10.1")}catch{}function eg({basename:l,children:r,unstable_useTransitions:i,window:c}){let o=R.useRef();o.current==null&&(o.current=Ix({window:c,v5Compat:!0}));let m=o.current,[f,v]=R.useState({action:m.action,location:m.location}),p=R.useCallback(x=>{i===!1?v(x):R.startTransition(()=>v(x))},[i]);return R.useLayoutEffect(()=>m.listen(p),[m,p]),R.createElement(jy,{basename:l,children:r,location:f.location,navigationType:f.action,navigator:m,unstable_useTransitions:i===!0})}var rm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,va=R.forwardRef(function({onClick:r,discover:i="render",prefetch:c="none",relative:o,reloadDocument:m,replace:f,state:v,target:p,to:x,preventScrollReset:b,viewTransition:y,...N},A){let{basename:C,unstable_useTransitions:h}=R.useContext(za),E=typeof x=="string"&&rm.test(x),O,M=!1;if(typeof x=="string"&&E&&(O=x,nm))try{let je=new URL(window.location.href),Je=x.startsWith("//")?new URL(je.protocol+x):new URL(x),De=Al(Je.pathname,C);Je.origin===je.origin&&De!=null?x=De+Je.search+Je.hash:M=!0}catch{$a(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let I=fy(x,{relative:o}),[le,Q,ie]=Xy(c,N),Ee=lg(x,{replace:f,state:v,target:p,preventScrollReset:b,relative:o,viewTransition:y,unstable_useTransitions:h});function fe(je){r&&r(je),je.defaultPrevented||Ee(je)}let oe=R.createElement("a",{...N,...ie,href:O||I,onClick:M||m?r:fe,ref:Jy(A,Q),target:p,"data-discover":!E&&i==="render"?"true":void 0});return le&&!E?R.createElement(R.Fragment,null,oe,R.createElement(Wy,{page:I})):oe});va.displayName="Link";var gr=R.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:c="",end:o=!1,style:m,to:f,viewTransition:v,children:p,...x},b){let y=Bs(f,{relative:x.relative}),N=sn(),A=R.useContext(nc),{navigator:C,basename:h}=R.useContext(za),E=A!=null&&cg(y)&&v===!0,O=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,M=N.pathname,I=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(M=M.toLowerCase(),I=I?I.toLowerCase():null,O=O.toLowerCase()),I&&h&&(I=Al(I,h)||I);const le=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Q=M===O||!o&&M.startsWith(O)&&M.charAt(le)==="/",ie=I!=null&&(I===O||!o&&I.startsWith(O)&&I.charAt(O.length)==="/"),Ee={isActive:Q,isPending:ie,isTransitioning:E},fe=Q?r:void 0,oe;typeof c=="function"?oe=c(Ee):oe=[c,Q?"active":null,ie?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let je=typeof m=="function"?m(Ee):m;return R.createElement(va,{...x,"aria-current":fe,className:oe,ref:b,style:je,to:f,viewTransition:v},typeof p=="function"?p(Ee):p)});gr.displayName="NavLink";var tg=R.forwardRef(({discover:l="render",fetcherKey:r,navigate:i,reloadDocument:c,replace:o,state:m,method:f=Wi,action:v,onSubmit:p,relative:x,preventScrollReset:b,viewTransition:y,...N},A)=>{let{unstable_useTransitions:C}=R.useContext(za),h=sg(),E=ig(v,{relative:x}),O=f.toLowerCase()==="get"?"get":"post",M=typeof v=="string"&&rm.test(v),I=le=>{if(p&&p(le),le.defaultPrevented)return;le.preventDefault();let Q=le.nativeEvent.submitter,ie=(Q==null?void 0:Q.getAttribute("formmethod"))||f,Ee=()=>h(Q||le.currentTarget,{fetcherKey:r,method:ie,navigate:i,replace:o,state:m,relative:x,preventScrollReset:b,viewTransition:y});C&&i!==!1?R.startTransition(()=>Ee()):Ee()};return R.createElement("form",{ref:A,method:O,action:E,onSubmit:c?p:I,...N,"data-discover":!M&&l==="render"?"true":void 0})});tg.displayName="Form";function ag(l){return`${l} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sm(l){let r=R.useContext(vr);return yt(r,ag(l)),r}function lg(l,{target:r,replace:i,state:c,preventScrollReset:o,relative:m,viewTransition:f,unstable_useTransitions:v}={}){let p=hy(),x=sn(),b=Bs(l,{relative:m});return R.useCallback(y=>{if(Dy(y,r)){y.preventDefault();let N=i!==void 0?i:Cs(x)===Cs(b),A=()=>p(l,{replace:N,state:c,preventScrollReset:o,relative:m,viewTransition:f});v?R.startTransition(()=>A()):A()}},[x,p,b,i,c,r,l,o,m,f,v])}var ng=0,rg=()=>`__${String(++ng)}__`;function sg(){let{router:l}=sm("useSubmit"),{basename:r}=R.useContext(za),i=Sy(),c=l.fetch,o=l.navigate;return R.useCallback(async(m,f={})=>{let{action:v,method:p,encType:x,formData:b,body:y}=Hy(m,r);if(f.navigate===!1){let N=f.fetcherKey||rg();await c(N,i,f.action||v,{preventScrollReset:f.preventScrollReset,formData:b,body:y,formMethod:f.method||p,formEncType:f.encType||x,flushSync:f.flushSync})}else await o(f.action||v,{preventScrollReset:f.preventScrollReset,formData:b,body:y,formMethod:f.method||p,formEncType:f.encType||x,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[c,o,r,i])}function ig(l,{relative:r}={}){let{basename:i}=R.useContext(za),c=R.useContext(Ya);yt(c,"useFormAction must be used inside a RouteContext");let[o]=c.matches.slice(-1),m={...Bs(l||".",{relative:r})},f=sn();if(l==null){m.search=f.search;let v=new URLSearchParams(m.search),p=v.getAll("index");if(p.some(b=>b==="")){v.delete("index"),p.filter(y=>y).forEach(y=>v.append("index",y));let b=v.toString();m.search=b?`?${b}`:""}}return(!l||l===".")&&o.route.index&&(m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(m.pathname=m.pathname==="/"?i:Tl([i,m.pathname])),Cs(m)}function cg(l,{relative:r}={}){let i=R.useContext(Zp);yt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=sm("useViewTransitionState"),o=Bs(l,{relative:r});if(!i.isTransitioning)return!1;let m=Al(i.currentLocation.pathname,c)||i.currentLocation.pathname,f=Al(i.nextLocation.pathname,c)||i.nextLocation.pathname;return Qi(o.pathname,f)!=null||Qi(o.pathname,m)!=null}var D=(l=>(l.NONE="NONE",l.BACCARAT="BACCARAT",l.BLACKJACK="BLACKJACK",l.CASINO_WAR="CASINO_WAR",l.CRAPS="CRAPS",l.ROULETTE="ROULETTE",l.SIC_BO="SIC_BO",l.THREE_CARD="THREE_CARD",l.ULTIMATE_HOLDEM="ULTIMATE_HOLDEM",l.VIDEO_POKER="VIDEO_POKER",l.HILO="HILO",l))(D||{});const ug=({gameState:l,setGameState:r,stats:i,chainService:c,isOnChain:o,currentSessionIdRef:m,isPendingRef:f,setLastTxSig:v})=>{const p=R.useCallback(async()=>{if(l.type!==D.THREE_CARD)return;const C=(l.threeCardPairPlusBet||0)>0?0:l.bet;if(o&&l.stage!=="BETTING"){r(h=>({...h,message:"PAIRPLUS CLOSED"}));return}if(C>0&&i.chips<C){r(h=>({...h,message:"INSUFFICIENT FUNDS"}));return}r(h=>({...h,threeCardPairPlusBet:C,message:C>0?`PAIRPLUS +$${C}`:"PAIRPLUS OFF"}))},[l.type,l.threeCardPairPlusBet,l.bet,l.stage,i.chips,o,r]),x=R.useCallback(async()=>{if(l.type!==D.THREE_CARD)return;const C=(l.threeCardSixCardBonusBet||0)>0?0:l.bet;if(o&&l.stage!=="BETTING"){r(h=>({...h,message:"6-CARD CLOSED"}));return}if(C>0&&i.chips<C){r(h=>({...h,message:"INSUFFICIENT FUNDS"}));return}r(h=>({...h,threeCardSixCardBonusBet:C,message:C>0?`6-CARD +$${C}`:"6-CARD OFF"}))},[l.type,l.threeCardSixCardBonusBet,l.bet,l.stage,i.chips,o,r]),b=R.useCallback(async()=>{if(l.type!==D.THREE_CARD)return;const C=(l.threeCardProgressiveBet||0)>0?0:1;if(o&&l.stage!=="BETTING"){r(h=>({...h,message:"PROG CLOSED"}));return}if(C>0&&i.chips<C){r(h=>({...h,message:"INSUFFICIENT FUNDS"}));return}r(h=>({...h,threeCardProgressiveBet:C,message:C>0?`PROG +$${C}`:"PROG OFF"}))},[l.type,l.threeCardProgressiveBet,l.stage,i.chips,o,r]),y=R.useCallback(async()=>{if(!(l.type!==D.THREE_CARD||l.stage!=="PLAYING")){if(o&&c&&m.current){if(f.current)return;f.current=!0;try{const A=new Uint8Array([0]),C=await c.sendMove(m.current,A);C.txHash&&v(C.txHash),r(h=>({...h,message:"PLAYING...",sessionWager:h.sessionWager+h.bet}));return}catch{r(C=>({...C,message:"MOVE FAILED"})),f.current=!1;return}}r(A=>({...A,message:"OFFLINE - START BACKEND"}))}},[l.type,l.stage,o,c,m,f,v,r]),N=R.useCallback(async()=>{if(!(l.type!==D.THREE_CARD||l.stage!=="PLAYING")){if(o&&c&&m.current){if(f.current)return;f.current=!0;try{const A=new Uint8Array([1]),C=await c.sendMove(m.current,A);C.txHash&&v(C.txHash),r(h=>({...h,message:"FOLDING..."}));return}catch{r(C=>({...C,message:"MOVE FAILED"})),f.current=!1;return}}r(A=>({...A,message:"OFFLINE - START BACKEND"}))}},[l.type,l.stage,o,c,m,f,v,r]);return{threeCardPlay:y,threeCardFold:N,threeCardTogglePairPlus:p,threeCardToggleSixCardBonus:x,threeCardToggleProgressive:b}},og=({gameState:l,setGameState:r,stats:i,chainService:c,isOnChain:o,currentSessionIdRef:m,isPendingRef:f,setLastTxSig:v})=>{const p=R.useCallback(async()=>{if(!f.current){if(o&&c&&m.current)try{f.current=!0;const h=await c.sendMove(m.current,new Uint8Array([0]));h.txHash&&v(h.txHash),r(E=>({...E,message:"HITTING..."}));return}catch{r(E=>({...E,message:"MOVE FAILED"})),f.current=!1;return}r(h=>({...h,message:"OFFLINE - START BACKEND"}))}},[f,o,c,m,v,r]),x=R.useCallback(async()=>{if(!f.current){if(o&&c&&m.current)try{f.current=!0;const h=await c.sendMove(m.current,new Uint8Array([1]));h.txHash&&v(h.txHash),r(E=>({...E,message:"STANDING..."}));return}catch{r(E=>({...E,message:"MOVE FAILED"})),f.current=!1;return}r(h=>({...h,message:"OFFLINE - START BACKEND"}))}},[f,o,c,m,v,r]),b=R.useCallback(async()=>{if(!f.current){if(o&&c&&m.current)try{f.current=!0;const h=await c.sendMove(m.current,new Uint8Array([2]));h.txHash&&v(h.txHash),r(E=>({...E,message:"DOUBLING..."}));return}catch{r(E=>({...E,message:"MOVE FAILED"})),f.current=!1;return}r(h=>({...h,message:"OFFLINE - START BACKEND"}))}},[f,o,c,m,v,r]),y=R.useCallback(async()=>{if(l.stage==="PLAYING"){if(l.playerCards.length!==2){r(h=>({...h,message:"CANNOT SPLIT"}));return}if(l.playerCards[0].rank!==l.playerCards[1].rank){r(h=>({...h,message:"CARDS MUST MATCH TO SPLIT"}));return}if(i.chips<l.bet){r(h=>({...h,message:"INSUFFICIENT FUNDS TO SPLIT"}));return}if(o&&c&&m.current)try{if(f.current)return;f.current=!0;const h=await c.sendMove(m.current,new Uint8Array([3]));h.txHash&&v(h.txHash),r(E=>({...E,message:"SPLITTING..."}));return}catch{f.current=!1,r(E=>({...E,message:"SPLIT FAILED"}));return}r(h=>({...h,message:"OFFLINE - START BACKEND"}))}},[l.stage,l.playerCards,l.bet,i.chips,o,c,m,f,v,r]),N=R.useCallback(h=>{if(!o){r(E=>({...E,message:"OFFLINE - START BACKEND"}));return}r(E=>({...E,message:h?"INSURANCE TAKEN":"INSURANCE DECLINED"}))},[o,r]),A=R.useCallback(async()=>{if(l.type!==D.BLACKJACK)return;const E=(l.blackjack21Plus3Bet||0)>0?0:l.bet;if(l.stage!=="BETTING"){r(O=>({...O,message:"21+3 CLOSED"}));return}r(O=>({...O,blackjack21Plus3Bet:E,message:E>0?`21+3 +$${E}`:"21+3 OFF"}))},[l.type,l.blackjack21Plus3Bet,l.bet,l.stage,r]),C=R.useCallback(h=>{const E=h.pop(),O=h.pop(),M=h.pop(),I={...h.pop(),isHidden:!0};r(le=>({...le,stage:"PLAYING",playerCards:[E,M],dealerCards:[O,I],message:"Your move",lastResult:0,insuranceBet:0,blackjackStack:[],completedHands:[]}))},[r]);return{bjHit:p,bjStand:x,bjDouble:b,bjSplit:y,bjInsurance:N,bjToggle21Plus3:A,bjStartGame:C}},dg=({gameState:l,setGameState:r,stats:i,baccaratBetsRef:c,baccaratSelectionRef:o})=>{const m=R.useCallback(x=>{o.current=x,r(b=>({...b,baccaratSelection:x}))},[r,o]),f=R.useCallback(x=>{const b=l.baccaratBets.findIndex(y=>y.type===x);if(b>=0){const y=l.baccaratBets[b].amount,N=l.baccaratBets.filter((A,C)=>C!==b);c.current=N,r(A=>({...A,baccaratUndoStack:[...A.baccaratUndoStack,A.baccaratBets],baccaratBets:N,sessionWager:A.sessionWager-y}))}else{if(i.chips<l.bet)return;const y=[...l.baccaratBets,{type:x,amount:l.bet}];c.current=y,r(N=>({...N,baccaratUndoStack:[...N.baccaratUndoStack,N.baccaratBets],baccaratBets:y,sessionWager:N.sessionWager+N.bet}))}},[l.baccaratBets,l.bet,i.chips,r,c]),v=R.useCallback(()=>{if(l.baccaratUndoStack.length>0){const x=l.baccaratUndoStack[l.baccaratUndoStack.length-1];c.current=x,r(b=>({...b,baccaratBets:x,baccaratUndoStack:b.baccaratUndoStack.slice(0,-1)}))}},[l.baccaratUndoStack,r,c]),p=R.useCallback(()=>{if(l.baccaratLastRoundBets.length>0){const x=[...l.baccaratBets,...l.baccaratLastRoundBets];c.current=x,r(b=>({...b,baccaratBets:x}))}},[l.baccaratLastRoundBets,l.baccaratBets,r,c]);return{toggleSelection:m,placeBet:f,undo:v,rebet:p}},fg=["","","",""],im=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],hg={2:1,3:2,4:3,5:4,6:5,7:6,8:5,9:4,10:3,11:2,12:1},pg=[1,3,5,7,9,12,14,16,18,19,21,23,25,27,30,32,34,36],mg={[D.BLACKJACK]:{title:"BLACKJACK",win:"Beat dealer's hand without going over 21. Blackjack (A+10/J/Q/K) pays 3:2.",loss:"Bust (over 21) or dealer has higher hand.",example:"Your Hand: K, 7 (17). Dealer: 6. Stand."},[D.CRAPS]:{title:"CRAPS",win:"Pass Line: Win on 7/11 (Come Out). Win if Point repeats before 7.",loss:"Pass Line: Lose on 2/3/12 (Come Out). Lose if 7 rolls before Point.",example:"Roll 4 (Point). Roll 4 again to win."},[D.ROULETTE]:{title:"ROULETTE",win:"Predict number/color where ball lands. Straight up pays 35:1.",loss:"Ball lands on unpicked number/color.",example:"Bet Red. Ball lands 32 (Red). Win 1:1."},[D.SIC_BO]:{title:"SIC BO",win:"Predict dice combinations. Small (4-10) / Big (11-17) pays 1:1.",loss:"Dice result doesn't match bet. Triples lose Small/Big bets.",example:"Bet Big. Roll 4-5-6 (15). Win."},[D.BACCARAT]:{title:"BACCARAT",win:"Bet on hand closest to 9. Player 1:1, Banker 0.95:1.",loss:"Selected hand lower than opponent.",example:"Player 7, Banker 6. Player wins."},[D.HILO]:{title:"HILO",win:"Guess if next card is Higher or Lower. Win accumulates in pot.",loss:"Incorrect guess loses accumulated pot.",example:"Card 5. Guess Higher. Next is J. Win."},[D.VIDEO_POKER]:{title:"VIDEO POKER",win:"Make poker hand (Jacks or Better+). Royal Flush pays 800x.",loss:"Hand lower than Pair of Jacks.",example:"Hold Pair of Kings. Draw 3 of a Kind. Win."},[D.THREE_CARD]:{title:"THREE CARD POKER",win:"Beat dealer with higher poker hand. Dealer needs Q-high to qualify.",loss:"Dealer has higher hand.",example:"You: Pair 8s. Dealer: A-K-2. You win."},[D.ULTIMATE_HOLDEM]:{title:"ULTIMATE TEXAS HOLDEM",win:"Beat dealer's best 5-card hand. Play bet multiplies based on street.",loss:"Dealer has higher hand.",example:"You: A-K. Flop: A-5-2. Bet 4x Pre-flop wins."},[D.CASINO_WAR]:{title:"CASINO WAR",win:"Higher card than dealer. Tie goes to War.",loss:"Lower card than dealer.",example:"You: King. Dealer: 10. Win."}},xg=()=>{const l=[];fg.forEach(r=>{im.forEach(i=>{let c=parseInt(i);isNaN(c)&&(c=i==="A"?11:10),l.push({suit:r,rank:i,value:c})})});for(let r=l.length-1;r>0;r--){const i=Math.floor(Math.random()*(r+1));[l[r],l[i]]=[l[i],l[r]]}return l},Ln=l=>{if(!l||!Array.isArray(l))return 0;const r=l.filter(o=>o&&typeof o.value=="number"&&!isNaN(o.value));let i=r.reduce((o,m)=>o+m.value,0),c=r.filter(o=>o.rank==="A").length;for(;i>21&&c>0;)i-=10,c--;return i},Ji=l=>!l||!Array.isArray(l)?0:l.filter(i=>i&&i.rank!==void 0).reduce((i,c)=>{let o=c.value;return(c.rank==="10"||c.rank==="J"||c.rank==="Q"||c.rank==="K")&&(o=0),c.rank==="A"&&(o=1),i+o},0)%10,So=l=>l.rank==="A"?1:l.rank==="K"?13:l.rank==="Q"?12:l.rank==="J"?11:parseInt(l.rank),Ro=(l,r,i)=>{const c=l.filter(x=>r),o=l.filter(x=>!0),m=c.length,f=x=>{const b=O=>O==="A"?14:O==="K"?13:O==="Q"?12:O==="J"?11:parseInt(O),y=x.map(O=>b(O.rank)).sort((O,M)=>O-M),N=x.map(O=>O.suit),A=N.every(O=>O===N[0]);let C=!0;for(let O=0;O<y.length-1;O++)y[O+1]!==y[O]+1&&(C=!1);!C&&y[0]===2&&y[1]===3&&y[2]===4&&y[3]===5&&y[4]===14&&(C=!0);const h={};x.forEach(O=>h[O.rank]=(h[O.rank]||0)+1);const E=Object.values(h).sort((O,M)=>M-O);if(A&&C)return y[0]===10?{rank:"ROYAL FLUSH",multiplier:800,score:9}:{rank:"STRAIGHT FLUSH",multiplier:50,score:8};if(E[0]===4)return{rank:"FOUR OF A KIND",multiplier:25,score:7};if(E[0]===3&&E[1]===2)return{rank:"FULL HOUSE",multiplier:9,score:6};if(A)return{rank:"FLUSH",multiplier:6,score:5};if(C)return{rank:"STRAIGHT",multiplier:4,score:4};if(E[0]===3)return{rank:"THREE OF A KIND",multiplier:3,score:3};if(E[0]===2&&E[1]===2)return{rank:"TWO PAIR",multiplier:2,score:2};if(E[0]===2){const O=Object.keys(h).find(I=>h[I]===2);if(b(O)>=11)return{rank:"JACKS OR BETTER",multiplier:1,score:1}}return{rank:"HIGH CARD",multiplier:0,score:0}};if(m===0)return f(l);let v={rank:"HIGH CARD",multiplier:0,score:-1};const p=(x,b)=>{if(x===m){const N=f(b);(N.score>v.score||N.score===v.score&&N.multiplier>v.multiplier)&&(v=N);return}const y=o.length>0?[o[0].suit]:[""];for(const N of im)for(const A of y)p(x+1,[...b,{rank:N,suit:A,value:0}])};return p(0,o),v},jp=l=>{const r=A=>A==="A"?14:A==="K"?13:A==="Q"?12:A==="J"?11:parseInt(A),i=l.map(A=>r(A.rank)).sort((A,C)=>C-A),c=l.map(A=>A.suit),o=c.every(A=>A===c[0]),m=i[0]===i[1]+1&&i[1]===i[2]+1||i[0]===14&&i[1]===3&&i[2]===2,f={};i.forEach(A=>f[A]=(f[A]||0)+1);const v=Object.values(f).sort((A,C)=>C-A);let p=0,x="HIGH CARD",b=0,y=0;m&&o?(p=6,x="STRAIGHT FLUSH",b=40,y=5):v[0]===3?(p=5,x="THREE OF A KIND",b=30,y=4):m?(p=4,x="STRAIGHT",b=6,y=1):o?(p=3,x="FLUSH",b=3):v[0]===2?(p=2,x="PAIR",b=1):(p=1,x="HIGH CARD");let N=0;return i.forEach((A,C)=>N+=A*Math.pow(16,2-C)),{score:p*1e5+N,rank:x,isPairPlus:b>0,pairPlusPayout:b,anteBonus:y}},Ss=l=>!l||!Array.isArray(l)?0:Ln(l.filter(r=>r&&!r.isHidden)),wo=l=>{const r=Math.floor(l/60).toString().padStart(2,"0"),i=(l%60).toString().padStart(2,"0");return`${r}:${i}`},Nl=l=>l===0?"GREEN":pg.includes(l)?"RED":"BLACK",yg=(l,r)=>{let i=0;const c=Nl(l),o=l===0?-1:(l-1)%3,m=l===0?-1:Math.floor((l-1)/12);return r.forEach(f=>{let v=0;f.type==="STRAIGHT"&&f.target===l?v=35:f.type==="RED"&&c==="RED"||f.type==="BLACK"&&c==="BLACK"||f.type==="ODD"&&l!==0&&l%2!==0||f.type==="EVEN"&&l!==0&&l%2===0||f.type==="LOW"&&l>=1&&l<=18||f.type==="HIGH"&&l>=19&&l<=36?v=1:f.type==="ZERO"&&l===0?v=35:f.type==="DOZEN_1"&&m===0||f.type==="DOZEN_2"&&m===1||f.type==="DOZEN_3"&&m===2||f.type==="COL_1"&&o===0||f.type==="COL_2"&&o===1||f.type==="COL_3"&&o===2?v=2:f.type==="SPLIT_H"&&l!==0&&f.target!==void 0&&(l===f.target||l===f.target+1)||f.type==="SPLIT_V"&&l!==0&&f.target!==void 0&&(l===f.target||l===f.target+3)?v=17:f.type==="STREET"&&l!==0&&f.target!==void 0&&l>=f.target&&l<=f.target+2?v=11:f.type==="CORNER"&&l!==0&&f.target!==void 0&&[f.target,f.target+1,f.target+3,f.target+4].includes(l)?v=8:f.type==="SIX_LINE"&&l!==0&&f.target!==void 0&&l>=f.target&&l<=f.target+5&&(v=5),v>0?i+=f.amount*v:i-=f.amount}),i},gg=(l,r,i="STANDARD")=>{let c=0;const o=[],m=Nl(l),f=l===0?-1:(l-1)%3,v=l===0?-1:Math.floor((l-1)/12);return r.forEach(p=>{let x=0;const b=p.type==="RED"||p.type==="BLACK"||p.type==="ODD"||p.type==="EVEN"||p.type==="LOW"||p.type==="HIGH";if(p.type==="STRAIGHT"&&p.target===l?x=35:p.type==="RED"&&m==="RED"||p.type==="BLACK"&&m==="BLACK"||p.type==="ODD"&&l!==0&&l%2!==0||p.type==="EVEN"&&l!==0&&l%2===0||p.type==="LOW"&&l>=1&&l<=18||p.type==="HIGH"&&l>=19&&l<=36?x=1:p.type==="ZERO"&&l===0?x=35:p.type==="DOZEN_1"&&v===0||p.type==="DOZEN_2"&&v===1||p.type==="DOZEN_3"&&v===2||p.type==="COL_1"&&f===0||p.type==="COL_2"&&f===1||p.type==="COL_3"&&f===2?x=2:p.type==="SPLIT_H"&&l!==0&&p.target!==void 0&&(l===p.target||l===p.target+1)||p.type==="SPLIT_V"&&l!==0&&p.target!==void 0&&(l===p.target||l===p.target+3)?x=17:p.type==="STREET"&&l!==0&&p.target!==void 0&&l>=p.target&&l<=p.target+2?x=11:p.type==="CORNER"&&l!==0&&p.target!==void 0&&[p.target,p.target+1,p.target+3,p.target+4].includes(l)?x=8:p.type==="SIX_LINE"&&l!==0&&p.target!==void 0&&l>=p.target&&l<=p.target+5&&(x=5),l===0&&b){const y=i==="LA_PARTAGE"?Math.floor(p.amount/2):p.amount;c-=y,o.push(`${p.type} ${i==="LA_PARTAGE"?"HALF":"LOSS"} (-$${y})`);return}if(x>0){const y=p.amount*x;c+=y,o.push(`${p.type}${p.target!==void 0?" "+p.target:""} WIN (+$${y})`)}else c-=p.amount,o.push(`${p.type}${p.target!==void 0?" "+p.target:""} LOSS (-$${p.amount})`)}),{pnl:c,results:o}},ec=(l,r)=>{switch(l){case 4:case 10:return r*2;case 5:case 9:return Math.floor(r*3/2);case 6:case 8:return Math.floor(r*6/5);default:return 0}},tc=(l,r)=>{switch(l){case 4:case 10:return Math.floor(r/2);case 5:case 9:return Math.floor(r*2/3);case 6:case 8:return Math.floor(r*5/6);default:return 0}},Ho=l=>l-Math.floor(l/100),cm=(l,r)=>{let i=0;switch(l){case 4:case 10:i=r*2;break;case 5:case 9:i=Math.floor(r*3/2);break;case 6:case 8:i=Math.floor(r*6/5);break;default:i=r}return Ho(i)},um=(l,r)=>{let i=0;switch(l){case 4:case 10:i=Math.floor(r/2);break;case 5:case 9:i=Math.floor(r*2/3);break;case 6:case 8:i=Math.floor(r*5/6);break;default:i=r}return Ho(i)},om=(l,r)=>{switch(l){case 4:case 10:return r*2;case 5:case 9:return Math.floor(r*3/2);case 6:case 8:return Math.floor(r*6/5);default:return 0}},dm=(l,r)=>{const i=hg[l]||0;let c=0;switch(i){case 1:c=35;break;case 2:c=17;break;case 3:c=11;break;case 4:c=8;break;case 5:c=6;break;case 6:c=5;break;default:c=1}const o=r*c;return Ho(o)},fm=(l,r)=>{switch(l){case 4:case 10:return r*7;case 6:case 8:return r*9;default:return 0}},hm=l=>{switch(l){case 2:return 1;case 3:return 2;case 4:return 4;case 5:return 8;case 6:return 16;case 8:return 32;case 9:return 64;case 10:return 128;case 11:return 256;case 12:return 512;default:return 0}},pm=l=>l==="ATS_SMALL"?31:l==="ATS_TALL"?992:l==="ATS_ALL"?1023:0,mm=l=>l==="ATS_SMALL"||l==="ATS_TALL"?34:l==="ATS_ALL"?175:0,xm=l=>Math.ceil(l*.05),As=l=>l.type==="BUY"?l.amount+xm(l.amount):l.amount+(l.oddsAmount||0),qi=(l,r,i,c)=>{let o=0;const m=c!==void 0?c:l%2===0&&l>=4&&l<=10;return i.forEach(f=>{let v=0,p=0;if(f.type==="PASS")r===null?l===7||l===11?v=f.amount:(l===2||l===3||l===12)&&(p=f.amount):l===r?(v=f.amount,f.oddsAmount&&(v+=ec(r,f.oddsAmount))):l===7&&(p=f.amount+(f.oddsAmount||0));else if(f.type==="DONT_PASS")r===null?l===2||l===3?v=f.amount:(l===7||l===11)&&(p=f.amount):l===7?(v=f.amount,f.oddsAmount&&(v+=tc(r,f.oddsAmount))):l===r&&(p=f.amount+(f.oddsAmount||0));else if(f.type==="COME")f.status==="PENDING"||f.target===void 0?l===7||l===11?v=f.amount:(l===2||l===3||l===12)&&(p=f.amount):l===f.target?(v=f.amount,f.oddsAmount&&(v+=ec(f.target,f.oddsAmount))):l===7&&(p=f.amount+(f.oddsAmount||0));else if(f.type==="DONT_COME")f.status==="PENDING"||f.target===void 0?l===2||l===3?v=f.amount:(l===7||l===11)&&(p=f.amount):l===7?(v=f.amount,f.oddsAmount&&(v+=tc(f.target,f.oddsAmount))):l===f.target&&(p=f.amount+(f.oddsAmount||0));else if(f.type==="FIELD")[2,12].includes(l)?v=f.amount*2:[3,4,9,10,11].includes(l)?v=f.amount:p=f.amount;else if(f.type==="YES")f.target===l?v=cm(f.target,f.amount):l===7&&(p=f.amount);else if(f.type==="NO")l===7?v=um(f.target,f.amount):f.target===l&&(p=f.amount);else if(f.type==="BUY")f.target===l?v=om(f.target,f.amount):l===7&&(p=f.amount);else if(f.type==="NEXT")l===f.target?v=dm(f.target,f.amount):p=f.amount;else if(f.type==="HARDWAY"){const x=f.target;m&&l===x?v=fm(x,f.amount):(l===x||l===7)&&(p=f.amount)}else if(f.type==="ATS_SMALL"||f.type==="ATS_TALL"||f.type==="ATS_ALL")if(l===7&&r!==null)p=f.amount;else{const b=hm(l),y=(f.progressMask||0)|b,N=pm(f.type);b!==0&&N!==0&&(y&N)===N&&(v=f.amount*mm(f.type))}o+=v,p>0&&(o-=p)}),o},Op=(l,r,i)=>{let c=0;const o=[],m=[],f=Array.isArray(l)?l[0]+l[1]:l,v=Array.isArray(l)?l[0]===l[1]:f%2===0;return i.forEach(p=>{let x=!1,b=0,y=0;if(p.type==="PASS")r===null?f===7||f===11?(b=p.amount,x=!0):(f===2||f===3||f===12)&&(y=p.amount,x=!0):f===r?(b=p.amount,p.oddsAmount&&(b+=ec(r,p.oddsAmount)),x=!0):f===7&&(y=p.amount+(p.oddsAmount||0),x=!0);else if(p.type==="DONT_PASS")r===null?f===2||f===3?(b=p.amount,x=!0):f===7||f===11?(y=p.amount,x=!0):f===12&&(x=!0):f===7?(b=p.amount,p.oddsAmount&&(b+=tc(r,p.oddsAmount)),x=!0):f===r&&(y=p.amount+(p.oddsAmount||0),x=!0);else if(p.type==="COME")p.status==="PENDING"||p.target===void 0?f===7||f===11?(b=p.amount,x=!0):(f===2||f===3||f===12)&&(y=p.amount,x=!0):f===p.target?(b=p.amount,p.oddsAmount&&(b+=ec(p.target,p.oddsAmount)),x=!0):f===7&&(y=p.amount+(p.oddsAmount||0),x=!0);else if(p.type==="DONT_COME")p.status==="PENDING"||p.target===void 0?f===2||f===3?(b=p.amount,x=!0):f===7||f===11?(y=p.amount,x=!0):f===12&&(x=!0):f===7?(b=p.amount,p.oddsAmount&&(b+=tc(p.target,p.oddsAmount)),x=!0):f===p.target&&(y=p.amount+(p.oddsAmount||0),x=!0);else if(p.type==="FIELD")[2,12].includes(f)?b=p.amount*2:[3,4,9,10,11].includes(f)?b=p.amount:y=p.amount,x=!0;else if(p.type==="YES")p.target===f?(b=cm(p.target,p.amount),x=!0):f===7&&(y=p.amount,x=!0);else if(p.type==="NO")f===7?(b=um(p.target,p.amount),x=!0):p.target===f&&(y=p.amount,x=!0);else if(p.type==="BUY")p.target===f?(b=om(p.target,p.amount),x=!0):f===7&&(y=p.amount,x=!0);else if(p.type==="NEXT")f===p.target?(b=dm(p.target,p.amount),x=!0):(y=p.amount,x=!0);else if(p.type==="HARDWAY"){const N=p.target;v&&f===N?(b=fm(N,p.amount),x=!0):(f===N||f===7)&&(y=p.amount,x=!0)}else if(p.type==="ATS_SMALL"||p.type==="ATS_TALL"||p.type==="ATS_ALL")if(f===7&&r!==null)y=p.amount,x=!0;else{const A=hm(f),C=(p.progressMask||0)|A,h=pm(p.type);A!==0?h!==0&&(C&h)===h?(b=p.amount*mm(p.type),x=!0):o.push({...p,progressMask:C}):o.push(p)}c+=b,y>0&&(c-=y),x?b>0?m.push(`${p.type}${p.target?" "+p.target:""} WIN (+$${Math.floor(b)})`):y>0?m.push(`${p.type}${p.target?" "+p.target:""} LOSS (-$${y})`):m.push(`${p.type} PUSH`):p.type==="ATS_SMALL"||p.type==="ATS_TALL"||p.type==="ATS_ALL"||o.push(p)}),{pnl:c,remainingBets:o,results:m}},bg=()=>[{total:3,isTriple:!0,label:"3"},{total:4,isTriple:!1,label:"4"},{total:5,isTriple:!1,label:"5"},{total:6,isTriple:!0,label:"6T"},{total:6,isTriple:!1,label:"6"},{total:7,isTriple:!1,label:"7"},{total:8,isTriple:!1,label:"8"},{total:9,isTriple:!0,label:"9T"},{total:9,isTriple:!1,label:"9"},{total:10,isTriple:!1,label:"10"},{total:11,isTriple:!1,label:"11"},{total:12,isTriple:!0,label:"12T"},{total:12,isTriple:!1,label:"12"},{total:13,isTriple:!1,label:"13"},{total:14,isTriple:!1,label:"14"},{total:15,isTriple:!0,label:"15T"},{total:15,isTriple:!1,label:"15"},{total:16,isTriple:!1,label:"16"},{total:17,isTriple:!1,label:"17"},{total:18,isTriple:!0,label:"18"}],Eg=()=>[{type:"SINGLE",target:1,label:"1"},{type:"SINGLE",target:2,label:"2"},{type:"SINGLE",target:3,label:"3"},{type:"SINGLE",target:4,label:"4"},{type:"SINGLE",target:5,label:"5"},{type:"SINGLE",target:6,label:"6"},{type:"SINGLE_2X",target:1,label:"12"},{type:"SINGLE_2X",target:2,label:"22"},{type:"SINGLE_2X",target:3,label:"32"},{type:"SINGLE_2X",target:4,label:"42"},{type:"SINGLE_2X",target:5,label:"52"},{type:"SINGLE_2X",target:6,label:"62"},{type:"SINGLE_3X",target:1,label:"13"},{type:"SINGLE_3X",target:2,label:"23"},{type:"SINGLE_3X",target:3,label:"33"},{type:"SINGLE_3X",target:4,label:"43"},{type:"SINGLE_3X",target:5,label:"53"},{type:"SINGLE_3X",target:6,label:"63"},{type:"DOUBLE",target:1,label:"1-1"},{type:"DOUBLE",target:2,label:"2-2"},{type:"DOUBLE",target:3,label:"3-3"},{type:"DOUBLE",target:4,label:"4-4"},{type:"DOUBLE",target:5,label:"5-5"},{type:"DOUBLE",target:6,label:"6-6"},{type:"TRIPLE",target:1,label:"1-1-1"},{type:"TRIPLE",target:2,label:"2-2-2"},{type:"TRIPLE",target:3,label:"3-3-3"},{type:"TRIPLE",target:4,label:"4-4-4"},{type:"TRIPLE",target:5,label:"5-5-5"},{type:"TRIPLE",target:6,label:"6-6-6"},{type:"ANY_TRIPLE",label:"ANY 3"}],ym=l=>{switch(l){case 3:case 18:return 180;case 4:case 17:return 50;case 5:case 16:return 18;case 6:case 15:return 14;case 7:case 14:return 12;case 8:case 13:return 8;case 9:case 10:case 11:case 12:return 6;default:return 0}},vg=(l,r,i)=>{let c=0;return i.filter(m=>m.type==="SMALL"||m.type==="BIG"||m.type==="SUM").forEach(m=>{let f=0;m.type==="SMALL"?!r&&l>=4&&l<=10&&(f=m.amount):m.type==="BIG"?!r&&l>=11&&l<=17&&(f=m.amount):m.type==="SUM"&&l===m.target&&(f=m.amount*ym(l)),f>0?c+=f:c-=m.amount}),c},Ng=(l,r,i)=>{let c=0;return i.filter(m=>m.type==="SINGLE_DIE"||m.type==="DOUBLE_SPECIFIC"||m.type==="TRIPLE_SPECIFIC"||m.type==="TRIPLE_ANY").forEach(m=>{let f=0;l==="SINGLE"&&m.type==="SINGLE_DIE"&&m.target===r?f=m.amount*1:l==="SINGLE_2X"&&m.type==="SINGLE_DIE"&&m.target===r?f=m.amount*2:l==="SINGLE_2X"&&m.type==="DOUBLE_SPECIFIC"&&m.target===r?f=m.amount*8:l==="SINGLE_3X"&&m.type==="SINGLE_DIE"&&m.target===r?f=m.amount*3:l==="SINGLE_3X"&&m.type==="TRIPLE_SPECIFIC"&&m.target===r?f=m.amount*150:l==="SINGLE_3X"&&m.type==="TRIPLE_ANY"?f=m.amount*24:l==="DOUBLE"&&m.type==="DOUBLE_SPECIFIC"&&m.target===r?f=m.amount*8:l==="TRIPLE"&&m.type==="TRIPLE_SPECIFIC"&&m.target===r?f=m.amount*150:(l==="ANY_TRIPLE"&&m.type==="TRIPLE_ANY"||l==="TRIPLE"&&m.type==="TRIPLE_ANY")&&(f=m.amount*24),f>0?c+=f:c-=m.amount}),c},Tg=(l,r)=>{let i=0;const c=[],o=l.reduce((b,y)=>b+y,0),m=l[0],f=l[1],v=l[2],p=m===f&&f===v,x=m!==f&&m!==v&&f!==v;return r.forEach(b=>{let y=0;if(b.type==="SMALL"&&o>=4&&o<=10&&!p)y=b.amount;else if(b.type==="BIG"&&o>=11&&o<=17&&!p)y=b.amount;else if(b.type==="ODD"&&o%2===1&&!p)y=b.amount;else if(b.type==="EVEN"&&o%2===0&&!p)y=b.amount;else if(b.type==="SUM"&&o===b.target)y=b.amount*ym(o);else if(b.type==="TRIPLE_ANY"&&p)y=b.amount*24;else if(b.type==="TRIPLE_SPECIFIC"&&p&&m===b.target)y=b.amount*150;else if(b.type==="DOUBLE_SPECIFIC")[m,f,v].filter(C=>C===b.target).length>=2&&(y=b.amount*8);else if(b.type==="DOMINO"&&b.target!==void 0){const A=b.target>>4&15,C=b.target&15;[m,f,v].includes(A)&&[m,f,v].includes(C)&&(y=b.amount*5)}else if(b.type==="HOP3_EASY"&&b.target!==void 0){const A=1<<m-1|1<<f-1|1<<v-1;x&&(A&b.target)===A&&(y=b.amount*30)}else if(b.type==="HOP3_HARD"&&b.target!==void 0){const A=b.target>>4&15,C=b.target&15,h=[m,f,v].filter(O=>O===A).length,E=[m,f,v].filter(O=>O===C).length;h===2&&E===1&&(y=b.amount*50)}else if(b.type==="HOP4_EASY"&&b.target!==void 0){const A=1<<m-1|1<<f-1|1<<v-1;x&&(A&b.target)===A&&(y=b.amount*7)}else if(b.type==="SINGLE_DIE"){const A=[m,f,v].filter(C=>C===b.target).length;A===1?y=b.amount*1:A===2?y=b.amount*2:A===3&&(y=b.amount*3)}const N=(()=>{if(b.type==="DOMINO"&&b.target!==void 0){const A=b.target>>4&15,C=b.target&15;return`${b.type} ${A}-${C}`}if((b.type==="HOP3_EASY"||b.type==="HOP4_EASY")&&b.target!==void 0){const A=[1,2,3,4,5,6].filter(C=>(b.target&1<<C-1)!==0);return`${b.type} ${A.join("-")}`}if(b.type==="HOP3_HARD"&&b.target!==void 0){const A=b.target>>4&15,C=b.target&15;return`${b.type} ${A}-${A}-${C}`}return`${b.type}${b.target!==void 0?" "+b.target:""}`})();y>0?(i+=y,c.push(`${N} WIN (+$${y})`)):(i-=b.amount,c.push(`${N} LOSS (-$${b.amount})`))}),{pnl:i,results:c}},Ea=l=>{const r=["","","",""],i=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],c=r[Math.floor(l/13)];return`${i[l%13]}${c}`},Ag=(l,r,i)=>{var o,m,f,v,p,x,b,y,N,A,C,h;if(!r||r.length===0)return null;const c=i>=0?`+$${i}`:`-$${Math.abs(i)}`;try{const E=r[0];let O;try{O=JSON.parse(E)}catch{return{summary:`${E}. ${c}`,details:r,raw:E}}switch(l){case D.BLACKJACK:{const M=((o=O.dealer)==null?void 0:o.value)??"?",I=O.hands||[],le=I[0],Q=(le==null?void 0:le.value)??"?",Ee=`${(le==null?void 0:le.outcome)||(i>0?"WIN":i<0?"LOSS":"PUSH")}: ${Q} vs ${M}. ${c}`,fe=[];if(I.forEach((oe,je)=>{const Je=I.length>1?`Hand ${je+1}: `:"",De=(oe.cards||[]).map(Ea).join(" ");fe.push(`${Je}${De} (${oe.value}) - ${oe.outcome}`)}),(m=O.dealer)!=null&&m.cards&&fe.push(`Dealer: ${O.dealer.cards.map(Ea).join(" ")} (${M})`),O.sideBet){const oe=O.sideBet;fe.push(`Side Bet (${oe.type}): ${oe.outcome} ${oe.return>0?`+$${oe.return}`:""}`)}return{summary:Ee,details:fe,raw:O}}case D.BACCARAT:{const M=O.winner||"TIE",I=(O.playerCards||[]).map(Ea).join(" "),le=(O.bankerCards||[]).map(Ea).join(" "),Q=`${M} wins. ${c}`,ie=[];return ie.push(`Player: ${I}`),ie.push(`Banker: ${le}`),(O.bets||[]).forEach(Ee=>{const fe=Ee.outcome||(Ee.return>Ee.wagered?"WIN":Ee.return===Ee.wagered?"PUSH":"LOSS");ie.push(`${Ee.type}: ${fe} ${Ee.return>0?`(+$${Ee.return})`:`(-$${Ee.wagered})`}`)}),{summary:Q,details:ie,raw:O}}case D.ROULETTE:{const M=O.result,I=O.color||Nl(M),le=`${M} ${I}. ${c}`,Q=[];return(O.bets||[]).forEach(ie=>{const Ee=ie.outcome||(ie.return>0?"WIN":"LOSS");Q.push(`${ie.type}${ie.target!==void 0?` ${ie.target}`:""}: ${Ee}`)}),{summary:le,details:Q,raw:O}}case D.CRAPS:{const M=O.dice||[],le=`Rolled ${O.total||M[0]+M[1]} (${M.join("-")}). ${c}`,Q=[];return(O.bets||[]).forEach(ie=>{const Ee=ie.target?` ${ie.target}`:"";Q.push(`${ie.type}${Ee}: ${ie.outcome}`)}),{summary:le,details:Q,raw:O}}case D.SIC_BO:{const M=O.dice||[],I=O.total||M.reduce((Ee,fe)=>Ee+fe,0),le=O.isTriple?" (TRIPLE)":"",Q=`Rolled ${I}${le}. ${c}`,ie=[`Dice: ${M.join("-")}`];return(O.bets||[]).forEach(Ee=>{ie.push(`${Ee.type}: ${Ee.outcome}`)}),{summary:Q,details:ie,raw:O}}case D.HILO:{const M=Ea(O.newCard),I=Ea(O.previousCard),Q=`${O.correct?"CORRECT":"WRONG"}: ${I}  ${M}. ${c}`,ie=[`Guess: ${O.guess}`,`${O.correct?"Correct!":"Wrong!"} Streak: ${O.streak}`];return{summary:Q,details:ie,raw:O}}case D.THREE_CARD:{const M=((f=O.player)==null?void 0:f.rank)||"?",I=((v=O.dealer)==null?void 0:v.rank)||"?",Q=`${O.outcome||(i>0?"WIN":i<0?"LOSS":"PUSH")}: ${M} vs ${I}. ${c}`,ie=[];return(p=O.player)!=null&&p.cards&&ie.push(`Player: ${O.player.cards.map(Ea).join(" ")} (${M})`),(x=O.dealer)!=null&&x.cards&&ie.push(`Dealer: ${O.dealer.cards.map(Ea).join(" ")} (${I})`),(b=O.dealer)!=null&&b.qualifies||ie.push("Dealer does not qualify"),{summary:Q,details:ie,raw:O}}case D.ULTIMATE_HOLDEM:{const M=((y=O.player)==null?void 0:y.rank)||"?",I=((N=O.dealer)==null?void 0:N.rank)||"?",Q=`${O.outcome||(i>0?"WIN":i<0?"LOSS":"PUSH")}: ${M} vs ${I}. ${c}`,ie=[];return(A=O.player)!=null&&A.cards&&ie.push(`Player: ${O.player.cards.map(Ea).join(" ")}`),O.community&&ie.push(`Board: ${O.community.map(Ea).join(" ")}`),(C=O.dealer)!=null&&C.cards&&ie.push(`Dealer: ${O.dealer.cards.map(Ea).join(" ")}`),(h=O.dealer)!=null&&h.qualifies||ie.push("Dealer does not qualify"),{summary:Q,details:ie,raw:O}}case D.CASINO_WAR:{const M=Ea(O.playerCard),I=Ea(O.dealerCard),Q=`${O.outcome||(i>0?"WIN":i<0?"LOSS":"TIE")}: ${M} vs ${I}. ${c}`,ie=[`Player: ${M}`,`Dealer: ${I}`,`Stage: ${O.stage||"DEAL"}`];return{summary:Q,details:ie,raw:O}}case D.VIDEO_POKER:return{summary:`${E}. ${c}`,details:r,raw:E};default:return{summary:c,details:r,raw:O}}}catch{return null}},Cg=({gameState:l,setGameState:r,stats:i,chainService:c,currentSessionIdRef:o,isPendingRef:m,setLastTxSig:f,isOnChain:v,startGame:p,autoPlayDraftRef:x})=>{const b=R.useCallback(()=>l.crapsBets.reduce((M,I)=>M+As(I),0),[l.crapsBets]),y=R.useCallback((M,I)=>{const le=l.crapsBets.findIndex(oe=>oe.type===M&&oe.target===I&&oe.local);if(le!==-1){const oe=l.crapsBets[le],je=As(oe),Je=[...l.crapsBets];Je.splice(le,1),r(De=>({...De,crapsBets:Je,sessionWager:Math.max(0,De.sessionWager-je),message:`REMOVED ${M}`,crapsInputMode:"NONE"}));return}const Q=b(),ie=l.bet,Ee=M==="BUY"?ie+xm(ie):ie;if(M==="FIRE"&&l.crapsRollHistory.length>0){r(oe=>({...oe,message:"BET ONLY BEFORE FIRST ROLL"}));return}if(M==="ATS_SMALL"||M==="ATS_TALL"||M==="ATS_ALL"){const oe=l.dice.length===2&&(l.dice[0]??0)>0&&(l.dice[1]??0)>0,je=oe?l.dice[0]+l.dice[1]:null;if(!(!l.crapsEpochPointEstablished&&(!oe||je===7))){r(De=>({...De,message:"ATS CLOSED"}));return}}if(M==="FIRE"&&l.crapsBets.some(oe=>oe.type==="FIRE"&&oe.local)){r(oe=>({...oe,message:"FIRE BET ALREADY PLACED"}));return}if(i.chips-Q<Ee){r(oe=>({...oe,message:"INSUFFICIENT FUNDS"}));return}let fe=[...l.crapsBets];M==="PASS"&&(fe=fe.filter(oe=>oe.type!=="DONT_PASS"||!oe.local)),M==="DONT_PASS"&&(fe=fe.filter(oe=>oe.type!=="PASS"||!oe.local)),r(oe=>({...oe,crapsUndoStack:[...oe.crapsUndoStack,oe.crapsBets],crapsBets:[...fe,{type:M,amount:oe.bet,target:I,status:M==="COME"||M==="DONT_COME"?"PENDING":"ON",local:!0}],message:`BET ${M}`,crapsInputMode:"NONE",sessionWager:oe.sessionWager+Ee}))},[l.crapsBets,l.bet,l.crapsRollHistory.length,l.dice,l.crapsEpochPointEstablished,i.chips,b,r]),N=R.useCallback(()=>{l.crapsUndoStack.length!==0&&r(M=>{const I=M.crapsUndoStack[M.crapsUndoStack.length-1],le=ie=>ie.filter(Ee=>Ee.local).reduce((Ee,fe)=>Ee+As(fe),0),Q=le(I)-le(M.crapsBets);return{...M,crapsBets:I,crapsUndoStack:M.crapsUndoStack.slice(0,-1),sessionWager:M.sessionWager+Q}})},[l.crapsUndoStack.length,r]),A=R.useCallback(()=>{if(l.crapsLastRoundBets.length===0){r(Q=>({...Q,message:"NO PREVIOUS BETS"}));return}const M=l.crapsLastRoundBets.reduce((Q,ie)=>Q+As(ie),0),I=b();if(i.chips<M+I){r(Q=>({...Q,message:"INSUFFICIENT FUNDS"}));return}const le=l.crapsLastRoundBets.map(Q=>({...Q,local:!0}));r(Q=>({...Q,crapsUndoStack:[...Q.crapsUndoStack,Q.crapsBets],crapsBets:[...Q.crapsBets,...le],message:"REBET PLACED",sessionWager:Q.sessionWager+M}))},[l.crapsLastRoundBets,i.chips,b,r]),C=R.useCallback((M,I)=>{const le=M;if(M==="YES"||M==="NO"||M==="BUY"){if(![4,5,6,8,9,10].includes(I))return}else if(M==="NEXT"){if(I<2||I>12)return}else if(M==="HARDWAY"&&![4,6,8,10].includes(I))return;y(le,I)},[y]),h=R.useCallback(async M=>{const I=l.crapsBets[M];if((I.type==="PASS"||I.type==="DONT_PASS")&&l.crapsPoint===null){r(fe=>({...fe,message:"WAIT FOR POINT BEFORE ODDS"}));return}const le=I.oddsAmount||0,Q=I.amount*5;if(le>=Q){r(fe=>({...fe,message:"MAX ODDS REACHED (5X)"}));return}const ie=Math.min(l.bet,Q-le);if(ie<=0){r(fe=>({...fe,message:"MAX ODDS REACHED"}));return}const Ee=b();if(i.chips-Ee<ie){r(fe=>({...fe,message:"INSUFFICIENT FUNDS"}));return}if(r(fe=>{const oe=[...fe.crapsBets];return oe[M]={...oe[M],oddsAmount:le+ie},{...fe,crapsBets:oe,message:`ADDING ODDS +$${ie}...`,sessionWager:fe.sessionWager+ie}}),c&&o.current&&!m.current){m.current=!0;try{const fe=new Uint8Array(9);fe[0]=1,new DataView(fe.buffer).setBigUint64(1,BigInt(ie),!1);const je=await c.sendMove(o.current,fe);je.txHash&&f(je.txHash),r(Je=>({...Je,message:`ODDS +$${ie}`}))}catch{r(oe=>{const je=[...oe.crapsBets];return je[M]={...je[M],oddsAmount:le},{...oe,crapsBets:je,message:"ODDS FAILED"}})}finally{m.current=!1}}else r(fe=>({...fe,message:`ODDS +$${ie}`}))},[l.crapsBets,l.crapsPoint,l.bet,i.chips,c,o,m,b,r,f]),E=R.useCallback(async M=>{if(M!==void 0&&l.crapsOddsCandidates){if(M<0||M>=l.crapsOddsCandidates.length)return;const le=l.crapsOddsCandidates[M];r(Q=>({...Q,crapsOddsCandidates:null})),await h(le);return}const I=l.crapsBets.map((le,Q)=>({...le,index:Q})).filter(le=>le.type==="PASS"||le.type==="DONT_PASS"||le.type==="COME"&&le.status==="ON"||le.type==="DONT_COME"&&le.status==="ON");if(I.length===0){r(le=>({...le,message:"NO BET FOR ODDS"}));return}if(I.length===1){await h(I[0].index);return}r(le=>({...le,crapsOddsCandidates:I.map(Q=>Q.index),message:"SELECT BET FOR ODDS (1-9)"}))},[l.crapsOddsCandidates,l.crapsBets,h,r]),O=R.useCallback(async()=>{const M=!!o.current,I=l.crapsBets.filter(fe=>fe.local===!0),le=fe=>fe.filter(oe=>oe.type!=="COME"&&oe.type!=="DONT_COME").map(oe=>({type:oe.type,amount:oe.amount,target:oe.target,status:"ON",local:!0})),Q=I.length>0?[]:le(l.crapsLastRoundBets),ie=I.length>0?I:M?[]:Q,Ee=M&&(l.crapsBets.some(fe=>!fe.local)||l.crapsPoint!==null);if(ie.length===0&&!Ee){r(fe=>({...fe,message:l.crapsLastRoundBets.length>0?"REBET (T) OR PLACE BET":"PLACE BET FIRST"}));return}if(v&&c&&!M){if(ie.length===0){r(fe=>({...fe,message:"PLACE BET FIRST"}));return}if(I.length===0&&Q.length>0){const fe=b(),oe=Q.reduce((je,Je)=>je+As(Je),0);if(i.chips<fe+oe){r(je=>({...je,message:"INSUFFICIENT FUNDS"}));return}r(je=>({...je,crapsUndoStack:[...je.crapsUndoStack,je.crapsBets],crapsBets:[...je.crapsBets,...Q],sessionWager:je.sessionWager+oe,message:"REBET PLACED"}))}x.current={type:D.CRAPS,crapsBets:ie},r(fe=>({...fe,message:"STARTING NEW SESSION..."})),p(D.CRAPS);return}if(v&&c&&M){if(m.current)return;try{m.current=!0;const fe=await c.sendMove(o.current,new Uint8Array([0]));fe.txHash&&f(fe.txHash),r(oe=>({...oe,message:"ROLLING..."}))}catch{m.current=!1,r(oe=>({...oe,message:"ROLL FAILED"}))}return}r(fe=>({...fe,message:"OFFLINE - START BACKEND"}))},[l.crapsBets,l.crapsLastRoundBets,l.crapsPoint,o,c,v,m,p,r,i.chips,b,f,x]);return{placeCrapsBet:y,undoCrapsBet:N,rebetCraps:A,placeCrapsNumberBet:C,addCrapsOdds:E,rollCraps:O}};var Xe=(l=>(l[l.Baccarat=0]="Baccarat",l[l.Blackjack=1]="Blackjack",l[l.CasinoWar=2]="CasinoWar",l[l.Craps=3]="Craps",l[l.VideoPoker=4]="VideoPoker",l[l.HiLo=5]="HiLo",l[l.Roulette=6]="Roulette",l[l.SicBo=7]="SicBo",l[l.ThreeCard=8]="ThreeCard",l[l.UltimateHoldem=9]="UltimateHoldem",l))(Xe||{});const Sg=async(l,r,i,c)=>"AI Strategy Offline (Using On-Chain Randomness)";function Rg(l){return l.replace(/_([a-z])/g,(r,i)=>i.toUpperCase())}function ea(l){return Array.isArray(l)?l.map(ea):l!==null&&typeof l=="object"?l instanceof Uint8Array||ArrayBuffer.isView(l)?l:Object.keys(l).reduce((r,i)=>{const c=Rg(i);return r[c]=ea(l[i]),r},{}):l}let wg=BigInt(Date.now());class Bg{constructor(r){this.gameStartedHandlers=[],this.gameMovedHandlers=[],this.gameCompletedHandlers=[],this.leaderboardUpdatedHandlers=[],this.client=r,this.client.onEvent("CasinoGameStarted",i=>{const c=ea(i);try{const o={type:"CasinoGameStarted",sessionId:BigInt(c.sessionId),player:new Uint8Array(0),gameType:this.parseGameType(c.gameType),bet:BigInt(c.bet),initialState:this.hexToBytes(c.initialState)};this.gameStartedHandlers.forEach(m=>m(o))}catch{}}),this.client.onEvent("CasinoGameMoved",i=>{const c=ea(i);try{const o={type:"CasinoGameMoved",sessionId:BigInt(c.sessionId),moveNumber:c.moveNumber,newState:this.hexToBytes(c.newState)};this.gameMovedHandlers.forEach(m=>m(o))}catch{}}),this.client.onEvent("CasinoGameCompleted",i=>{const c=ea(i);try{const o={type:"CasinoGameCompleted",sessionId:BigInt(c.sessionId),player:new Uint8Array(0),gameType:this.parseGameType(c.gameType),payout:BigInt(c.payout),finalChips:BigInt(c.finalChips),wasShielded:c.wasShielded,wasDoubled:c.wasDoubled};this.gameCompletedHandlers.forEach(m=>m(o))}catch{}}),this.client.onEvent("CasinoLeaderboardUpdated",i=>{const c=ea(i);try{c.leaderboard&&this.leaderboardUpdatedHandlers.forEach(o=>o(c.leaderboard))}catch{}})}hexToBytes(r){if(!r||r.length===0)return new Uint8Array(0);const i=r.startsWith("0x")?r.slice(2):r;if(i.length===0)return new Uint8Array(0);const c=new Uint8Array(i.length/2);for(let o=0;o<i.length;o+=2)c[o/2]=parseInt(i.substring(o,o+2),16);return c}parseGameType(r){return{Baccarat:Xe.Baccarat,Blackjack:Xe.Blackjack,CasinoWar:Xe.CasinoWar,Craps:Xe.Craps,VideoPoker:Xe.VideoPoker,HiLo:Xe.HiLo,Roulette:Xe.Roulette,SicBo:Xe.SicBo,ThreeCard:Xe.ThreeCard,UltimateHoldem:Xe.UltimateHoldem}[r]??Xe.Blackjack}async register(r){await this.client.nonceManager.submitCasinoRegister(r)}generateNextSessionId(){return wg++}async startGameWithSessionId(r,i,c){const o=await this.client.nonceManager.submitCasinoStartGame(r,i,c);return{sessionId:c,txHash:o.txHash}}async startGame(r,i){const c=this.generateNextSessionId(),o=await this.client.nonceManager.submitCasinoStartGame(r,i,c);return{sessionId:c,txHash:o.txHash}}async sendMove(r,i){return{txHash:(await this.client.nonceManager.submitCasinoGameMove(r,i)).txHash}}async toggleShield(){return{txHash:(await this.client.nonceManager.submitCasinoToggleShield()).txHash}}async toggleDouble(){return{txHash:(await this.client.nonceManager.submitCasinoToggleDouble()).txHash}}async toggleSuper(){return{txHash:(await this.client.nonceManager.submitCasinoToggleSuper()).txHash}}onGameStarted(r){return this.gameStartedHandlers.push(r),()=>{const i=this.gameStartedHandlers.indexOf(r);i!==-1&&this.gameStartedHandlers.splice(i,1)}}onGameMoved(r){return this.gameMovedHandlers.push(r),()=>{const i=this.gameMovedHandlers.indexOf(r);i!==-1&&this.gameMovedHandlers.splice(i,1)}}onGameCompleted(r){return this.gameCompletedHandlers.push(r),()=>{const i=this.gameCompletedHandlers.indexOf(r);i!==-1&&this.gameCompletedHandlers.splice(i,1)}}onLeaderboardUpdated(r){return this.leaderboardUpdatedHandlers.push(r),()=>{const i=this.leaderboardUpdatedHandlers.indexOf(r);i!==-1&&this.leaderboardUpdatedHandlers.splice(i,1)}}}let Fi=null;async function jg(){return Fi||(Fi=await ta(()=>import("./nullspace_wasm-CMwt8Qhf.js"),[]),await Fi.default()),Fi}class ac{constructor(r){this.wasm=null,this.keypair=null,this.identityHex=r,this.identityBytes=null}async init(){return this.wasm=await jg(),this.identityHex&&(this.identityBytes=this.hexToBytes(this.identityHex)),this}createKeypair(r){if(r!==void 0){if(!(r instanceof Uint8Array)||r.length!==32)throw new Error("Private key must be a Uint8Array of exactly 32 bytes");this.keypair=this.wasm.Signer.from_bytes(r)}else this.keypair=new this.wasm.Signer;return this.keypair}getPublicKeyHex(){if(!this.keypair)throw new Error("Keypair not initialized");return this.keypair.public_key_hex}getPublicKeyBytes(){if(!this.keypair)throw new Error("Keypair not initialized");return this.keypair.public_key}getPrivateKeyHex(){if(!this.keypair)throw new Error("Keypair not initialized");return this.keypair.private_key_hex}encodeAccountKey(r){return this.wasm.encode_account_key(r)}encodeCasinoPlayerKey(r){return this.wasm.encode_casino_player_key(r)}encodeCasinoSessionKey(r){return this.wasm.encode_casino_session_key(BigInt(r))}encodeCasinoLeaderboardKey(){return this.wasm.encode_casino_leaderboard_key()}encodeCasinoTournamentKey(r){return this.wasm.encode_casino_tournament_key(BigInt(r))}encodeVaultKey(r){return this.wasm.encode_vault_key(r)}encodeAmmPoolKey(){return this.wasm.encode_amm_pool_key()}encodeLpBalanceKey(r){return this.wasm.encode_lp_balance_key(r)}encodeHouseKey(){return this.wasm.encode_house_key()}encodeStakerKey(r){return this.wasm.encode_staker_key(r)}encodeUpdatesFilterAll(){return this.wasm.encode_updates_filter_all()}encodeUpdatesFilterAccount(r){return this.wasm.encode_updates_filter_account(r)}hashKey(r){return this.wasm.hash_key(r)}decodeLookup(r){if(!this.identityBytes)throw new Error("No identity configured for events verification");try{return this.wasm.decode_lookup(r,this.identityBytes)}catch(i){throw i}}decodeSeed(r){if(!this.identityBytes)throw new Error("No identity configured for seed verification");try{return this.wasm.decode_seed(r,this.identityBytes)}catch(i){throw new Error(i.toString())}}hexToBytes(r){const i=new Uint8Array(r.length/2);for(let c=0;c<r.length;c+=2)i[c/2]=parseInt(r.substring(c,c+2),16);return i}bytesToHex(r){return Array.from(r).map(i=>i.toString(16).padStart(2,"0")).join("")}encodeQuery(r,i){if(r==="latest")return this.wasm.encode_query_latest();if(r==="index"&&i!==void 0)return this.wasm.encode_query_index(BigInt(i));throw new Error("Invalid query type")}decodeUpdate(r){if(!this.identityBytes)throw new Error("No identity configured for update verification");return this.wasm.decode_update(r,this.identityBytes)}wrapTransactionSubmission(r){return this.wasm.wrap_transaction_submission(r)}digestTransaction(r){return this.wasm.digest_transaction(r)}wrapSummarySubmission(r){return this.wasm.wrap_summary_submission(r)}wrapSeedSubmission(r){return this.wasm.wrap_seed_submission(r)}getIdentity(r){return this.wasm.get_identity(r)}encodeSeed(r,i){return this.wasm.encode_seed(r,i)}executeBlock(r,i,c){return this.wasm.execute_block(r,i,c)}encodeQueryLatest(){return this.wasm.encode_query_latest()}encodeQueryIndex(r){return this.wasm.encode_query_index(r)}get Signer(){return this.wasm.Signer}get Transaction(){return this.wasm.Transaction}createCasinoStartGameTransaction(r,i,c,o){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_start_game(this.keypair,BigInt(r),i,BigInt(c),BigInt(o)).encode()}createCasinoGameMoveTransaction(r,i,c){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_game_move(this.keypair,BigInt(r),BigInt(i),c).encode()}createCasinoToggleShieldTransaction(r){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_toggle_shield(this.keypair,BigInt(r)).encode()}createCasinoToggleDoubleTransaction(r){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_toggle_double(this.keypair,BigInt(r)).encode()}createCasinoToggleSuperTransaction(r){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_toggle_super(this.keypair,BigInt(r)).encode()}createCasinoRegisterTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_register(this.keypair,BigInt(r),i).encode()}createCasinoJoinTournamentTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_join_tournament(this.keypair,BigInt(r),BigInt(i)).encode()}createCasinoStartTournamentTransaction(r,i,c,o){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_start_tournament(this.keypair,BigInt(r),BigInt(i),BigInt(c),BigInt(o)).encode()}createCasinoDepositTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_deposit(this.keypair,BigInt(r),BigInt(i)).encode()}createCasinoEndTournamentTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.casino_end_tournament(this.keypair,BigInt(r),BigInt(i)).encode()}createStakeTransaction(r,i,c){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.stake(this.keypair,BigInt(r),BigInt(i),BigInt(c)).encode()}createUnstakeTransaction(r){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.unstake(this.keypair,BigInt(r)).encode()}createClaimRewardsTransaction(r){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.claim_rewards(this.keypair,BigInt(r)).encode()}createProcessEpochTransaction(r){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.process_epoch(this.keypair,BigInt(r)).encode()}createCreateVaultTransaction(r){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.create_vault(this.keypair,BigInt(r)).encode()}createDepositCollateralTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.deposit_collateral(this.keypair,BigInt(r),BigInt(i)).encode()}createBorrowUsdtTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.borrow_usdt(this.keypair,BigInt(r),BigInt(i)).encode()}createRepayUsdtTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.repay_usdt(this.keypair,BigInt(r),BigInt(i)).encode()}createSwapTransaction(r,i,c,o){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.swap(this.keypair,BigInt(r),BigInt(i),BigInt(c),!!o).encode()}createAddLiquidityTransaction(r,i,c){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.add_liquidity(this.keypair,BigInt(r),BigInt(i),BigInt(c)).encode()}createRemoveLiquidityTransaction(r,i){if(!this.keypair)throw new Error("Keypair not initialized");return this.wasm.Transaction.remove_liquidity(this.keypair,BigInt(r),BigInt(i)).encode()}}class Og{constructor(r,i){this.client=r,this.wasm=i,this.publicKeyHex=null,this.publicKeyBytes=null,this.resubmitInterval=null,this.resubmitInProgress=!1,this.transactionQueue=Promise.resolve(),this.TX_STORAGE_PREFIX="casino_tx_",this.RESUBMIT_INTERVAL_MS=1e4}async init(r,i,c){if(!r||!i)throw new Error("Public key is required for initialization");this.publicKeyHex=r,this.publicKeyBytes=i;const o=this.wasm.identityHex,m="casino_identity",f=localStorage.getItem(m);f&&f!==o&&(this.resetNonce(),this.cleanupAllTransactions()),localStorage.setItem(m,o),this.getPendingTransactions().length>0,this.syncWithAccountState(c),this.startPeriodicResubmission()}destroy(){this.resubmitInterval&&(clearInterval(this.resubmitInterval),this.resubmitInterval=null),this.resubmitInProgress=!1}startPeriodicResubmission(){this.resubmitInterval=setInterval(async()=>{if(!this.resubmitInProgress)try{await this.resubmitPendingTransactions()}catch{}},this.RESUBMIT_INTERVAL_MS)}syncWithAccountState(r){if(!this.publicKeyBytes)return;if(!r){const m=this.getCurrentNonce(),f=this.getPendingTransactions();(m>0||f.length>0)&&(this.resetNonce(),this.cleanupAllTransactions());return}const i=r.nonce,c=this.getCurrentNonce(),o=this.getPendingTransactions();if(o.length>0&&o[0].nonce>i){this.setNonce(i),this.cleanupAllTransactions();return}i>0&&this.cleanupConfirmedTransactions(i-1),i!==c&&(c>i&&this.cleanupAllTransactions(),this.setNonce(i))}getCurrentNonce(){const i=localStorage.getItem("casino_nonce");return i?parseInt(i):0}setNonce(r){localStorage.setItem("casino_nonce",r.toString())}resetNonce(){localStorage.setItem("casino_nonce","0")}getNextNonce(){return this.getCurrentNonce()}incrementNonce(){const r=this.getCurrentNonce();return this.setNonce(r+1),r+1}storeTransaction(r,i){const c=`${this.TX_STORAGE_PREFIX}${r}`,o={nonce:r,txData:Array.from(i),timestamp:Date.now(),retryCount:0};localStorage.setItem(c,JSON.stringify(o))}getPendingTransactions(){const r=this.TX_STORAGE_PREFIX,i=[],c=[];for(let o=0;o<localStorage.length;o++){const m=localStorage.key(o);m&&m.startsWith(r)&&c.push(m)}for(const o of c)try{const m=JSON.parse(localStorage.getItem(o));m&&i.push(m)}catch{localStorage.removeItem(o)}return i.sort((o,m)=>o.nonce-m.nonce)}cleanupAllTransactions(){if(!this.publicKeyHex)return;const r=this.TX_STORAGE_PREFIX,i=[];for(let c=0;c<localStorage.length;c++){const o=localStorage.key(c);o&&o.startsWith(r)&&i.push(o)}i.forEach(c=>{localStorage.removeItem(c)}),i.length>0}cleanupConfirmedTransactions(r){const i=this.TX_STORAGE_PREFIX,c=[];for(let o=0;o<localStorage.length;o++){const m=localStorage.key(o);if(m&&m.startsWith(i))try{const f=JSON.parse(localStorage.getItem(m));f.nonce<=r&&c.push({key:m,nonce:f.nonce})}catch{}}c.forEach(({key:o,nonce:m})=>{localStorage.removeItem(o)})}async resubmitPendingTransactions(){if(!this.resubmitInProgress){this.resubmitInProgress=!0;try{const r=this.getPendingTransactions();if(r.length===0)return;const i=this.getCurrentNonce(),c=r.filter(m=>m.nonce>=i);if(c.length>0){for(const f of c){const v=`${this.TX_STORAGE_PREFIX}${f.nonce}`;localStorage.removeItem(v)}if(this.getPendingTransactions().length===0)return}const o=r.filter(m=>m.nonce<i);for(const m of o){const f=new Uint8Array(m.txData);if((await this.client.submitTransaction(f)).status==="accepted"){m.retryCount++;const p=`${this.TX_STORAGE_PREFIX}${m.nonce}`;localStorage.setItem(p,JSON.stringify(m))}}}catch{}finally{this.resubmitInProgress=!1}}}async submitTransaction(r,i){return this.transactionQueue=this.transactionQueue.then(async()=>{const c=this.getNextNonce();try{const o=r(c),m=this.computeTxHash(o);let f;try{f=this.wasm.digestTransaction(o)}catch{f=void 0}this.storeTransaction(c,o);const v=await this.client.submitTransaction(o);if(v.status==="accepted")this.incrementNonce();else{const p=`${this.TX_STORAGE_PREFIX}${c}`;localStorage.removeItem(p)}return{...v,nonce:c,txHash:m,txDigest:f}}catch(o){throw o}}).catch(c=>{throw this.transactionQueue=Promise.resolve(),c})}computeTxHash(r){let i=r.length;for(let c=0;c<r.length;c++)i=(i<<5)-i+r[c]|0;return Math.abs(i).toString(16).toUpperCase().padStart(8,"0").slice(0,8)}updateNonceFromTransaction(r){const i=this.getCurrentNonce(),c=r+1;this.cleanupConfirmedTransactions(r),c>i&&this.setNonce(c)}async submitCasinoRegister(r){return this.submitTransaction(i=>this.wasm.createCasinoRegisterTransaction(i,r),"casinoRegister")}async submitCasinoStartGame(r,i,c){return this.submitTransaction(o=>this.wasm.createCasinoStartGameTransaction(o,r,i,c),"casinoStartGame")}async submitCasinoGameMove(r,i){return this.submitTransaction(c=>this.wasm.createCasinoGameMoveTransaction(c,r,i),"casinoGameMove")}async submitCasinoToggleShield(){return this.submitTransaction(r=>this.wasm.createCasinoToggleShieldTransaction(r),"casinoToggleShield")}async submitCasinoToggleDouble(){return this.submitTransaction(r=>this.wasm.createCasinoToggleDoubleTransaction(r),"casinoToggleDouble")}async submitCasinoToggleSuper(){return this.submitTransaction(r=>this.wasm.createCasinoToggleSuperTransaction(r),"casinoToggleSuper")}async submitCasinoDeposit(r){return this.submitTransaction(i=>this.wasm.createCasinoDepositTransaction(i,r),"casinoDeposit")}async submitCasinoJoinTournament(r){return this.submitTransaction(i=>this.wasm.createCasinoJoinTournamentTransaction(i,r),"casinoJoinTournament")}async submitCasinoStartTournament(r,i,c){return this.submitTransaction(o=>this.wasm.createCasinoStartTournamentTransaction(o,r,i,c),"casinoStartTournament")}async submitCasinoEndTournament(r){return this.submitTransaction(i=>this.wasm.createCasinoEndTournamentTransaction(i,r),"casinoEndTournament")}async submitCreateVault(){return this.submitTransaction(r=>this.wasm.createCreateVaultTransaction(r),"createVault")}async submitDepositCollateral(r){return this.submitTransaction(i=>this.wasm.createDepositCollateralTransaction(i,r),"depositCollateral")}async submitBorrowUsdt(r){return this.submitTransaction(i=>this.wasm.createBorrowUsdtTransaction(i,r),"borrowUsdt")}async submitRepayUsdt(r){return this.submitTransaction(i=>this.wasm.createRepayUsdtTransaction(i,r),"repayUsdt")}async submitSwap(r,i,c){return this.submitTransaction(o=>this.wasm.createSwapTransaction(o,r,i,c),"swap")}async submitAddLiquidity(r,i){return this.submitTransaction(c=>this.wasm.createAddLiquidityTransaction(c,r,i),"addLiquidity")}async submitRemoveLiquidity(r){return this.submitTransaction(i=>this.wasm.createRemoveLiquidityTransaction(i,r),"removeLiquidity")}async submitStake(r,i){return this.submitTransaction(c=>this.wasm.createStakeTransaction(c,r,i),"stake")}async submitUnstake(){return this.submitTransaction(r=>this.wasm.createUnstakeTransaction(r),"unstake")}async submitClaimRewards(){return this.submitTransaction(r=>this.wasm.createClaimRewardsTransaction(r),"claimRewards")}async submitProcessEpoch(){return this.submitTransaction(r=>this.wasm.createProcessEpochTransaction(r),"processEpoch")}}let js=null;const Bo=new Set;function gm(){for(const l of Bo)try{l(js)}catch{}}function Po(){return js}function bm(l){js=l,gm()}function Em(){js=null,gm()}function Lg(l){Bo.add(l);try{l(js)}catch{}return()=>Bo.delete(l)}const Lp=1e3;class kg{constructor(r="/api",i){if(!i)throw new Error("WasmWrapper is required for CasinoClient");this.baseUrl=r,this.wasm=i,this.updatesWs=null,this.eventHandlers=new Map,this.nonceManager=new Og(this,i),this.masterPublic=i.identityBytes,this.latestSeed=null,this.reconnectConfig={attempts:0,baseDelay:1e3,maxDelay:3e4,reconnecting:!1,timer:null}}async init(){return await this.wasm.init(),this.masterPublic=this.wasm.identityBytes,this}async initNonceManager(r,i,c){await this.nonceManager.init(r,i,c)}destroy(){this.nonceManager.destroy(),this.reconnectConfig.reconnecting=!1,this.reconnectConfig.attempts=0,this.reconnectConfig.timer&&(clearTimeout(this.reconnectConfig.timer),this.reconnectConfig.timer=null),this.updatesWs&&(this.updatesWs.onclose=null,this.updatesWs.close(),this.updatesWs=null),this.eventHandlers.clear()}async switchUpdates(r=null){this.reconnectConfig.reconnecting=!1,this.reconnectConfig.attempts=0,this.reconnectConfig.timer&&(clearTimeout(this.reconnectConfig.timer),this.reconnectConfig.timer=null),this.updatesWs&&(this.updatesWs.onclose=null,this.updatesWs.close(),this.updatesWs=null),await this.connectUpdates(r)}async submitTransaction(r){const i=this.wasm.wrapTransactionSubmission(r),c=await fetch(`${this.baseUrl}/submit`,{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:i});if(!c.ok){const o=await c.text();throw new Error(`Server error: ${c.status} ${c.statusText}`)}return{status:"accepted"}}getCurrentView(){return this.latestSeed?this.latestSeed.view:null}async waitForFirstSeed(){if(this.latestSeed)return;const r=await this.queryLatestSeed();if(r.found){this.latestSeed=r.seed;return}return new Promise(i=>{const c=this.onEvent("Seed",()=>{c(),i()})})}async queryState(r){const i=this.wasm.hashKey(r),c=this.wasm.bytesToHex(i);let o;for(;;){if(o=await fetch(`${this.baseUrl}/state/${c}`),o.status===404)return{found:!1,value:null};if(o.status===200)break;await new Promise(v=>setTimeout(v,Lp))}const m=await o.arrayBuffer(),f=new Uint8Array(m);if(f.length===0)return{found:!1,value:null};try{const v=this.wasm.decodeLookup(f);return{found:!0,value:ea(v)}}catch{return{found:!1,value:null}}}async querySeed(r){const i=this.wasm.encodeQuery("index",r),c=this.wasm.bytesToHex(i);let o;for(;;){if(o=await fetch(`${this.baseUrl}/seed/${c}`),o.status===404)return{found:!1};if(o.status===200)break;await new Promise(p=>setTimeout(p,Lp))}const m=await o.arrayBuffer(),f=new Uint8Array(m);return{found:!0,seed:this.wasm.decodeSeed(f),seedBytes:f}}async queryLatestSeed(){const r=this.wasm.encodeQuery("latest"),i=this.wasm.bytesToHex(r),c=await fetch(`${this.baseUrl}/seed/${i}`);if(c.status===404)return{found:!1};if(c.status!==200)return{found:!1};const o=await c.arrayBuffer(),m=new Uint8Array(o);try{return{found:!0,seed:this.wasm.decodeSeed(m),seedBytes:m}}catch{return{found:!1}}}connectUpdates(r=null){return new Promise((i,c)=>{this.currentUpdateFilter=r;let o;r===null?o=this.wasm.encodeUpdatesFilterAll():o=this.wasm.encodeUpdatesFilterAccount(r);const m=this.wasm.bytesToHex(o),f=[];if(typeof window<"u"&&this.baseUrl&&!this.baseUrl.startsWith("http://")&&!this.baseUrl.startsWith("https://")){const x=window.location.protocol==="https:"?`wss://${window.location.host}${this.baseUrl}/updates/${m}`:`ws://${window.location.host}${this.baseUrl}/updates/${m}`;f.push(x)}const v="http://localhost:8080";try{const x=new URL(v),b=x.protocol==="https:"?`wss://${x.host}/updates/${m}`:`ws://${x.host}/updates/${m}`;f.includes(b)||f.push(b)}catch{}if(typeof window<"u"){const x=window.location.protocol==="https:"?`wss://${window.location.hostname}:8080/updates/${m}`:`ws://${window.location.hostname}:8080/updates/${m}`;f.includes(x)||f.push(x)}if(f.length===0){c(new Error("No WebSocket URL candidates available"));return}const p=x=>{const b=f[x],y=new WebSocket(b);this.updatesWs=y,y.onopen=()=>{i()},y.onerror=N=>{try{y.onclose=null,y.close()}catch{}if(x+1<f.length){p(x+1);return}c(new Error(`WebSocket connection failed to ${b}`))},this.updatesWs.onmessage=async N=>{try{let C;if(N.data instanceof Blob){const h=await N.data.arrayBuffer();C=new Uint8Array(h)}else if(N.data instanceof ArrayBuffer)C=new Uint8Array(N.data);else if(Buffer.isBuffer(N.data))C=new Uint8Array(N.data);else return;try{const h=this.wasm.decodeUpdate(C);if(h.type==="Seed")this.latestSeed=h,this.handleEvent(h);else if(h.type==="Events")for(const E of h.events){const O=ea(E);O.type==="Transaction"&&this.nonceManager.publicKeyHex&&O.public.toLowerCase()===this.nonceManager.publicKeyHex.toLowerCase()&&this.nonceManager.updateNonceFromTransaction(O.nonce),this.handleEvent(O)}}catch{}}catch{}},this.updatesWs.onclose=N=>{this.handleReconnect("updatesWs",()=>this.connectUpdates(this.currentUpdateFilter))}};p(0)})}onEvent(r,i){return this.eventHandlers.has(r)||this.eventHandlers.set(r,[]),this.eventHandlers.get(r).push(i),()=>{const c=this.eventHandlers.get(r);if(c){const o=c.indexOf(i);o!==-1&&c.splice(o,1),c.length===0&&this.eventHandlers.delete(r)}}}handleEvent(r){(this.eventHandlers.get(r.type)||[]).forEach(o=>o(r)),(this.eventHandlers.get("*")||[]).forEach(o=>o(r))}handleReconnect(r,i){const c=this.reconnectConfig;if(c.reconnecting)return;c.reconnecting=!0,c.attempts++;const o=Math.min(c.baseDelay*Math.pow(2,c.attempts-1),c.maxDelay),m=Math.random()*.3*o,f=o+m;c.timer=setTimeout(async()=>{if(c.attempts!==0)try{await i(),c.attempts=0}catch{c.reconnecting=!1,c.attempts>0&&this.handleReconnect(r,i)}finally{c.reconnecting=!1,c.timer=null}},f)}async getAccount(r){const i=this.wasm.encodeAccountKey(r),c=await this.queryState(i);return c.found&&c.value&&c.value.type==="Account"?c.value:null}async getCasinoPlayer(r){const i=this.wasm.encodeCasinoPlayerKey(r),c=await this.queryState(i);return c.found&&c.value&&c.value.type==="CasinoPlayer"?ea(c.value):null}async getCasinoSession(r){const i=this.wasm.encodeCasinoSessionKey(r),c=await this.queryState(i);return c.found&&c.value&&c.value.type==="CasinoSession"?c.value:null}async getCasinoLeaderboard(){const r=this.wasm.encodeCasinoLeaderboardKey(),i=await this.queryState(r);return i.found&&i.value&&i.value.type==="CasinoLeaderboard"?i.value:null}async getCasinoTournament(r){const i=this.wasm.encodeCasinoTournamentKey(r),c=await this.queryState(i);return c.found&&c.value&&c.value.type==="Tournament"?ea(c.value):null}async getVault(r){const i=this.wasm.encodeVaultKey(r),c=await this.queryState(i);return c.found&&c.value&&c.value.type==="Vault"?ea(c.value):null}async getAmmPool(){const r=this.wasm.encodeAmmPoolKey(),i=await this.queryState(r);return i.found&&i.value&&i.value.type==="AmmPool"?ea(i.value):null}async getLpBalance(r){const i=this.wasm.encodeLpBalanceKey(r),c=await this.queryState(i);return c.found&&c.value&&c.value.type==="LpBalance"?ea(c.value):null}async getHouse(){const r=this.wasm.encodeHouseKey(),i=await this.queryState(r);return i.found&&i.value&&i.value.type==="House"?ea(i.value):null}async getStaker(r){const i=this.wasm.encodeStakerKey(r),c=await this.queryState(i);return c.found&&c.value&&c.value.type==="Staker"?ea(c.value):null}getOrCreateKeypair(){const r=f=>{if(!f||typeof f!="string")return null;let v=f.trim();if(!v||v==="undefined"||v==="null"||((v.startsWith("0x")||v.startsWith("0X"))&&(v=v.slice(2)),!/^[0-9a-fA-F]+$/.test(v)||v.length!==64))return null;const p=new Uint8Array(v.match(/.{1,2}/g).map(x=>Number.parseInt(x,16)));return p.length!==32?null:p},i=()=>{try{localStorage.removeItem("casino_private_key")}catch{}},c=typeof window<"u"&&localStorage.getItem("nullspace_vault_enabled")==="true",o=(()=>{try{return Po()}catch{return null}})();if(c&&!o)return null;if(o!=null&&o.nullspaceEd25519PrivateKey)this.wasm.createKeypair(o.nullspaceEd25519PrivateKey);else{typeof window<"u"&&window.location.hostname;const f=localStorage.getItem("casino_private_key"),v=r(f);if(v)try{this.wasm.createKeypair(v)}catch{i()}else f&&i();if(!this.wasm.keypair){const p=(()=>{var x;try{if(typeof globalThis<"u"&&((x=globalThis.crypto)!=null&&x.getRandomValues)){const b=new Uint8Array(32);return globalThis.crypto.getRandomValues(b),b}}catch{}return null})();if(p)try{this.wasm.createKeypair(p),localStorage.setItem("casino_private_key",this.wasm.bytesToHex(p))}catch{try{this.wasm.createKeypair()}catch{}}else this.wasm.createKeypair()}}const m={publicKey:this.wasm.getPublicKeyBytes(),publicKeyHex:this.wasm.getPublicKeyHex()};try{localStorage.setItem("casino_public_key_hex",m.publicKeyHex)}catch{}return m}}const vm={enabled:!0,numBots:300,betIntervalMs:5e3,randomizeInterval:!0},jt={Baccarat:0,Blackjack:1,CasinoWar:2,Craps:3,VideoPoker:4,HiLo:5,Roulette:6,SicBo:7,ThreeCard:8,UltimateHoldem:9},yo=[jt.Baccarat,jt.Blackjack,jt.CasinoWar,jt.Craps,jt.VideoPoker,jt.HiLo,jt.Roulette,jt.SicBo,jt.ThreeCard,jt.UltimateHoldem];class Mg{constructor(r,i){this.bots=[],this.config=vm,this.isRunning=!1,this.intervalHandles=[],this.preparedTournamentId=null,this.prepareGeneration=0,this.totalSubmitted=0,this.baseUrl=r,this.identityHex=i}setConfig(r){this.config=r}setStatusCallback(r){this.onStatusUpdate=r}updateStatus(r){this.onStatusUpdate&&this.onStatusUpdate({isRunning:this.isRunning,activeBots:this.bots.filter(i=>i.isActive).length,totalBets:this.totalSubmitted,...r})}async prepareTournamentBots(r){if(!this.config.enabled||this.preparedTournamentId===r&&this.bots.length===this.config.numBots)return;this.stop();const i=this.prepareGeneration;this.preparedTournamentId=r,this.updateStatus({isRunning:!1});for(let c=0;c<this.config.numBots&&i===this.prepareGeneration;c++)try{const o=await this.createBot(c);if(i!==this.prepareGeneration||(await this.joinTournament(o,r),i!==this.prepareGeneration))break;this.bots.push(o),this.isRunning&&o.isActive&&!o.loopStarted&&(o.loopStarted=!0,this.startBotLoop(o)),await new Promise(m=>setTimeout(m,5))}catch{}this.updateStatus({activeBots:this.bots.length})}startPlaying(){if(!(this.isRunning||!this.config.enabled)){this.isRunning=!0,this.updateStatus({isRunning:!0});for(const r of this.bots)!r.isActive||r.loopStarted||(r.loopStarted=!0,this.startBotLoop(r))}}stop(){if(!(!this.isRunning&&this.bots.length===0)){this.isRunning=!1,this.prepareGeneration++;for(const r of this.intervalHandles)clearTimeout(r);this.intervalHandles=[];for(const r of this.bots)r.isActive=!1;this.bots=[],this.preparedTournamentId=null,this.updateStatus({isRunning:!1,activeBots:0})}}createProfile(r){const i=[5,10,25,50],c=[.45,.35,.15,.05],o=this.weightedChoice(i,c),m=Math.min(1,Math.max(0,Math.random()**2*1.15)),f=2+r%2,p=[...yo].sort(()=>Math.random()-.5).slice(0,f);return{baseBet:o,volatility:m,favoriteGames:p}}async createBot(r){const i=new ac(this.identityHex);await i.init(),i.createKeypair();const c=`Bot${String(r).padStart(4,"0")}`,o=i.getPublicKeyBytes();let m=0;try{const f=await this.getAccountState(o);f&&(m=f.nonce)}catch{}if(m===0)try{const f=i.createCasinoRegisterTransaction(0,c);await this.submitTransaction(i,f),m=1}catch{try{const v=await this.getAccountState(o);v&&(m=v.nonce)}catch{}}return{id:r,name:c,wasm:i,nonce:m,sessionCounter:r*1e6,isActive:!0,loopStarted:!1,profile:this.createProfile(r)}}async joinTournament(r,i){const c=async()=>{const o=r.nonce,m=r.wasm.createCasinoJoinTournamentTransaction(o,i);await this.submitTransaction(r.wasm,m),r.nonce++};try{await c()}catch{await this.resyncNonce(r);try{await c()}catch{await this.resyncNonce(r)}}}async getAccountState(r){try{const i=new ac(this.identityHex);await i.init();const c=i.encodeAccountKey(r),o=i.hashKey(c),m=i.bytesToHex(o),f=await fetch(`${this.baseUrl}/state/${m}`);if(f.status===404)return null;if(f.status!==200)throw new Error(`State query returned ${f.status}`);const v=await f.arrayBuffer(),p=new Uint8Array(v);if(p.length===0)return null;const x=i.decodeLookup(p);return x&&x.type==="Account"?{nonce:x.nonce}:null}catch{return null}}async submitTransaction(r,i){const c=r.wrapTransactionSubmission(i),o=await fetch(`${this.baseUrl}/submit`,{method:"POST",headers:{"Content-Type":"application/octet-stream"},body:c});if(!o.ok)throw new Error(`Server error: ${o.status}`);this.totalSubmitted++,this.totalSubmitted%50===0&&this.updateStatus({totalBets:this.totalSubmitted})}startBotLoop(r){const i=async()=>{if(!(!this.isRunning||!r.isActive)){try{await this.playRandomGame(r)}catch{}if(this.isRunning&&r.isActive){const m=this.config.randomizeInterval?Math.floor(this.config.betIntervalMs*(.5+Math.random())):this.config.betIntervalMs,f=window.setTimeout(i,m);this.intervalHandles.push(f)}}},c=Math.floor(Math.random()*this.config.betIntervalMs),o=window.setTimeout(i,c);this.intervalHandles.push(o)}async playRandomGame(r){const i=this.pickGameForBot(r),c=BigInt(++r.sessionCounter),o=this.buildGamePlan(r,i),m=r.nonce,f=r.wasm.createCasinoStartGameTransaction(m,i,o.startBet,c);try{await this.submitTransaction(r.wasm,f),r.nonce++}catch{await this.resyncNonce(r);return}await new Promise(v=>setTimeout(v,20));for(const v of o.moves){const p=r.nonce,x=r.wasm.createCasinoGameMoveTransaction(p,c,v);try{await this.submitTransaction(r.wasm,x),r.nonce++,await new Promise(b=>setTimeout(b,10))}catch{await this.resyncNonce(r);break}}}async resyncNonce(r){try{const i=await this.getAccountState(r.wasm.getPublicKeyBytes());i&&(r.nonce=i.nonce)}catch{}}pickGameForBot(r){return r.profile.favoriteGames.length>0&&Math.random()<.7?r.profile.favoriteGames[Math.floor(Math.random()*r.profile.favoriteGames.length)]:yo[Math.floor(Math.random()*yo.length)]}buildGamePlan(r,i){const c=r.profile.volatility,o=[1,5,10,25,50,100,200],m=(x,b=1,y=200)=>this.pickClosestWeighted(o.filter(N=>N>=b&&N<=y),x),f=r.profile.baseBet,v=m(f*(.6+Math.random()*(1.2+c))),p=[];switch(i){case jt.Baccarat:{const x=Math.max(1,m(v,1,100)),b=Math.max(1,m(x*(.7+Math.random()*.3),1,100)),y=Math.max(1,m(Math.max(1,Math.floor(x*.25)),1,25)),N=this.weightedChoice([0,1,2],[.46,.46,.08]),A=[];if(A.push({betType:N,amount:b}),Math.random()<.15*(.5+c)){const C=this.weightedChoice([3,4,5],[.45,.45,.1]);A.push({betType:C,amount:y})}return p.push(this.serializeBaccaratAtomicBatch(A)),{startBet:0,moves:p}}case jt.Blackjack:{if(Math.random()<.12*(.7+c)){const b=Math.max(1,Math.min(v,m(Math.max(1,Math.floor(v/5)),1,25)));p.push(this.serializeU64Action(5,b))}p.push(new Uint8Array([4]));const x=Math.random()<.35?Math.random()<.25?2:1:0;for(let b=0;b<x;b++)p.push(new Uint8Array([0]));return Math.random()<.1*c&&p.push(new Uint8Array([2])),p.push(new Uint8Array([1])),p.push(new Uint8Array([6])),{startBet:v,moves:p}}case jt.CasinoWar:{if(Math.random()<.1*(.5+c)){const b=Math.max(1,m(Math.max(1,Math.floor(v/4)),1,25));p.push(this.serializeU64Action(3,b))}p.push(new Uint8Array([0]));const x=Math.random()<.8?1:2;return p.push(new Uint8Array([x])),{startBet:v,moves:p}}case jt.Craps:{const x=Math.max(1,m(v,1,50)),b=Math.random()<.75?4:7,y=b===7?this.randInt(2,12):0;return p.push(this.serializeTableBet(b,y,x)),p.push(new Uint8Array([2])),{startBet:0,moves:p}}case jt.VideoPoker:{const x=Math.random()<.15?31:this.randInt(0,31);return p.push(new Uint8Array([x])),{startBet:v,moves:p}}case jt.HiLo:{const x=Math.random()<.5?0:1;return p.push(new Uint8Array([x])),p.push(new Uint8Array([2])),{startBet:v,moves:p}}case jt.Roulette:{const x=this.weightedChoice([1,2,3],[.6,.3,.1*(.7+c)]),b=Math.max(1,m(v*x,1,200));for(let y=0;y<x;y++){const N=Math.random()<.12*(.5+c),A=!N&&Math.random()<.25,C=Math.max(1,m(Math.max(1,Math.floor(b/x)),1,N?25:100));if(N){const h=this.weightedChoice([0,9,10,11,12,13],[.35,.15,.15,.12,.12,.11]),E=this.randomRouletteNumberForBetType(h);p.push(this.serializeTableBet(h,E,C))}else if(A){const h=this.weightedChoice([7,8],[.6,.4]),E=this.randInt(0,2);p.push(this.serializeTableBet(h,E,C))}else{const h=this.weightedChoice([1,2,3,4,5,6],[.22,.22,.16,.16,.12,.12]);p.push(this.serializeTableBet(h,0,C))}}return p.push(new Uint8Array([1])),{startBet:0,moves:p}}case jt.SicBo:{const x=Math.random()<.75?1:2;for(let b=0;b<x;b++){const y=Math.random()<.1*(.6+c),N=Math.max(1,m(v/x,1,y?10:50));if(y){const A=this.weightedChoice([4,5,9],[.45,.3,.25]),C=A===4?this.randInt(1,6):A===9?this.encodeSicBoDomino(this.randInt(1,6),this.randInt(1,6)):0;p.push(this.serializeTableBet(A,C,N))}else{const A=this.weightedChoice([0,1,2,3,8,7],[.28,.28,.14,.14,.1,.06]),C=A===8?this.randInt(1,6):A===7?this.randInt(3,18):0;p.push(this.serializeTableBet(A,C,N))}}return p.push(new Uint8Array([1])),{startBet:0,moves:p}}case jt.ThreeCard:{const x=Math.random()<.18*(.6+c)?Math.max(1,m(Math.floor(v/4),1,25)):0;return x>0?p.push(this.serializeU64Action(2,x)):p.push(new Uint8Array([2])),Math.random()<.6+c*.15?(p.push(new Uint8Array([0])),p.push(new Uint8Array([4]))):p.push(new Uint8Array([1])),{startBet:v,moves:p}}case jt.UltimateHoldem:{const x=Math.random()<.1*(.6+c)?Math.max(1,m(Math.floor(v/3),1,25)):0;if(x>0?p.push(this.serializeU64Action(5,x)):p.push(new Uint8Array([5])),Math.random()<.18*(.4+c)){const A=Math.random()<.5?1:8;return p.push(new Uint8Array([A])),p.push(new Uint8Array([7])),{startBet:v,moves:p}}return p.push(new Uint8Array([0])),Math.random()<.25*(.5+c)?(p.push(new Uint8Array([2])),p.push(new Uint8Array([7])),{startBet:v,moves:p}):(p.push(new Uint8Array([0])),Math.random()<.3*(.5+c)?(p.push(new Uint8Array([3])),p.push(new Uint8Array([7]))):p.push(new Uint8Array([4])),{startBet:v,moves:p})}default:return{startBet:v,moves:[]}}}serializeU64Action(r,i){const c=new Uint8Array(9);return c[0]=r,new DataView(c.buffer).setBigUint64(1,BigInt(i),!1),c}serializeTableBet(r,i,c){const o=new Uint8Array(11);return o[0]=0,o[1]=r,o[2]=i,new DataView(o.buffer).setBigUint64(3,BigInt(c),!1),o}randomRouletteNumberForBetType(r){switch(r){case 0:return this.randInt(0,36);case 9:return this.randIntFrom(()=>this.randInt(1,35),i=>i%3!==0);case 10:return this.randInt(1,33);case 11:return 1+3*this.randInt(0,11);case 12:return this.randIntFrom(()=>this.randInt(1,32),i=>i%3!==0);case 13:return 1+3*this.randInt(0,10);default:return 0}}encodeSicBoDomino(r,i){const c=Math.min(r,i),o=Math.max(r,i);if(c===o){const m=c===6?5:6;return Math.min(c,m)<<4|Math.max(c,m)}return c<<4|o}randInt(r,i){return Math.floor(Math.random()*(i-r+1))+r}randIntFrom(r,i,c=64){for(let o=0;o<c;o++){const m=r();if(i(m))return m}return r()}weightedChoice(r,i){const c=i.reduce((m,f)=>m+Math.max(0,f),0);if(c<=0)return r[0];let o=Math.random()*c;for(let m=0;m<r.length;m++)if(o-=Math.max(0,i[m]??0),o<=0)return r[m];return r[r.length-1]}pickClosestWeighted(r,i){if(r.length===0)return Math.max(1,Math.floor(i));const c=r.map(o=>1/(1+Math.abs(o-i)));return this.weightedChoice(r,c)}serializeBaccaratBet(r,i){const c=new Uint8Array(10);return c[0]=0,c[1]=r,new DataView(c.buffer).setBigUint64(2,BigInt(i),!1),c}serializeBaccaratAtomicBatch(r){const i=new Uint8Array(2+r.length*9);i[0]=3,i[1]=r.length;let c=2;for(const o of r)i[c]=o.betType,new DataView(i.buffer).setBigUint64(c+1,BigInt(o.amount),!1),c+=9;return i}serializeCrapsBet(r,i,c){const o=new Uint8Array(11);return o[0]=0,o[1]=r,o[2]=i,new DataView(o.buffer).setBigUint64(3,BigInt(c),!1),o}}const _g=1e3,Dg=3,Ig=3,Jt=100,$o=6e4,Nm=5*6e4,jo=$o+Nm;function go(l){const r=Math.floor(l/jo),i=r*jo,c=i+$o,o=c+Nm;return{slot:r,tournamentId:r,slotStartMs:i,startTimeMs:c,endTimeMs:o,isRegistration:l<c}}const Ug={[D.BACCARAT]:Xe.Baccarat,[D.BLACKJACK]:Xe.Blackjack,[D.CASINO_WAR]:Xe.CasinoWar,[D.CRAPS]:Xe.Craps,[D.VIDEO_POKER]:Xe.VideoPoker,[D.HILO]:Xe.HiLo,[D.ROULETTE]:Xe.Roulette,[D.SIC_BO]:Xe.SicBo,[D.THREE_CARD]:Xe.ThreeCard,[D.ULTIMATE_HOLDEM]:Xe.UltimateHoldem,[D.NONE]:Xe.Blackjack},Xi={[Xe.Baccarat]:D.BACCARAT,[Xe.Blackjack]:D.BLACKJACK,[Xe.CasinoWar]:D.CASINO_WAR,[Xe.Craps]:D.CRAPS,[Xe.VideoPoker]:D.VIDEO_POKER,[Xe.HiLo]:D.HILO,[Xe.Roulette]:D.ROULETTE,[Xe.SicBo]:D.SIC_BO,[Xe.ThreeCard]:D.THREE_CARD,[Xe.UltimateHoldem]:D.ULTIMATE_HOLDEM},kp=(l,r,i)=>{const c=[],o=l==="PLAYER"?0:1;c.push({betType:o,amount:i});for(const m of r){let f;switch(m.type){case"TIE":f=2;break;case"P_PAIR":f=3;break;case"B_PAIR":f=4;break;case"LUCKY6":f=5;break;case"P_DRAGON":f=6;break;case"B_DRAGON":f=7;break;case"PANDA8":f=8;break;case"P_PERFECT_PAIR":f=9;break;case"B_PERFECT_PAIR":f=10;break;default:continue}c.push({betType:f,amount:m.amount})}return c},Mp=l=>{const r=new Uint8Array(2+l.length*9);r[0]=3,r[1]=l.length;const i=new DataView(r.buffer);let c=2;for(const o of l)r[c]=o.betType,i.setBigUint64(c+1,BigInt(o.amount),!1),c+=9;return r},Hg=l=>{let r,i=0;switch(l.type){case"STRAIGHT":r=0,i=l.target??0;break;case"RED":r=1;break;case"BLACK":r=2;break;case"EVEN":r=3;break;case"ODD":r=4;break;case"LOW":r=5;break;case"HIGH":r=6;break;case"DOZEN_1":r=7,i=0;break;case"DOZEN_2":r=7,i=1;break;case"DOZEN_3":r=7,i=2;break;case"COL_1":r=8,i=0;break;case"COL_2":r=8,i=1;break;case"COL_3":r=8,i=2;break;case"ZERO":r=0,i=0;break;case"SPLIT_H":r=9,i=l.target??0;break;case"SPLIT_V":r=10,i=l.target??0;break;case"STREET":r=11,i=l.target??0;break;case"CORNER":r=12,i=l.target??0;break;case"SIX_LINE":r=13,i=l.target??0;break;default:throw new Error(`Unknown bet type: ${l.type}`)}return{betType:r,number:i,amount:l.amount}},_p=l=>{const r=l.map(Hg),i=new Uint8Array(2+r.length*10);i[0]=4,i[1]=r.length;const c=new DataView(i.buffer);let o=2;for(const m of r)i[o]=m.betType,i[o+1]=m.number,c.setBigUint64(o+2,BigInt(m.amount),!1),o+=10;return i},Pg=l=>({betType:{SMALL:0,BIG:1,ODD:2,EVEN:3,TRIPLE_SPECIFIC:4,TRIPLE_ANY:5,DOUBLE_SPECIFIC:6,SUM:7,SINGLE_DIE:8,DOMINO:9,HOP3_EASY:10,HOP3_HARD:11,HOP4_EASY:12}[l.type],number:l.target??0,amount:l.amount}),Dp=l=>{const r=l.map(Pg),i=new Uint8Array(2+r.length*10);i[0]=3,i[1]=r.length;const c=new DataView(i.buffer);let o=2;for(const m of r)i[o]=m.betType,i[o+1]=m.number,c.setBigUint64(o+2,BigInt(m.amount),!1),o+=10;return i},$g=l=>{let i={PASS:0,DONT_PASS:1,COME:2,DONT_COME:3,FIELD:4,YES:5,NO:6,NEXT:7,HARDWAY:8,FIRE:12,BUY:13,ATS_SMALL:15,ATS_TALL:16,ATS_ALL:17}[l.type];l.type==="HARDWAY"&&l.target&&(l.target===4?i=8:l.target===6?i=9:l.target===8?i=10:l.target===10&&(i=11));const c=l.type==="HARDWAY"?0:l.target??0;return{betType:i,target:c,amount:l.amount}},Gg=l=>{const r=l.map($g),i=new Uint8Array(2+r.length*10);i[0]=4,i[1]=r.length;const c=new DataView(i.buffer);let o=2;for(const m of r)i[o]=m.betType,i[o+1]=m.target,c.setBigUint64(o+2,BigInt(m.amount),!1),o+=10;return i},zg=(l=null)=>{const[r,i]=R.useState({chips:_g,shields:Dg,doubles:Ig,auraMeter:0,rank:1,history:[],pnlByGame:{},pnlHistory:[]}),[c,o]=R.useState({type:D.NONE,message:"TYPE '/' FOR FUN",bet:50,stage:"BETTING",playerCards:[],dealerCards:[],communityCards:[],dice:[],crapsPoint:null,crapsEpochPointEstablished:!1,crapsBets:[],crapsUndoStack:[],crapsInputMode:"NONE",crapsRollHistory:[],crapsLastRoundBets:[],rouletteBets:[],rouletteUndoStack:[],rouletteLastRoundBets:[],rouletteHistory:[],rouletteInputMode:"NONE",rouletteZeroRule:"STANDARD",rouletteIsPrison:!1,sicBoBets:[],sicBoHistory:[],sicBoInputMode:"NONE",sicBoUndoStack:[],sicBoLastRoundBets:[],baccaratBets:[],baccaratUndoStack:[],baccaratLastRoundBets:[],lastResult:0,activeModifiers:{shield:!1,double:!1,super:!1},baccaratSelection:"PLAYER",insuranceBet:0,blackjackStack:[],completedHands:[],blackjack21Plus3Bet:0,threeCardPairPlusBet:0,threeCardSixCardBonusBet:0,threeCardProgressiveBet:0,threeCardProgressiveJackpot:1e4,uthTripsBet:0,uthSixCardBonusBet:0,uthProgressiveBet:0,uthProgressiveJackpot:1e4,uthBonusCards:[],casinoWarTieBet:0,hiloAccumulator:0,hiloGraphData:[],sessionWager:0,sessionInterimPayout:0,superMode:null}),[m,f]=R.useState([]),[v,p]=R.useState(null),[x,b]=R.useState(0),[y,N]=R.useState("REGISTRATION"),[A,C]=R.useState([]),[h,E]=R.useState(!1),O=R.useRef(!1),[M,I]=R.useState(null),[le,Q]=R.useState(null),[ie,Ee]=R.useState(null),[fe,oe]=R.useState(vm),je=R.useRef(null),[Je,De]=R.useState(!1),[vt,Lt]=R.useState(!1),[ot,W]=R.useState(!1),[de,ge]=R.useState(null),[Fe,H]=R.useState(null),[ne,xe]=R.useState(0),[he,Ne]=R.useState(null),[Ke,Oe]=R.useState(null),[kt,We]=R.useState(null),[Ct,Cl]=R.useState(null),[Na,tl]=R.useState(0),[La,Ka]=R.useState(!1),[Va,un]=R.useState(0),[ue,Mn]=R.useState(null),[on,It]=R.useState(null),pe=R.useRef(null),Nt=R.useRef(D.NONE),$e=R.useRef("PLAYER"),al=R.useRef([]),_e=R.useRef(null),re=R.useRef(!1),Me=R.useRef(0),zt=R.useRef(new Map),et=R.useRef(null),aa=R.useRef(null),ka=R.useRef(null),[He,qa]=R.useState(!1),[ll,Re]=R.useState(null),{threeCardPlay:dn,threeCardFold:Sl,threeCardTogglePairPlus:Os,threeCardToggleSixCardBonus:da,threeCardToggleProgressive:_n}=ug({gameState:c,setGameState:o,stats:r,setStats:i,chainService:ue,isOnChain:He,currentSessionIdRef:pe,isPendingRef:re,setLastTxSig:Re}),Rl=R.useRef(async()=>{}),{bjHit:nl,bjStand:ce,bjDouble:Ve,bjSplit:ht,bjInsurance:rl,bjToggle21Plus3:wl,bjStartGame:fn}=og({gameState:c,setGameState:o,stats:r,setStats:i,deck:m,setDeck:f,chainService:ue,isOnChain:He,currentSessionIdRef:pe,isPendingRef:re,setLastTxSig:Re}),{toggleSelection:Dn,placeBet:Ta,undo:St,rebet:Ut}=dg({gameState:c,setGameState:o,stats:r,baccaratBetsRef:al,baccaratSelectionRef:$e}),{placeCrapsBet:la,undoCrapsBet:Nr,rebetCraps:cc,placeCrapsNumberBet:uc,addCrapsOdds:Ls,rollCraps:hn}=Cg({gameState:c,setGameState:o,stats:r,setStats:i,chainService:ue,currentSessionIdRef:pe,isPendingRef:re,setLastTxSig:Re,isOnChain:He,startGame:S=>Rl.current(S),autoPlayDraftRef:aa}),Mt=R.useRef(null),pt=R.useRef(null),fa=R.useRef(0),Ma=2e3,na=R.useRef(!1),ft=R.useRef(null),ks=15e3;R.useEffect(()=>{O.current=h},[h]);const Fa=()=>{na.current=!1,ft.current&&(clearTimeout(ft.current),ft.current=null)},sl=(S,k)=>{na.current=!0,ft.current&&clearTimeout(ft.current),ft.current=setTimeout(()=>{(async()=>{if(!na.current)return;const j=k??pe.current;if(j==null){na.current=!1,re.current=!1,Me.current=0,et.current=null,pe.current=null,It(null),o(w=>({...w,stage:"BETTING",message:`NO CHAIN RESPONSE (${S})  START dev-executor`}));return}if(pe.current===j){try{const w=Mt.current;if(w){const B=await w.getCasinoSession(j);if(!na.current||pe.current!==j)return;if(B&&!B.isComplete){const U=Xi[B.gameType]??Nt.current;Nt.current=U,It(j);const F=_e.current;if(F){const L={...F,type:U,bet:B.bet!==void 0&&B.bet!==null?Number(B.bet):F.bet};_e.current=L,o(L)}else o(L=>({...L,type:U,bet:B.bet!==void 0&&B.bet!==null?Number(B.bet):L.bet}));Zt(B.stateBlob,U),Fa(),re.current=!1,Me.current=0,et.current=null,mn(j,U);return}}}catch{}na.current=!1,re.current=!1,et.current=null,pe.current=null,It(null),o(w=>({...w,stage:"BETTING",message:`NO CHAIN RESPONSE (${S})  START dev-executor`}))}})()},ks)},Bl=async()=>{var k,j,w,B;const S=Mt.current;if(!S)return!1;try{const U=(k=S.getCurrentView)==null?void 0:k.call(S);if(U!=null)return!0}catch{}try{const U=await((j=S.queryLatestSeed)==null?void 0:j.call(S));if(U!=null&&U.found)return S.latestSeed=U.seed,!0}catch{}try{await Promise.race([(w=S.waitForFirstSeed)==null?void 0:w.call(S),new Promise((F,L)=>setTimeout(()=>L(new Error("seed-timeout")),1500))]);const U=(B=S.getCurrentView)==null?void 0:B.call(S);return U!=null}catch{return!1}};R.useEffect(()=>{(async()=>{try{const k="92b050b6fbe80695b5d56835e978918e37c8707a7fad09a01ae782d4c3170c9baa4c2c196b36eac6b78ceb210b287aeb0727ef1c60e48042142f7bcc8b6382305cd50c5a4542c44ec72a4de6640c194f8ef36bea1dbed168ab6fd8681d910d55",j=new ac(k);await j.init();const w=new kg("/api",j);await w.init();const B=w.getOrCreateKeypair();if(!B){qa(!1),o(L=>({...L,stage:"BETTING",message:"UNLOCK PASSKEY VAULT  OPEN VAULT TAB"}));return}Ee(B.publicKeyHex),Mt.current=w,pt.current=B.publicKey,await w.switchUpdates(B.publicKey);const U=await w.getAccount(B.publicKey);await w.initNonceManager(B.publicKeyHex,B.publicKey,U);try{const L=await w.getCasinoPlayer(B.publicKey);if(L){const X=Date.now()-fa.current>Ma;if(i(Z=>({...Z,chips:X?L.chips:Z.chips,shields:L.shields,doubles:L.doubles,auraMeter:L.auraMeter??Z.auraMeter??0})),I(Z=>X?Number(L.chips):Z),Q(Number(L.vusdtBalance??0)),o(Z=>({...Z,activeModifiers:{shield:L.activeShield||!1,double:L.activeDouble||!1,super:L.activeSuper||!1}})),E(!0),Ht.current=!0,L.activeSession){const Z=BigInt(L.activeSession);try{const K=await w.getCasinoSession(Z);if(K&&!K.isComplete){pe.current=Z,It(Z);const J=Xi[K.gameType];J&&(Nt.current=J,o(se=>({...se,type:J,bet:Number(K.bet),stage:"PLAYING",message:"GAME IN PROGRESS - RESTORED FROM CHAIN",superMode:K.superMode??null})),Zt(K.stateBlob,J))}}catch{}}}else{Ht.current=!1,E(!1);const $=localStorage.getItem("casino_public_key_hex")??localStorage.getItem("casino_private_key");$&&localStorage.removeItem(`casino_registered_${$}`)}}catch{}try{const L=await w.getHouse();L&&o($=>({...$,threeCardProgressiveJackpot:Number(L.threeCardProgressiveJackpot??$.threeCardProgressiveJackpot),uthProgressiveJackpot:Number(L.uthProgressiveJackpot??$.uthProgressiveJackpot)}))}catch{}const F=new Bg(w);Mn(F),qa(!0);try{const L=await w.getCasinoLeaderboard();if(L&&L.entries){const $=B.publicKey?Array.from(B.publicKey).map(K=>K.toString(16).padStart(2,"0")).join(""):null,X=L.entries.map(K=>{var J;return{name:K.name||`Player_${(J=K.player)==null?void 0:J.substring(0,8)}`,chips:Number(K.chips),status:"ALIVE"}});if($&&L.entries.some(K=>K.player&&K.player.toLowerCase()===$.toLowerCase())&&$){const K=L.entries.findIndex(J=>J.player&&J.player.toLowerCase()===$.toLowerCase());K>=0&&(X[K].name=`${X[K].name} (YOU)`)}X.sort((K,J)=>J.chips-K.chips),C(X)}}catch{}}catch{qa(!1)}})()},[]);const Ms=R.useRef(0),jl=R.useRef(r.chips);R.useEffect(()=>{jl.current=r.chips},[r.chips]);const pn=R.useRef(!1),Tr=R.useRef(!1);R.useEffect(()=>{const S=setInterval(()=>{const k=Date.now();if(l!=="FREEROLL")b(0),H(null),xe(0),Cl(null),tl(0),Ka(!1);else{const j=go(k),w=j.isRegistration?j.tournamentId:j.tournamentId+1,B=w*jo+$o;if(Cl(w),tl(Math.max(0,Math.ceil((B-k)/1e3))),de!==null&&y==="ACTIVE"){const U=Math.max(0,de-k);b(Math.ceil(U/1e3))}}Ms.current++,!(!Mt.current||!pt.current||Ms.current%2!==0)&&(async()=>{var J,se,ye,Ce;const j=Mt.current;if(!j)return;const w=pt.current?Array.from(pt.current).map(me=>me.toString(16).padStart(2,"0")).join(""):null;let B=null;try{B=await j.getCasinoPlayer(pt.current)}catch{}let U=!0,F=null;if(B?(E(!0),Ht.current=!0,un(Number(B.tournamentsPlayedToday??0)),U=Date.now()-fa.current>Ma,F=B.activeTournament!=null?Number(B.activeTournament):null,We(F),l==="FREEROLL"&&Ct!==null&&Ka(F===Ct)):(E(!1),Ht.current=!1,un(0),We(null)),l!=="FREEROLL"){B&&(i(me=>({...me,chips:U?Number(B.chips):me.chips,shields:Number(B.shields),doubles:Number(B.doubles)})),I(me=>U?Number(B.chips):me),Q(Number(B.vusdtBalance??0)));try{const me=await j.getCasinoLeaderboard();if(me&&me.entries){const ve=me.entries.map(Ae=>{var tt;const we=Ae.name||`Player_${(tt=Ae.player)==null?void 0:tt.substring(0,8)}`;return{name:!!w&&!!Ae.player&&Ae.player.toLowerCase()===w.toLowerCase()?`${we} (YOU)`:we,chips:Number(Ae.chips),status:"ALIVE"}});!(!!w&&me.entries.some(Ae=>{var we;return((we=Ae.player)==null?void 0:we.toLowerCase())===w.toLowerCase()}))&&h&&ve.push({name:"YOU",chips:jl.current,status:"ALIVE"}),ve.sort((Ae,we)=>we.chips-Ae.chips),C(ve);const Ie=ve.findIndex(Ae=>Ae.name.includes("YOU"))+1;Ie>0&&i(Ae=>({...Ae,rank:Ie}))}}catch{}return}const L=go(Date.now()),$=L.tournamentId,X=[...F!==null?[F]:[],$,...$>0?[$-1]:[]].filter((me,ve,Le)=>Le.indexOf(me)===ve);let Z=null;for(const me of X)try{const ve=await j.getCasinoTournament(me);if(ve&&ve.phase==="Active"&&ve.endTimeMs){const Le=Number(ve.endTimeMs);Z={id:me,endTimeMs:Le,state:ve};break}}catch{}H(Z?Z.id:null),xe(Z?Math.max(0,Math.ceil((Z.endTimeMs-k)/1e3)):0),Ne(Z?Number(((J=Z.state)==null?void 0:J.prizePool)??0):null),Oe(Z&&Array.isArray((se=Z.state)==null?void 0:se.players)?Z.state.players.length:null);const K=!!Z&&F===Z.id;if(B){const me=K,ve=me?B.tournamentChips:B.chips,Le=me?B.tournamentShields:B.shields,Ie=me?B.tournamentDoubles:B.doubles;i(Ae=>({...Ae,chips:U?Number(ve):Ae.chips,shields:Number(Le),doubles:Number(Ie)})),I(Ae=>U?Number(B.chips):Ae),Q(Number(B.vusdtBalance??0))}if(K?(N("ACTIVE"),ge(Z.endTimeMs),b(Math.max(0,Math.ceil((Z.endTimeMs-k)/1e3)))):(N("REGISTRATION"),ge(null),b(0)),!L.isRegistration&&k<L.endTimeMs&&!pn.current)try{const me=await j.getCasinoTournament(L.tournamentId);if(me&&me.phase==="Registration"&&Array.isArray(me.players)&&me.players.length>0){pn.current=!0,De(!0);try{const ve=await j.nonceManager.submitCasinoStartTournament(L.tournamentId,L.startTimeMs,L.endTimeMs);ve!=null&&ve.txHash&&Re(ve.txHash)}finally{De(!1),pn.current=!1}}}catch{De(!1),pn.current=!1}if(Z&&k>=Z.endTimeMs&&!Tr.current){Tr.current=!0;try{const me=await j.nonceManager.submitCasinoEndTournament(Z.id);me!=null&&me.txHash&&Re(me.txHash)}catch{}finally{Tr.current=!1}}if((Ce=(ye=Z==null?void 0:Z.state)==null?void 0:ye.leaderboard)!=null&&Ce.entries){const me=Z.state.leaderboard.entries,ve=me.map(Ae=>{var tt;const we=Ae.name||`Player_${(tt=Ae.player)==null?void 0:tt.substring(0,8)}`;return{name:!!w&&!!Ae.player&&Ae.player.toLowerCase()===w.toLowerCase()?`${we} (YOU)`:we,chips:Number(Ae.chips),status:"ALIVE"}});!(!!w&&me.some(Ae=>{var we;return((we=Ae.player)==null?void 0:we.toLowerCase())===w.toLowerCase()}))&&K&&ve.push({name:"YOU",chips:jl.current,status:"ALIVE"}),ve.sort((Ae,we)=>we.chips-Ae.chips),C(ve);const Ie=ve.findIndex(Ae=>Ae.name.includes("YOU"))+1;Ie>0&&i(Ae=>({...Ae,rank:Ie}))}else try{const me=await j.getCasinoLeaderboard();if(me&&me.entries){const ve=me.entries.map(Le=>{var we;const Ie=Le.name||`Player_${(we=Le.player)==null?void 0:we.substring(0,8)}`;return{name:!!w&&!!Le.player&&Le.player.toLowerCase()===w.toLowerCase()?`${Ie} (YOU)`:Ie,chips:Number(Le.chips),status:"ALIVE"}});ve.sort((Le,Ie)=>Ie.chips-Le.chips),C(ve)}}catch{}})()},1e3);return()=>clearInterval(S)},[l,y,de,Ct]),R.useEffect(()=>{const S="92b050b6fbe80695b5d56835e978918e37c8707a7fad09a01ae782d4c3170c9baa4c2c196b36eac6b78ceb210b287aeb0727ef1c60e48042142f7bcc8b6382305cd50c5a4542c44ec72a4de6640c194f8ef36bea1dbed168ab6fd8681d910d55";if(!je.current)try{const k="http://localhost:8080";je.current=new Mg(k,S)}catch{}},[]),R.useEffect(()=>{const S=je.current;if(S){if(S.setConfig(fe),l!=="FREEROLL"||!fe.enabled){S.stop();return}if(y==="REGISTRATION"){Ct!==null&&S.prepareTournamentBots(Ct).catch(k=>{});return}return y==="ACTIVE"&&S.startPlaying(),()=>{S.stop()}}},[l,y,fe,Ct]),R.useEffect(()=>{_e.current=c},[c]);const In=(S,k,j)=>{var F,L;const w=j>=0?`+$${j}`:`-$${Math.abs(j)}`,B=[];if(!k)return{summary:w,details:B};let U=w;switch(S){case D.BACCARAT:{if(k.playerCards.length===0||k.dealerCards.length===0)return{summary:U,details:B};const $=Ji(k.playerCards),X=Ji(k.dealerCards),Z=$>X?"PLAYER":X>$?"BANKER":"TIE",K=Z==="TIE"?`${$}-${X}`:Z==="PLAYER"?`${$}-${X}`:`${X}-${$}`;U=`${Z} wins ${K}. ${w}`,k.baccaratBets.forEach(se=>{let ye=!1,Ce=0;se.type==="TIE"&&Z==="TIE"?(ye=!0,Ce=se.amount*8):se.type==="P_PAIR"&&k.playerCards[0].rank===k.playerCards[1].rank||se.type==="B_PAIR"&&k.dealerCards[0].rank===k.dealerCards[1].rank?(ye=!0,Ce=se.amount*11):se.type==="LUCKY6"&&Z==="BANKER"&&X===6&&(ye=!0,Ce=se.amount*(k.dealerCards.length===2?12:23)),ye?B.push(`${se.type} WIN (+$${Ce})`):B.push(`${se.type} LOSS (-$${se.amount})`)});const J=k.sessionWager-k.baccaratBets.reduce((se,ye)=>se+ye.amount,0);J>0&&(k.baccaratSelection===Z?B.push(`${k.baccaratSelection} WIN (+$${J})`):Z!=="TIE"?B.push(`${k.baccaratSelection} LOSS (-$${J})`):B.push(`${k.baccaratSelection} PUSH`));break}case D.BLACKJACK:{if(!((F=k.playerCards)!=null&&F.length)||!((L=k.dealerCards)!=null&&L.length))return{summary:U,details:B};const $=Ln(k.playerCards),X=Ln(k.dealerCards);U=`${j>0?"WIN":j<0?"LOSE":"PUSH"}: ${$} vs. ${X}.`,j>0?B.push(`WIN (+$${j})`):j<0?B.push(`LOSS (-$${Math.abs(j)})`):B.push("PUSH");break}case D.CASINO_WAR:{const $=k.playerCards[0],X=k.dealerCards[0];if(!$||!X)return{summary:U,details:B};const Z=ye=>{if(ye==="A")return 14;if(ye==="K")return 13;if(ye==="Q")return 12;if(ye==="J")return 11;const Ce=Number(ye);return Number.isFinite(Ce)?Ce:0},K=Z($.rank),J=Z(X.rank);U=`${j>0?"WIN":j<0?"LOSE":"PUSH"}: ${K} vs. ${J}.`,j>0?B.push(`WIN (+$${j})`):j<0?B.push(`LOSS (-$${Math.abs(j)})`):B.push("TIE/PUSH");break}case D.HILO:{const $=k.playerCards[k.playerCards.length-1];if(!$)return{summary:U,details:B};U=`${$.rank}${$.suit}. ${w}`,B.push(`Outcome: ${$.rank}${$.suit}`),j>0?B.push(`WIN (+$${j})`):B.push(`LOSS (-$${Math.abs(j)})`);break}case D.VIDEO_POKER:{const $=Ro(k.playerCards);U=`${$.rank}. ${w}`,B.push(`${$.rank}`),j>0?B.push(`WIN (+$${j})`):B.push(`LOSS (-$${Math.abs(j)})`);break}case D.THREE_CARD:{const $=jp(k.playerCards),X=jp(k.dealerCards);U=`${$.rank} vs ${X.rank}. ${w}`,B.push(`Player: ${$.rank}`),B.push(`Dealer: ${X.rank}`),j>0?B.push(`WIN (+$${j})`):j<0?B.push(`LOSS (-$${Math.abs(j)})`):B.push("PUSH");break}case D.ULTIMATE_HOLDEM:{const $=Ln(k.playerCards),X=Ln(k.dealerCards);U=`Player ${$} vs Dealer ${X}. ${w}`,j>0?B.push(`WIN (+$${j})`):j<0?B.push(`LOSS (-$${Math.abs(j)})`):B.push("PUSH");break}case D.CRAPS:{if(!k.dice||k.dice.length<2)return{summary:U,details:B};const $=k.dice[0],X=k.dice[1];U=`Rolled: ${$+X}. ${w}`;const K=k.crapsBets.length>0?k.crapsBets:k.crapsLastRoundBets,J=Op([$,X],k.crapsPoint,K);B.push(...J.results);break}case D.ROULETTE:{const $=k.rouletteHistory[k.rouletteHistory.length-1];if($===void 0)return{summary:U,details:B};const X=Nl($);U=`${$} ${X}. ${w}`;const Z=k.rouletteBets.length>0?k.rouletteBets:k.rouletteLastRoundBets,K=gg($,Z,k.rouletteZeroRule);B.push(...K.results);break}case D.SIC_BO:{if(!k.dice||k.dice.length<3)return{summary:U,details:B};U=`Rolled ${k.dice.reduce((K,J)=>K+J,0)} (${k.dice.join("-")}). ${w}`;const X=k.sicBoBets.length>0?k.sicBoBets:k.sicBoLastRoundBets,Z=Tg(k.dice,X);B.push(...Z.results);break}}return{summary:U,details:B}},mn=(S,k)=>{const j=ka.current;!j||j.sessionId!==S||(ka.current=null,j.type===k&&ue&&(re.current||pe.current&&(async()=>{re.current=!0;try{if(j.type===D.BACCARAT){const w=kp(j.baccaratSelection,j.baccaratSideBets,j.mainBetAmount);Me.current=1,o(F=>({...F,baccaratLastRoundBets:j.baccaratSideBets,baccaratUndoStack:[],sessionWager:w.reduce((L,$)=>L+$.amount,0),message:"DEALING..."}));const B=Mp(w),U=await ue.sendMove(S,B);U.txHash&&Re(U.txHash);return}if(j.type===D.ROULETTE){const w=j.rouletteZeroRule==="LA_PARTAGE"?1:j.rouletteZeroRule==="EN_PRISON"?2:j.rouletteZeroRule==="EN_PRISON_DOUBLE"?3:0,B=j.rouletteBets.reduce((L,$)=>L+$.amount,0);if(o(L=>({...L,sessionWager:B,message:"PLACING BETS..."})),w!==0){Me.current=2;const L=new Uint8Array([3,w]),$=await ue.sendMove(S,L);$.txHash&&Re($.txHash)}else Me.current=1;o(L=>({...L,message:"SPINNING ON CHAIN..."}));const U=_p(j.rouletteBets),F=await ue.sendMove(S,U);F.txHash&&Re(F.txHash),o(L=>({...L,rouletteLastRoundBets:j.rouletteBets,rouletteBets:[],rouletteUndoStack:[]}));return}if(j.type===D.SIC_BO){Me.current=1;const w=j.sicBoBets.reduce((F,L)=>F+L.amount,0);o(F=>({...F,sessionWager:w,message:"ROLLING..."}));const B=Dp(j.sicBoBets),U=await ue.sendMove(S,B);U.txHash&&Re(U.txHash),o(F=>({...F,sicBoLastRoundBets:j.sicBoBets,sicBoBets:[],sicBoUndoStack:[]}));return}if(j.type===D.CRAPS){Me.current=1,o(U=>({...U,crapsLastRoundBets:j.crapsBets,crapsUndoStack:[],message:"ROLLING..."})),et.current={sessionId:S,prevDice:null,point:null,bets:j.crapsBets.map(U=>({...U}))};const w=Gg(j.crapsBets),B=await ue.sendMove(S,w);B.txHash&&Re(B.txHash);return}}catch{o(B=>({...B,message:"AUTO PLAY FAILED"})),re.current=!1,Me.current=0,et.current=null}})()))};R.useEffect(()=>{var F;if(!ue||!He)return;const S=ue.onGameStarted(L=>{const $=BigInt(L.sessionId),X=pe.current?BigInt(pe.current):null;if(X!==null&&$===X){Fa(),re.current=!1,Me.current=0;const Z=Xi[L.gameType];if(Nt.current=Z,(async()=>{var K;try{const J=await((K=Mt.current)==null?void 0:K.getCasinoSession($));J&&o(se=>({...se,superMode:J.superMode??null}))}catch{}})(),L.initialState&&L.initialState.length>0){if(Zt(L.initialState,Z),Z===D.CASINO_WAR&&ue&&pe.current&&L.initialState[2]===0){if(re.current)return;(async()=>{re.current=!0;try{const J=new Uint8Array([0]),se=await ue.sendMove(pe.current,J);se.txHash&&Re(se.txHash),o(ye=>({...ye,message:"COMPARING..."}))}catch{o(se=>({...se,message:"CONFIRM FAILED"})),re.current=!1}})()}}else{const K=Z===D.CRAPS?"PLACE BETS & ROLL":Z===D.ROULETTE?"PLACE BETS & SPIN":Z===D.SIC_BO?"PLACE BETS & ROLL":"GAME STARTED";o(J=>({...J,stage:"PLAYING",message:K}))}mn($,Z)}}),k=ue.onGameMoved(L=>{const $=BigInt(L.sessionId),X=pe.current?BigInt(pe.current):null;if(X!==null&&$===X){const Z=L.newState;if(L.logs&&L.logs.length>0)i(J=>({...J,history:[...J.history,...L.logs]})),et.current=null;else{const J=et.current;if(Nt.current===D.CRAPS&&J&&J.sessionId===$){let se=0,ye=0;if(Z.length>=5&&(Z[0]===1||Z[0]===2)?(se=Z[3]??0,ye=Z[4]??0):Z.length>=4&&(se=Z[2]??0,ye=Z[3]??0),se>0&&ye>0){const Ce=!J.prevDice||J.prevDice[0]!==se||J.prevDice[1]!==ye,me=Me.current===1;if(Ce||me){const ve=se+ye,Le=Op([se,ye],J.point,J.bets);i(Ie=>({...Ie,history:[...Ie.history,`Rolled: ${ve}`,...Le.results]})),et.current=null}}}}Zt(Z,Nt.current),Me.current>0?(Me.current=Math.max(0,Me.current-1),Me.current===0?re.current=!1:re.current=!0):re.current=!1,Nt.current===D.BLACKJACK&&Z.length>=2&&Z[0]===2&&Z[1]===2&&!re.current&&pe.current&&(async()=>{try{re.current=!0,o(se=>{const ye={...se,message:"REVEALING..."};return _e.current=ye,ye});const J=await ue.sendMove(pe.current,new Uint8Array([6]));J.txHash&&Re(J.txHash)}catch{re.current=!1,o(se=>{const ye={...se,message:"REVEAL FAILED (SPACE)"};return _e.current=ye,ye})}})()}}),j=ue.onGameCompleted(L=>{var Z,K;const $=BigInt(L.sessionId),X=pe.current?BigInt(pe.current):null;if(X!==null&&$===X){Fa();const J=Number(L.payout),se=Number(L.finalChips);fa.current=Date.now();const ye=((Z=_e.current)==null?void 0:Z.sessionWager)||0,Ce=((K=_e.current)==null?void 0:K.sessionInterimPayout)||0,me=zt.current.get($),ve=me!==void 0?se-me:J>=0?J+Ce-ye:J+Ce,Le=L.logs&&L.logs.length>0?Ag(Nt.current,L.logs,ve):null,{summary:Ie,details:Ae}=Le||In(Nt.current,_e.current,ve);i(we=>{const gt=Nt.current,tt={[gt]:(we.pnlByGame[gt]||0)+ve},at=[Ie,...Ae];return{...we,chips:se,shields:L.wasShielded?we.shields-1:we.shields,doubles:L.wasDoubled?we.doubles-1:we.doubles,history:[...we.history,...at],pnlByGame:{...we.pnlByGame,...tt},pnlHistory:[...we.pnlHistory,(we.pnlHistory[we.pnlHistory.length-1]||0)+ve].slice(-Jt)}}),(L.wasShielded||L.wasDoubled)&&o(we=>({...we,activeModifiers:{shield:!1,double:!1,super:!1}})),o(we=>({...we,stage:"RESULT",message:Ie,lastResult:ve,sessionWager:0,sessionInterimPayout:0,rouletteIsPrison:!1,casinoWarTieBet:0})),(async()=>{var we;try{const gt=Mt.current,tt=await((we=gt==null?void 0:gt.getHouse)==null?void 0:we.call(gt));tt&&o(at=>({...at,threeCardProgressiveJackpot:Number(tt.threeCardProgressiveJackpot??at.threeCardProgressiveJackpot),uthProgressiveJackpot:Number(tt.uthProgressiveJackpot??at.uthProgressiveJackpot)}))}catch{}})(),pe.current=null,It(null),re.current=!1,Me.current=0,et.current=null,zt.current.delete($)}}),w=ue.onLeaderboardUpdated(L=>{try{if(L&&L.entries){const $=pt.current?Array.from(pt.current).map(J=>J.toString(16).padStart(2,"0")).join(""):null,X=L.entries.map(J=>{var se;return{name:J.name||`Player_${(se=J.player)==null?void 0:se.substring(0,8)}`,chips:Number(J.chips),status:"ALIVE"}});if(!($&&L.entries.some(J=>J.player&&J.player.toLowerCase()===$.toLowerCase()))&&$&&O.current)X.push({name:"YOU",chips:jl.current,status:"ALIVE"});else if($){const J=L.entries.findIndex(se=>se.player&&se.player.toLowerCase()===$.toLowerCase());J>=0&&(X[J].name=`${X[J].name} (YOU)`)}X.sort((J,se)=>se.chips-J.chips),C(X);const K=X.findIndex(J=>J.name.includes("YOU"))+1;K>0&&i(J=>({...J,rank:K}))}}catch{}}),B=Mt.current,U=((F=B==null?void 0:B.onEvent)==null?void 0:F.call(B,"CasinoError",L=>{try{const $=((L==null?void 0:L.message)??"UNKNOWN ERROR").toString(),X=(L==null?void 0:L.sessionId)??(L==null?void 0:L.session_id)??null,Z=X==null?null:BigInt(X),K=pe.current?BigInt(pe.current):null;Z!==null&&K!==null&&Z===K&&(pe.current=null,It(null),re.current=!1,Me.current=0,et.current=null),o(J=>({...J,message:$.toUpperCase().slice(0,72)}))}finally{Fa(),re.current=!1,Me.current=0,et.current=null}}))??(()=>{});return()=>{S(),k(),j(),w(),U(),Fa()}},[ue,He]),R.useEffect(()=>{!He||!ue||!pe.current||c.type===D.BLACKJACK&&c.message==="REVEAL (SPACE)"&&(re.current||(async()=>{try{re.current=!0,o(k=>{const j={...k,message:"REVEALING..."};return _e.current=j,j});const S=await ue.sendMove(pe.current,new Uint8Array([6]));S.txHash&&Re(S.txHash)}catch{re.current=!1,o(k=>{const j={...k,message:"REVEAL FAILED (SPACE)"};return _e.current=j,j})}})())},[c.type,c.message,He,ue]);const Zt=(S,k)=>{var j;try{const w=new DataView(S.buffer,S.byteOffset,S.byteLength),B=k??c.type;if(B===D.BLACKJACK){if(S.length<2||S[0]!==2||S.length<14)return;let F=0;F++;const L=S[F++],$=Number(w.getBigUint64(F,!1));F+=8;const X=S[F++],Z=S[F++],K=S[F++],J=S[F++],se=((j=_e.current)==null?void 0:j.bet)||100;let ye=[];const Ce=[],me=[],ve=[];let Le=J===0?se:0;const Ie=K>=J;for(let rt=0;rt<J;rt++){const _a=S[F++],$n=S[F++];F++;const xc=S[F++],xn=[];for(let Da=0;Da<xc;Da++)xn.push(Rt(S[F++]));const Ks=_a===2,Lr=se*_a;if(Le+=Lr,!Ie&&rt===K)ye=xn;else if(Ie&&rt===J-1)ye=xn;else if(!Ie&&rt>K)me.push({cards:xn,bet:Lr,isDoubled:Ks});else{let Da="";$n===2?Da="BUST":$n===3?Da="BLACKJACK":$n===1&&(Da="STAND"),ve.push({cards:xn,bet:Lr,isDoubled:Ks,message:Da})}}const Ae=S[F++];for(let rt=0;rt<Ae;rt++)Ce.push(Rt(S[F++]));const we=L===3,gt=L===0?"BETTING":we?"RESULT":"PLAYING";let tt="PLACE BETS & DEAL";L===1?tt="Your move":L===2?tt="REVEAL (SPACE)":L===3&&(tt="GAME COMPLETE");const at=Ce.map((rt,_a)=>({...rt,isHidden:!we&&_a>0})),Aa=_e.current,il=Le+$,cl={...Aa,type:B,playerCards:L===0||X===255||Z===255?[]:ye,dealerCards:L===0?[]:at,blackjackStack:me,completedHands:ve,blackjack21Plus3Bet:$,sessionWager:il,stage:gt,message:tt};_e.current=cl,o(cl)}else if(B===D.HILO){if(S.length<9)return;const U=Rt(S[0]),F=Number(w.getBigInt64(1,!1));if(_e.current){const L=_e.current.playerCards||[],$=L.length>0?L[L.length-1]:null,X=$&&$.rank===U.rank&&$.suit===U.suit?L:[...L,U];_e.current={..._e.current,playerCards:X}}o(L=>{const $=Math.floor(L.bet*F/1e4),X=L.playerCards||[],Z=X.length>0?X[X.length-1]:null,K=Z&&Z.rank===U.rank&&Z.suit===U.suit?X:[...X,U],J={...L,type:B,playerCards:K,hiloAccumulator:$,hiloGraphData:[...L.hiloGraphData||[],$].slice(-Jt),stage:"PLAYING",message:`POT: $${$.toLocaleString()} | HIGHER (H) / LOWER (L)`};return _e.current=J,J})}else if(B===D.BACCARAT){if(S.length<1)return;const L=1+S[0]*9;if(S.length<=L){o(se=>({...se,type:B,playerCards:[],dealerCards:[],stage:"PLAYING",message:"PLACE BETS & DEAL"}));return}let $=L;const X=S[$++];if(S.length<$+X+1)return;const Z=[];for(let se=0;se<X&&$<S.length;se++){const ye=S[$++];Z.push(Rt(ye))}const K=$<S.length?S[$++]:0,J=[];for(let se=0;se<K&&$<S.length;se++){const ye=S[$++];J.push(Rt(ye))}if(Z.length===0&&J.length===0){o(se=>({...se,type:B,playerCards:[],dealerCards:[],stage:"PLAYING",message:"PLACE BETS & DEAL"}));return}_e.current&&(_e.current={..._e.current,type:B,playerCards:Z,dealerCards:J,stage:"RESULT",message:"BACCARAT DEALT"}),o(se=>({...se,type:B,playerCards:Z,dealerCards:J,stage:"RESULT",message:"BACCARAT DEALT"}))}else if(B===D.VIDEO_POKER){if(S.length<6)return;const U=S[0],F=[];for(let L=1;L<=5&&L<S.length;L++)F.push(Rt(S[L]));_e.current&&(_e.current={..._e.current,playerCards:F}),o(L=>{const $=U===0?F.map((Z,K)=>{var J,se;return{...Z,isHeld:(se=(J=L.playerCards)==null?void 0:J[K])==null?void 0:se.isHeld}}):F,X={...L,type:B,playerCards:$,stage:U===1?"RESULT":"PLAYING",message:U===0?"HOLD (1-5), DRAW (D)":"GAME COMPLETE"};return _e.current=X,X})}else if(B===D.CASINO_WAR){if(S.length>=12&&S[0]===1){const X=S[1],Z=S[2],K=S[3],J=Number(new DataView(S.buffer,S.byteOffset+4,8).getBigUint64(0,!1)),se=X===0?null:Rt(Z),ye=X===0?null:Rt(K);o(Ce=>{const ve=X===1&&J>0&&(Ce.sessionInterimPayout||0)===0?J*11:Ce.sessionInterimPayout||0,Le={...Ce,type:B,playerCards:se?[se]:[],dealerCards:ye?[ye]:[],casinoWarTieBet:J,sessionInterimPayout:X===0?0:ve,stage:X===0?"BETTING":"PLAYING",message:X===0?"PLACE BETS & DEAL":X===1?"WAR! GO TO WAR (W) / SURRENDER (S)":"DEALT"};return _e.current=Le,Le});return}if(S.length<3)return;const F=Rt(S[0]),L=Rt(S[1]),$=S[2];o(X=>{const Z={...X,type:B,playerCards:[F],dealerCards:[L],stage:"PLAYING",message:$===1?"WAR! GO TO WAR (W) / SURRENDER (S)":"DEALT"};return _e.current=Z,Z})}else if(B===D.CRAPS){if(S.length<5)return;const U=S[0]===2&&S.length>=8&&(S[1]===0||S[1]===1),F=S[0]===1&&S.length>=7&&(S[1]===0||S[1]===1);let L,$,X,Z,K,J;if(U)X=S[2],L=S[3],$=S[4],Z=S[6]===1,K=S[7],J=8;else if(F){X=S[2],L=S[3],$=S[4];const Ie=S[5]??0;Z=S[1]===1||X>0||Ie!==0,K=S[6],J=7}else X=S[1],L=S[2],$=S[3],Z=S[0]===1||X>0,K=S[4],J=5;const se=L>0&&$>0,ye=se?[L,$]:[],Ce=se?L+$:0,me={0:"PASS",1:"DONT_PASS",2:"COME",3:"DONT_COME",4:"FIELD",5:"YES",6:"NO",7:"NEXT",8:"HARDWAY",9:"HARDWAY",10:"HARDWAY",11:"HARDWAY",12:"FIRE",13:"BUY",15:"ATS_SMALL",16:"ATS_TALL",17:"ATS_ALL"},ve=[];let Le=J;for(let Ie=0;Ie<K&&Le+19<=S.length;Ie++){const Ae=S[Le],we=S[Le+1],gt=S[Le+2],tt=Number(w.getBigUint64(Le+3,!1)),at=Number(w.getBigUint64(Le+11,!1)),Aa=me[Ae]||"PASS",il=Ae>=8&&Ae<=11,cl=Ae===8?4:Ae===9?6:Ae===10?8:10,rt=Ae>=15&&Ae<=17,_a=rt?at:void 0;ve.push({type:Aa,target:il?cl:we>0?we:void 0,status:gt===1?"PENDING":"ON",amount:tt,oddsAmount:!il&&!rt&&at>0?at:void 0,progressMask:_a}),Le+=19}_e.current&&(_e.current={..._e.current,dice:ye,crapsPoint:X>0?X:null,crapsEpochPointEstablished:Z}),o(Ie=>{const Ae=Ie.dice,we=Ae.length!==ye.length||ye.length===2&&(Ae[0]!==L||Ae[1]!==$);let gt=Ie.crapsRollHistory;se&&we&&(gt=Ce===7&&Ie.crapsPoint!==null?[Ce]:[...Ie.crapsRollHistory,Ce].slice(-Jt));const tt=Ie.crapsBets.filter(rt=>rt.local===!0),at=rt=>`${rt.type}|${rt.target??""}|${rt.status??""}|${rt.amount}|${rt.oddsAmount??0}|${rt.progressMask??0}`,Aa=[...ve],il=new Set(ve.map(at));for(const rt of tt){const _a=at(rt);il.has(_a)||(il.add(_a),Aa.push(rt))}const cl={...Ie,type:B,dice:ye,crapsPoint:X>0?X:null,crapsEpochPointEstablished:Z,crapsBets:Aa,crapsRollHistory:gt,stage:"PLAYING",message:se?we?`ROLLED ${Ce}`:Ie.message:re.current?Ie.message:Aa.length>0?"BETS PLACED - SPACE TO ROLL":"PLACE BETS - SPACE TO ROLL"};return _e.current=cl,cl})}else if(B===D.ROULETTE){if(S.length<1)return;const F=S[0]*10,L=1+F,$=19,X=$+F,Z=S.length===$+F||S.length===$+F+1,K=Z?S[1]:0,J=Z?S[2]:0,se=Z?X:L,ye=K===1?"LA_PARTAGE":K===2?"EN_PRISON":K===3?"EN_PRISON_DOUBLE":"STANDARD",Ce=J===1;if(S.length>se){const me=S[se];_e.current&&(_e.current={..._e.current,rouletteHistory:[..._e.current.rouletteHistory||[],me].slice(-Jt)}),o(ve=>({...ve,type:B,rouletteZeroRule:ye,rouletteIsPrison:Ce,rouletteHistory:[...ve.rouletteHistory,me].slice(-Jt),stage:Ce&&me===0?"PLAYING":"RESULT",message:Ce&&me===0?"EN PRISON - SPACE TO SPIN":`LANDED ON ${me}`}))}else o(me=>({...me,type:B,rouletteZeroRule:ye,rouletteIsPrison:Ce,stage:"PLAYING",message:Ce?"EN PRISON - SPACE TO SPIN":"PLACE YOUR BETS"}))}else if(B===D.SIC_BO){if(S.length<1)return;const L=1+S[0]*10;if(S.length>=L+3){const $=[S[L],S[L+1],S[L+2]],X=$[0]+$[1]+$[2];_e.current&&(_e.current={..._e.current,dice:$,sicBoHistory:[..._e.current.sicBoHistory||[],$].slice(-Jt)}),o(Z=>({...Z,type:B,dice:$,sicBoHistory:[...Z.sicBoHistory,$].slice(-Jt),stage:"RESULT",message:`ROLLED ${X} (${$.join("-")})`}))}else o($=>({...$,type:B,stage:"PLAYING",message:"PLACE YOUR BETS"}))}else if(B===D.THREE_CARD){const U=S[0];if(U!==1&&U!==2&&U!==3)return;const F=U===3?32:U===2?24:16;if(S.length<F)return;const L=S[1],$=Number(w.getBigUint64(8,!1)),X=U>=2?Number(w.getBigUint64(16,!1)):0,Z=U===3?Number(w.getBigUint64(24,!1)):0,K=[S[2],S[3],S[4]],J=[S[5],S[6],S[7]],se=L===0?[]:K.map(Rt),ye=L===0?[]:J.map(ve=>({...Rt(ve),isHidden:L!==3})),Ce=L===0?"BETTING":L===3?"RESULT":"PLAYING";let me="PLACE BETS & DEAL";L===0?me="PAIRPLUS (P), 6-CARD (6), PROG (J), DEAL":L===1?me="PLAY (P) OR FOLD (F)":L===2?me="REVEAL (SPACE)":L===3&&(me="GAME COMPLETE"),o(ve=>{const Le={...ve,type:B,playerCards:se,dealerCards:ye,threeCardPairPlusBet:$,threeCardSixCardBonusBet:X,threeCardProgressiveBet:Z,stage:Ce,message:me};return _e.current=Le,Le})}else if(B===D.ULTIMATE_HOLDEM){const U=S[0];if(U!==1&&U!==2&&U!==3)return;const F=U===3?40:U===2?32:20;if(S.length<F)return;const L=S[1],$=[S[2],S[3]],X=[S[4],S[5],S[6],S[7],S[8]],Z=[S[9],S[10]],K=S[11],J=U>=2?[S[12],S[13],S[14],S[15]]:[255,255,255,255],se=Number(w.getBigUint64(U===1?12:16,!1)),ye=U>=2?Number(w.getBigUint64(24,!1)):0,Ce=U===3?Number(w.getBigUint64(32,!1)):0,me=$[0]===255?[]:$.map(Rt),ve=[];for(const at of X)at!==255&&ve.push(Rt(at));const Le=L===5,Ie=L===0||me.length===0?[]:Z.map(at=>({...Rt(at),isHidden:!Le})),Ae=L===5,we=U>=2&&(ye>0||J.some(at=>at!==255))?J.map(at=>({...Rt(at),isHidden:!Ae})):[],gt=L===0?"BETTING":L===5?"RESULT":"PLAYING";let tt="PLACE BETS & DEAL";L===0?tt="TRIPS (T), 6-CARD (6), PROG (J), DEAL":L===1?tt="CHECK (C) OR BET 3X/4X":L===2?tt="CHECK (C) OR BET 2X":L===3?tt=K>0?"REVEAL (SPACE)":"FOLD (F) OR BET 1X":L===4?tt="REVEAL (SPACE)":L===5&&(tt="GAME COMPLETE"),o(at=>{const Aa={...at,type:B,playerCards:me,dealerCards:Ie,communityCards:ve,uthTripsBet:se,uthSixCardBonusBet:ye,uthProgressiveBet:Ce,uthBonusCards:we,stage:gt,message:tt};return _e.current=Aa,Aa})}}catch{}},Rt=S=>{if(S===255)return{rank:"A",suit:"",value:0,isHidden:!0};if(S==null||isNaN(S)||S<0||S>51)return{rank:"2",suit:"",value:2,isHidden:!1};const k=["","","",""],j=["A","2","3","4","5","6","7","8","9","10","J","Q","K"],w=k[Math.floor(S/13)],B=S%13,U=j[B];let F;return B===0?F=11:B<=8?F=B+1:F=10,{suit:w,rank:U,value:F,isHidden:!1}},Ht=R.useRef(null);if(Ht.current===null){const S=localStorage.getItem("casino_public_key_hex")??localStorage.getItem("casino_private_key");S?Ht.current=localStorage.getItem(`casino_registered_${S}`)==="true":Ht.current=!1}const ra=async S=>{var j;re.current=!1,Me.current=0,et.current=null,ka.current=null,aa.current&&aa.current.type!==S&&(aa.current=null);const k=[D.BACCARAT,D.CRAPS,D.ROULETTE,D.SIC_BO].includes(S);if(o(w=>({...w,type:S,message:"STARTING GAME...",bet:w.bet,stage:"BETTING",playerCards:[],dealerCards:[],communityCards:[],dice:[],crapsPoint:null,crapsEpochPointEstablished:!1,crapsBets:S===D.CRAPS?w.crapsBets:[],crapsUndoStack:S===D.CRAPS?w.crapsUndoStack:[],crapsInputMode:"NONE",crapsRollHistory:S===D.CRAPS?w.crapsRollHistory:[],crapsLastRoundBets:w.crapsLastRoundBets,rouletteBets:S===D.ROULETTE?w.rouletteBets:[],rouletteUndoStack:S===D.ROULETTE?w.rouletteUndoStack:[],rouletteLastRoundBets:w.rouletteLastRoundBets,rouletteHistory:w.rouletteHistory,rouletteInputMode:"NONE",rouletteZeroRule:w.rouletteZeroRule,rouletteIsPrison:!1,sicBoBets:S===D.SIC_BO?w.sicBoBets:[],sicBoHistory:w.sicBoHistory,sicBoInputMode:"NONE",sicBoUndoStack:S===D.SIC_BO?w.sicBoUndoStack:[],sicBoLastRoundBets:w.sicBoLastRoundBets,baccaratBets:S===D.BACCARAT?w.baccaratBets:[],baccaratUndoStack:S===D.BACCARAT?w.baccaratUndoStack:[],baccaratLastRoundBets:w.baccaratLastRoundBets,lastResult:0,activeModifiers:{shield:!1,double:!1,super:!1},baccaratSelection:w.baccaratSelection,insuranceBet:0,blackjackStack:[],completedHands:[],blackjack21Plus3Bet:0,threeCardPairPlusBet:0,threeCardSixCardBonusBet:0,threeCardProgressiveBet:0,threeCardProgressiveJackpot:w.threeCardProgressiveJackpot,uthTripsBet:0,uthSixCardBonusBet:0,uthProgressiveBet:0,uthProgressiveJackpot:w.uthProgressiveJackpot,uthBonusCards:[],casinoWarTieBet:0,hiloAccumulator:0,hiloGraphData:[],sessionWager:k&&w.type===S?w.sessionWager:0,sessionInterimPayout:0,superMode:null})),p(null),He&&ue)try{if(!await Bl()){Fa(),o(K=>({...K,stage:"BETTING",message:"CHAIN OFFLINE  START nullspace-simulator + dev-executor"}));return}let B=!1;try{if(Mt.current){if(pt.current){const K=await Mt.current.getCasinoPlayer(pt.current);if(K){B=!0,Ht.current=!0;const J=localStorage.getItem("casino_public_key_hex")??localStorage.getItem("casino_private_key");J&&localStorage.setItem(`casino_registered_${J}`,"true"),E(!0);const ye=Date.now()-fa.current>Ma;i(Ce=>({...Ce,chips:ye?K.chips:Ce.chips,shields:K.shields,doubles:K.doubles,auraMeter:K.auraMeter??Ce.auraMeter??0}))}else{Ht.current=!1;const J=localStorage.getItem("casino_public_key_hex")??localStorage.getItem("casino_private_key");J&&localStorage.removeItem(`casino_registered_${J}`)}}}}catch{Ht.current=!1}if(!B){const K=`Player_${Date.now().toString(36)}`;await ue.register(K),Ht.current=!0;const J=localStorage.getItem("casino_public_key_hex")??localStorage.getItem("casino_private_key");J&&localStorage.setItem(`casino_registered_${J}`,"true");const se=10;for(let ye=0;ye<se;ye++){await new Promise(Ce=>setTimeout(Ce,500));try{const Ce=await((j=Mt.current)==null?void 0:j.getCasinoPlayer(pt.current));if(Ce){const ve=Date.now()-fa.current>Ma;i(Le=>({...Le,chips:ve?Ce.chips:Le.chips,shields:Ce.shields,doubles:Ce.doubles,auraMeter:Ce.auraMeter??Le.auraMeter??0}));break}}catch{}}}const U=Ug[S],F=ue.generateNextSessionId();pe.current=F,Nt.current=S,It(F),zt.current.set(F,jl.current);const L=aa.current;L&&L.type===S&&(ka.current={...L,sessionId:F},aa.current=null);const $=[D.BACCARAT,D.CRAPS,D.ROULETTE,D.SIC_BO].includes(S),X=$?0n:BigInt(c.bet),Z=await ue.startGameWithSessionId(U,X,F);Z.txHash&&Re(Z.txHash),o(K=>({...K,message:"WAITING FOR CHAIN...",sessionWager:$?K.sessionWager:S===D.ULTIMATE_HOLDEM?Number(X)*2:Number(X)})),sl("START GAME",F)}catch{Fa(),pe.current&&zt.current.delete(pe.current),pe.current=null,Nt.current=D.NONE,It(null),ka.current=null,aa.current=null,o(B=>({...B,stage:"BETTING",message:"TRANSACTION FAILED - TRY AGAIN"}))}else o(w=>({...w,message:"PLACE BETS & DEAL",stage:"BETTING"}))},Ar=S=>{if(He&&!!pe.current&&[D.BLACKJACK,D.THREE_CARD,D.ULTIMATE_HOLDEM].includes(c.type)){o(w=>({...w,message:"BET LOCKED (START NEW GAME)"}));return}const j=[D.BACCARAT,D.CRAPS,D.ROULETTE,D.SIC_BO].includes(c.type);if(!(c.stage==="PLAYING"&&!j)){if(r.chips<S){o(w=>({...w,message:"INSUFFICIENT FUNDS"}));return}o(w=>({...w,bet:S,message:`BET SIZE: ${S}`}))}},Cr=async()=>{const S=[D.CRAPS,D.ROULETTE,D.SIC_BO].includes(c.type);if(c.stage==="PLAYING"&&!S)return;if(x<60&&y==="ACTIVE"){o(j=>({...j,message:"LOCKED (FINAL MINUTE)"}));return}if(r.shields<=0&&!c.activeModifiers.shield){o(j=>({...j,message:"NO SHIELDS REMAINING"}));return}const k=!c.activeModifiers.shield;if(o(j=>({...j,activeModifiers:{...j.activeModifiers,shield:k}})),He&&ue)try{const j=await ue.toggleShield();j.txHash&&Re(j.txHash)}catch{o(w=>({...w,activeModifiers:{...w.activeModifiers,shield:!k}}))}},oc=async()=>{const S=[D.CRAPS,D.ROULETTE,D.SIC_BO].includes(c.type);if(c.stage==="PLAYING"&&!S)return;if(x<60&&y==="ACTIVE"){o(j=>({...j,message:"LOCKED (FINAL MINUTE)"}));return}if(r.doubles<=0&&!c.activeModifiers.double){o(j=>({...j,message:"NO DOUBLES REMAINING"}));return}const k=!c.activeModifiers.double;if(o(j=>({...j,activeModifiers:{...j.activeModifiers,double:k}})),He&&ue)try{const j=await ue.toggleDouble();j.txHash&&Re(j.txHash)}catch{o(w=>({...w,activeModifiers:{...w.activeModifiers,double:!k}}))}},_s=async()=>{if(x<60&&y==="ACTIVE"){o(j=>({...j,message:"LOCKED (FINAL MINUTE)"}));return}const S=!!c.activeModifiers.super,k=!S;if(o(j=>({...j,activeModifiers:{...j.activeModifiers,super:k}})),He&&ue)try{const j=await ue.toggleSuper();j.txHash&&Re(j.txHash)}catch{o(w=>({...w,activeModifiers:{...w.activeModifiers,super:S}}))}},sa=async()=>{if(c.type===D.NONE)return;if(He&&na.current){const w=pe.current;if(!w||ka.current)return;const B=()=>{const F=c.crapsBets.filter($=>$.local===!0);if(F.length>0)return{type:D.CRAPS,crapsBets:F};const L=c.crapsLastRoundBets.filter($=>$.type!=="COME"&&$.type!=="DONT_COME").map($=>({...$,oddsAmount:void 0,progressMask:void 0,status:"ON",local:!0}));return L.length===0?null:{type:D.CRAPS,crapsBets:L}};let U=null;if(c.type===D.BACCARAT)U={type:D.BACCARAT,baccaratSelection:c.baccaratSelection,baccaratSideBets:c.baccaratBets,mainBetAmount:c.bet};else if(c.type===D.ROULETTE){if(!c.rouletteIsPrison){const F=c.rouletteBets.length>0?c.rouletteBets:c.rouletteLastRoundBets;F.length>0&&(U={type:D.ROULETTE,rouletteBets:F,rouletteZeroRule:c.rouletteZeroRule})}}else if(c.type===D.SIC_BO){const F=c.sicBoBets.length>0?c.sicBoBets:c.sicBoLastRoundBets;F.length>0&&(U={type:D.SIC_BO,sicBoBets:F})}else c.type===D.CRAPS&&(U=B());U&&(ka.current={...U,sessionId:w});return}if(c.type===D.CRAPS){hn();return}if(c.type===D.ROULETTE){Us();return}if(c.type===D.SIC_BO){Ps();return}if(He&&ue&&pe.current){const w=pe.current;if(c.type===D.BACCARAT&&c.stage==="PLAYING"&&c.playerCards.length===0){if(re.current)return;re.current=!0;try{const B=kp(c.baccaratSelection,c.baccaratBets,c.bet);Me.current=1,o(L=>({...L,baccaratLastRoundBets:c.baccaratBets,baccaratUndoStack:[],sessionWager:B.reduce(($,X)=>$+X.amount,0),message:"DEALING..."}));const U=Mp(B),F=await ue.sendMove(w,U);F.txHash&&Re(F.txHash);return}catch{o(U=>({...U,message:"DEAL FAILED"})),re.current=!1,Me.current=0;return}}if(c.type===D.CASINO_WAR&&(c.stage==="BETTING"||c.stage==="PLAYING"&&c.message==="DEALT")){if(re.current)return;re.current=!0;try{const B=new Uint8Array([0]),U=await ue.sendMove(w,B);U.txHash&&Re(U.txHash),o(F=>({...F,message:"DEALING..."}));return}catch{o(U=>({...U,message:"DEAL FAILED"})),re.current=!1;return}}if(c.type===D.BLACKJACK){if(re.current)return;if(c.stage==="BETTING"){re.current=!0;try{o(U=>({...U,message:"DEALING..."}));const B=await ue.sendMove(w,new Uint8Array([4]));B.txHash&&Re(B.txHash);return}catch{o(U=>({...U,message:"DEAL FAILED"})),re.current=!1;return}}if(c.message.includes("REVEAL")){re.current=!0;try{o(U=>({...U,message:"REVEALING..."}));const B=await ue.sendMove(w,new Uint8Array([6]));B.txHash&&Re(B.txHash);return}catch{o(U=>({...U,message:"REVEAL FAILED"})),re.current=!1;return}}}if(c.type===D.THREE_CARD){if(re.current)return;if(c.stage==="BETTING"){re.current=!0;try{o(Z=>({...Z,message:"DEALING..."}));const B=c.threeCardPairPlusBet||0,U=c.threeCardSixCardBonusBet||0,F=c.threeCardProgressiveBet||0,L=new Uint8Array(25);L[0]=7,new DataView(L.buffer).setBigUint64(1,BigInt(B),!1),new DataView(L.buffer).setBigUint64(9,BigInt(U),!1),new DataView(L.buffer).setBigUint64(17,BigInt(F),!1);const $=B+U+F;o(Z=>({...Z,sessionWager:Z.sessionWager+$}));const X=await ue.sendMove(w,L);X.txHash&&Re(X.txHash);return}catch{o(U=>({...U,message:"DEAL FAILED"})),re.current=!1;return}}if(c.message.includes("REVEAL")){re.current=!0;try{o(U=>({...U,message:"REVEALING..."}));const B=await ue.sendMove(w,new Uint8Array([4]));B.txHash&&Re(B.txHash);return}catch{o(U=>({...U,message:"REVEAL FAILED"})),re.current=!1;return}}}if(c.type===D.ULTIMATE_HOLDEM){if(re.current)return;if(c.stage==="BETTING"){re.current=!0;try{o(K=>({...K,message:"DEALING..."}));const B=c.uthTripsBet||0,U=c.uthSixCardBonusBet||0,F=c.uthProgressiveBet||0,L=new Uint8Array(25);L[0]=11;const $=new DataView(L.buffer);$.setBigUint64(1,BigInt(B),!1),$.setBigUint64(9,BigInt(U),!1),$.setBigUint64(17,BigInt(F),!1);const X=B+U+F;o(K=>({...K,sessionWager:X}));const Z=await ue.sendMove(w,L);Z.txHash&&Re(Z.txHash);return}catch{o(U=>({...U,message:"DEAL FAILED"})),re.current=!1;return}}if(c.message.includes("REVEAL")){re.current=!0;try{o(U=>({...U,message:"REVEALING..."}));const B=await ue.sendMove(w,new Uint8Array([7]));B.txHash&&Re(B.txHash);return}catch{o(U=>({...U,message:"REVEAL FAILED"})),re.current=!1;return}}}}if(c.stage==="PLAYING")return;if(r.chips<c.bet){o(w=>({...w,message:"INSUFFICIENT FUNDS"}));return}if(He&&ue&&!pe.current){c.type===D.BACCARAT&&(aa.current={type:D.BACCARAT,baccaratSelection:c.baccaratSelection,baccaratSideBets:c.baccaratBets,mainBetAmount:c.bet}),ra(c.type);return}if(He&&ue&&pe.current){try{const w=Mt.current,B=pe.current;if(w&&B!==null){const U=await w.getCasinoSession(B);if(!U||U.isComplete){pe.current=null,It(null),re.current=!1,await ra(c.type);return}const F=Xi[U.gameType]??Nt.current;Nt.current=F,Zt(U.stateBlob,F),re.current=!1;return}}catch{}o(w=>({...w,message:"WAITING FOR DEAL..."}));return}let S=r.shields,k=r.doubles;if(c.activeModifiers.shield&&S--,c.activeModifiers.double&&k--,i(w=>({...w,shields:S,doubles:k})),!He){o(w=>({...w,message:"OFFLINE - START BACKEND"}));return}const j=xg();if(f(j),c.type===D.BLACKJACK)fn(j);else if(c.type===D.HILO)o(w=>({...w,stage:"PLAYING",playerCards:[j.pop()],hiloAccumulator:c.bet,hiloGraphData:[c.bet],message:`HIGHER (H) / LOWER (L)? POT: ${c.bet}`}));else if(c.type===D.VIDEO_POKER)o(w=>({...w,stage:"PLAYING",playerCards:[j.pop(),j.pop(),j.pop(),j.pop(),j.pop()],message:"HOLD (1-5), DRAW (D)"}));else if(c.type===D.BACCARAT)o(w=>({...w,message:"OFFLINE - START BACKEND"}));else if(c.type===D.CASINO_WAR){const w=j.pop(),B=j.pop();let U=w.value>B.value?c.bet:w.value<B.value?-c.bet:0;const F=`${w.rank} vs ${B.rank}. ${U>=0?"+":"-"}$${Math.abs(U)}`,L=[U>0?`WIN (+$${U})`:U<0?`LOSS (-$${Math.abs(U)})`:"TIE"];i($=>({...$,chips:$.chips+U,history:[...$.history,F,...L],pnlByGame:{...$.pnlByGame,[D.CASINO_WAR]:($.pnlByGame[D.CASINO_WAR]||0)+U},pnlHistory:[...$.pnlHistory,($.pnlHistory[$.pnlHistory.length-1]||0)+U].slice(-Jt)})),o($=>({...$,stage:"RESULT",playerCards:[w],dealerCards:[B]})),o($=>({...$,message:U>0?"WIN":U<0?"LOSE":"TIE",lastResult:U}))}else if(c.type===D.THREE_CARD){const w=j.pop(),B=j.pop(),U=j.pop(),F={...j.pop(),isHidden:!0},L={...j.pop(),isHidden:!0},$={...j.pop(),isHidden:!0};o(X=>({...X,stage:"PLAYING",playerCards:[w,B,U],dealerCards:[F,L,$],message:"PLAY (P) OR FOLD (F)"}))}else if(c.type===D.ULTIMATE_HOLDEM){const w=j.pop(),B=j.pop(),U={...j.pop(),isHidden:!0},F={...j.pop(),isHidden:!0};o(L=>({...L,stage:"PLAYING",playerCards:[w,B],dealerCards:[U,F],communityCards:[],message:"CHECK (C) OR BET 4X/3X"}))}else o(w=>({...w,message:"GAME LOADING..."}))},Ds=S=>{if(c.type!==D.VIDEO_POKER)return;const k=[...c.playerCards];k[S]={...k[S],isHeld:!k[S].isHeld},o(j=>({...j,playerCards:k}))},dc=async()=>{let S=0;if(c.playerCards.forEach((L,$)=>{L.isHeld&&(S|=1<<$)}),He&&ue&&pe.current)try{const L=new Uint8Array([S]),$=await ue.sendMove(pe.current,L);$.txHash&&Re($.txHash),o(X=>({...X,message:"DRAWING..."}));return}catch{o($=>({...$,message:"DRAW FAILED"}));return}const k=c.playerCards.map((L,$)=>L.isHeld?{...L,isHeld:!1}:m.pop()||L),{rank:j,multiplier:w}=Ro(k),B=c.bet*w-c.bet,U=`${j}. ${B>=0?"+":"-"}$${Math.abs(B)}`,F=[B>0?`WIN (+$${B})`:`LOSS (-$${Math.abs(B)})`];i(L=>({...L,chips:L.chips+B,history:[...L.history,U,...F],pnlByGame:{...L.pnlByGame,[D.VIDEO_POKER]:(L.pnlByGame[D.VIDEO_POKER]||0)+B},pnlHistory:[...L.pnlHistory,(L.pnlHistory[L.pnlHistory.length-1]||0)+B].slice(-Jt)})),o(L=>({...L,playerCards:k,stage:"RESULT",lastResult:B})),o(L=>({...L,message:w>0?`${j}!`:"LOST"}))},Un=async S=>{if(re.current)return;if(He&&ue&&pe.current)try{re.current=!0;const $=S==="HIGHER"?0:S==="LOWER"?1:3,X=new Uint8Array([$]),Z=await ue.sendMove(pe.current,X);Z.txHash&&Re(Z.txHash),o(K=>({...K,message:`GUESSING ${S}...`}));return}catch{o(X=>({...X,message:"MOVE FAILED"})),re.current=!1;return}const k=m.pop(),j=c.playerCards[c.playerCards.length-1],w=So(j),B=So(k),U=`Guess ${S}: ${k.rank}${k.suit}.`;if((S==="HIGHER"||S==="LOWER")&&B===w){o($=>({...$,playerCards:[...$.playerCards,k],message:"PUSH - Same rank! POT unchanged."}));return}let L;if(S==="SAME"?L=B===w:S==="HIGHER"?L=B>w:L=B<w,L){const $=Math.floor(c.hiloAccumulator*1.5);o(X=>({...X,playerCards:[...X.playerCards,k],hiloAccumulator:$,hiloGraphData:[...X.hiloGraphData,$].slice(-Jt),message:`CORRECT! POT: ${$}`}))}else{const $=-c.bet,X=`${U} -$${c.bet}`,Z=[`LOSS (-$${c.bet})`];i(K=>({...K,chips:K.chips+$,history:[...K.history,X,...Z],pnlByGame:{...K.pnlByGame,[D.HILO]:(K.pnlByGame[D.HILO]||0)+$},pnlHistory:[...K.pnlHistory,(K.pnlHistory[K.pnlHistory.length-1]||0)+$].slice(-Jt)})),o(K=>({...K,playerCards:[...K.playerCards,k],hiloGraphData:[...K.hiloGraphData,0].slice(-Jt),stage:"RESULT"})),o(K=>({...K,message:"WRONG",lastResult:$}))}},Is=async()=>{if(re.current)return;if(He&&ue&&pe.current)try{re.current=!0;const w=await ue.sendMove(pe.current,new Uint8Array([2]));w.txHash&&Re(w.txHash),o(B=>({...B,message:"CASHING OUT..."}));return}catch{o(B=>({...B,message:"MOVE FAILED"})),re.current=!1;return}const S=c.hiloAccumulator-c.bet,k=`CASHED OUT. +$${S}`,j=[`WIN (+$${S})`];i(w=>({...w,chips:w.chips+S,history:[...w.history,k,...j],pnlByGame:{...w.pnlByGame,[D.HILO]:(w.pnlByGame[D.HILO]||0)+S},pnlHistory:[...w.pnlHistory,(w.pnlHistory[w.pnlHistory.length-1]||0)+S].slice(-Jt)})),o(w=>({...w,message:"CASHED OUT",lastResult:S}))},Hn=(S,k)=>{if(c.rouletteIsPrison){o(w=>({...w,message:"EN PRISON - NO NEW BETS"}));return}if(c.rouletteBets.some(w=>w.type===S&&w.target===k)){const w=c.rouletteBets.filter(U=>!(U.type===S&&U.target===k)),B=c.rouletteBets.reduce((U,F)=>F.type===S&&F.target===k?U+F.amount:U,0);o(U=>({...U,rouletteBets:w,message:`REMOVED ${S}`,rouletteInputMode:"NONE",sessionWager:Math.max(0,U.sessionWager-B)}));return}r.chips<c.bet||o(w=>({...w,rouletteUndoStack:[...w.rouletteUndoStack,w.rouletteBets],rouletteBets:[...w.rouletteBets,{type:S,amount:w.bet,target:k}],message:`BET ${S}`,rouletteInputMode:"NONE",sessionWager:w.sessionWager+w.bet}))},fc=async()=>{if(c.type!==D.ROULETTE)return;const S=c.rouletteZeroRule==="STANDARD"?"LA_PARTAGE":c.rouletteZeroRule==="LA_PARTAGE"?"EN_PRISON":c.rouletteZeroRule==="EN_PRISON"?"EN_PRISON_DOUBLE":"STANDARD";if(o(k=>({...k,rouletteZeroRule:S,message:`ZERO RULE: ${S.split("_").join(" ")}`})),He&&ue&&pe.current&&!c.rouletteIsPrison){if(re.current)return;re.current=!0;try{const k=S==="LA_PARTAGE"?1:S==="EN_PRISON"?2:S==="EN_PRISON_DOUBLE"?3:0,j=new Uint8Array([3,k]),w=await ue.sendMove(pe.current,j);w.txHash&&Re(w.txHash)}catch{re.current=!1,o(j=>({...j,message:"RULE UPDATE FAILED"}))}}},ia=()=>{c.rouletteUndoStack.length!==0&&o(S=>({...S,rouletteBets:S.rouletteUndoStack[S.rouletteUndoStack.length-1],rouletteUndoStack:S.rouletteUndoStack.slice(0,-1)}))},Sr=()=>{const S=c.rouletteLastRoundBets.reduce((k,j)=>k+j.amount,0);c.rouletteLastRoundBets.length===0||r.chips<S||o(k=>({...k,rouletteUndoStack:[...k.rouletteUndoStack,k.rouletteBets],rouletteBets:[...k.rouletteBets,...k.rouletteLastRoundBets],sessionWager:k.sessionWager+S,message:"REBET PLACED"}))},Us=async()=>{const S=!c.rouletteIsPrison&&c.rouletteBets.length===0&&c.rouletteLastRoundBets.length>0,k=S?c.rouletteLastRoundBets:c.rouletteBets;if(!c.rouletteIsPrison&&k.length===0){o(j=>({...j,message:"PLACE BET"}));return}if(S){const j=c.rouletteLastRoundBets.reduce((w,B)=>w+B.amount,0);if(r.chips<j){o(w=>({...w,message:"INSUFFICIENT FUNDS"}));return}o(w=>({...w,rouletteUndoStack:[...w.rouletteUndoStack,w.rouletteBets],rouletteBets:[...c.rouletteLastRoundBets],sessionWager:w.sessionWager+j,message:"REBET PLACED"}))}if(!re.current){if(He&&ue&&!pe.current){if(c.rouletteIsPrison){o(j=>({...j,message:"PRISON - WAIT FOR SESSION"}));return}aa.current={type:D.ROULETTE,rouletteBets:k,rouletteZeroRule:c.rouletteZeroRule},o(j=>({...j,message:"STARTING NEW SESSION..."})),ra(D.ROULETTE);return}if(He&&ue&&pe.current)try{if(re.current=!0,c.rouletteIsPrison){Me.current=1,o(F=>({...F,message:"SPINNING ON CHAIN..."}));const B=new Uint8Array([1]),U=await ue.sendMove(pe.current,B);U.txHash&&Re(U.txHash);return}Me.current=1,o(B=>({...B,message:"SPINNING ON CHAIN..."}));const j=_p(k),w=await ue.sendMove(pe.current,j);w.txHash&&Re(w.txHash),o(B=>({...B,rouletteLastRoundBets:B.rouletteBets,rouletteBets:[],rouletteUndoStack:[]}));return}catch{re.current=!1,Me.current=0,o(w=>({...w,message:"SPIN FAILED - TRY AGAIN"}));return}He||o(j=>({...j,message:"OFFLINE - START BACKEND"}))}},Rr=(S,k)=>{if(c.sicBoBets.some(w=>w.type===S&&w.target===k)){const w=c.sicBoBets.filter(U=>!(U.type===S&&U.target===k)),B=c.sicBoBets.reduce((U,F)=>F.type===S&&F.target===k?U+F.amount:U,0);o(U=>({...U,sicBoBets:w,sessionWager:Math.max(0,U.sessionWager-B),message:`REMOVED ${S}`,sicBoInputMode:"NONE"}));return}r.chips<c.bet||o(w=>({...w,sicBoUndoStack:[...w.sicBoUndoStack,w.sicBoBets],sicBoBets:[...w.sicBoBets,{type:S,amount:w.bet,target:k}],message:`BET ${S}`,sicBoInputMode:"NONE",sessionWager:w.sessionWager+w.bet}))},Ol=()=>{c.sicBoUndoStack.length!==0&&o(S=>({...S,sicBoBets:S.sicBoUndoStack[S.sicBoUndoStack.length-1],sicBoUndoStack:S.sicBoUndoStack.slice(0,-1)}))},Hs=()=>{const S=c.sicBoLastRoundBets.reduce((k,j)=>k+j.amount,0);c.sicBoLastRoundBets.length===0||r.chips<S||o(k=>({...k,sicBoUndoStack:[...k.sicBoUndoStack,k.sicBoBets],sicBoBets:[...k.sicBoBets,...k.sicBoLastRoundBets],sessionWager:k.sessionWager+S,message:"REBET"}))},Ps=async()=>{const S=c.sicBoBets.length===0&&c.sicBoLastRoundBets.length>0,k=S?c.sicBoLastRoundBets:c.sicBoBets;if(k.length===0){o(j=>({...j,message:"PLACE BET"}));return}if(S){const j=c.sicBoLastRoundBets.reduce((w,B)=>w+B.amount,0);if(r.chips<j){o(w=>({...w,message:"INSUFFICIENT FUNDS"}));return}o(w=>({...w,sicBoUndoStack:[...w.sicBoUndoStack,w.sicBoBets],sicBoBets:[...c.sicBoLastRoundBets],sessionWager:w.sessionWager+j,message:"REBET"}))}if(!re.current){if(He&&ue&&!pe.current){aa.current={type:D.SIC_BO,sicBoBets:k},o(j=>({...j,message:"STARTING NEW SESSION..."})),ra(D.SIC_BO);return}if(He&&ue&&pe.current)try{re.current=!0,Me.current=1,o(B=>({...B,message:"ROLLING..."}));const j=Dp(k),w=await ue.sendMove(pe.current,j);w.txHash&&Re(w.txHash),o(B=>({...B,sicBoLastRoundBets:k,sicBoBets:[],sicBoUndoStack:[]}));return}catch{re.current=!1,Me.current=0,o(w=>({...w,message:"MOVE FAILED"}));return}He||o(j=>({...j,message:"OFFLINE - START BACKEND"}))}},Ll={toggleSelection:Dn,placeBet:Ta,undo:St,rebet:Ut},hc=async()=>{if(c.type!==D.CASINO_WAR)return;if(c.stage!=="BETTING"){o(w=>({...w,message:"TIE BET CLOSED"}));return}const S=c.casinoWarTieBet||0,k=S>0?0:c.bet,j=k-S;if(!re.current){if(j>0&&r.chips<j){o(w=>({...w,message:"INSUFFICIENT FUNDS"}));return}if(re.current=!0,o(w=>({...w,casinoWarTieBet:k,sessionWager:w.sessionWager+j,message:k>0?`TIE BET +$${k}`:"TIE BET OFF"})),He&&ue&&pe.current)try{const w=new Uint8Array(9);w[0]=3,new DataView(w.buffer).setBigUint64(1,BigInt(k),!1);const B=await ue.sendMove(pe.current,w);B.txHash&&Re(B.txHash);return}catch{re.current=!1,o(B=>({...B,casinoWarTieBet:S,sessionWager:B.sessionWager-j,message:"TIE BET FAILED"}));return}re.current=!1}},$s=async()=>{if(!(c.type!==D.CASINO_WAR||c.stage!=="PLAYING"||!c.message.includes("WAR"))){if(He&&ue&&pe.current){if(re.current)return;re.current=!0;try{const S=new Uint8Array([1]),k=await ue.sendMove(pe.current,S);k.txHash&&Re(k.txHash),o(j=>({...j,message:"GOING TO WAR..."}));return}catch{o(k=>({...k,message:"MOVE FAILED"})),re.current=!1;return}}o(S=>({...S,message:"WAR NOT SUPPORTED IN LOCAL MODE"}))}},Gs=async()=>{if(!(c.type!==D.CASINO_WAR||c.stage!=="PLAYING"||!c.message.includes("WAR"))){if(He&&ue&&pe.current){if(re.current)return;re.current=!0;try{const S=new Uint8Array([2]),k=await ue.sendMove(pe.current,S);k.txHash&&Re(k.txHash),o(j=>({...j,message:"SURRENDERING..."}));return}catch{o(k=>({...k,message:"MOVE FAILED"})),re.current=!1;return}}o(S=>({...S,stage:"RESULT",message:"SURRENDERED",lastResult:-Math.floor(c.bet/2)}))}},wr=async()=>{if(c.type!==D.ULTIMATE_HOLDEM)return;const k=(c.uthTripsBet||0)>0?0:c.bet;if(He&&ue&&pe.current){if(c.stage!=="BETTING"){o(j=>({...j,message:"TRIPS CLOSED"}));return}o(j=>({...j,uthTripsBet:k,message:k>0?`TRIPS +$${k}`:"TRIPS OFF"}));return}o(j=>({...j,uthTripsBet:k,message:k>0?`TRIPS +$${k}`:"TRIPS OFF"}))},pc=async()=>{if(c.type!==D.ULTIMATE_HOLDEM)return;const k=(c.uthSixCardBonusBet||0)>0?0:c.bet;if(He&&ue&&pe.current){if(c.stage!=="BETTING"){o(j=>({...j,message:"6-CARD CLOSED"}));return}o(j=>({...j,uthSixCardBonusBet:k,message:k>0?`6-CARD +$${k}`:"6-CARD OFF"}));return}o(j=>({...j,uthSixCardBonusBet:k,message:k>0?`6-CARD +$${k}`:"6-CARD OFF"}))},mc=async()=>{if(c.type!==D.ULTIMATE_HOLDEM)return;const k=(c.uthProgressiveBet||0)>0?0:1;if(He&&ue&&pe.current){if(c.stage!=="BETTING"){o(j=>({...j,message:"PROG CLOSED"}));return}o(j=>({...j,uthProgressiveBet:k,message:k>0?`PROG +$${k}`:"PROG OFF"}));return}o(j=>({...j,uthProgressiveBet:k,message:k>0?`PROG +$${k}`:"PROG OFF"}))},Pn=async()=>{if(c.type!==D.ULTIMATE_HOLDEM||c.stage!=="PLAYING")return;if(He&&ue&&pe.current){if(re.current)return;re.current=!0;try{const k=new Uint8Array([0]),j=await ue.sendMove(pe.current,k);j.txHash&&Re(j.txHash),o(w=>({...w,message:"CHECKING..."}));return}catch{o(j=>({...j,message:"MOVE FAILED"})),re.current=!1;return}}const S=c.communityCards.length;if(S===0){const k=m.pop(),j=m.pop(),w=m.pop();o(B=>({...B,communityCards:[k,j,w],message:"CHECK (C) OR BET 2X"}))}else if(S===3){const k=m.pop(),j=m.pop();o(w=>({...w,communityCards:[...w.communityCards,k,j],message:"FOLD (F) OR BET 1X"}))}},Br=async S=>{if(c.type!==D.ULTIMATE_HOLDEM||c.stage!=="PLAYING")return;if(He&&ue&&pe.current){if(re.current)return;re.current=!0;try{let K;if(S===4)K=new Uint8Array([1]);else if(S===3)K=new Uint8Array([8]);else if(S===2)K=new Uint8Array([2]);else if(S===1)K=new Uint8Array([3]);else{o(ye=>({...ye,message:"INVALID BET"}));return}const J=await ue.sendMove(pe.current,K);J.txHash&&Re(J.txHash);const se=c.bet*S;o(ye=>({...ye,message:`BETTING ${S}X...`,sessionWager:ye.sessionWager+se}));return}catch{o(J=>({...J,message:"MOVE FAILED"})),re.current=!1;return}}const k=c.bet*S;if(r.chips<k){o(K=>({...K,message:"INSUFFICIENT FUNDS"}));return}let j=[...c.communityCards];for(;j.length<5;)j.push(m.pop());const w=c.dealerCards.map(K=>({...K,isHidden:!1}));[...c.playerCards,...j],[...w,...j];const B=Ln(c.playerCards),U=Ln(w);let F=0,L="";const $=w[0].rank===w[1].rank||w.some(K=>j.some(J=>J.rank===K.rank)),X=[];$?B>U?(F=c.bet*(2+S),L="YOU WIN!",X.push(`Ante WIN (+$${c.bet})`),X.push(`Play WIN (+$${k})`),X.push("Blind PUSH (Simulated)")):B<U?(F=-(c.bet*(2+S)),L="DEALER WINS",X.push(`Ante LOSS (-$${c.bet})`),X.push(`Play LOSS (-$${k})`),X.push(`Blind LOSS (-$${c.bet})`)):(F=0,L="PUSH",X.push("Ante PUSH"),X.push("Play PUSH"),X.push("Blind PUSH")):(F=c.bet,L="DEALER DOESN'T QUALIFY",X.push(`Ante WIN (+$${c.bet})`),X.push("Play PUSH"),X.push("Blind PUSH"));const Z=`Player ${B} vs Dealer ${U}. ${F>=0?"+":"-"}$${Math.abs(F)}`;i(K=>({...K,chips:K.chips+F,history:[...K.history,Z,...X],pnlByGame:{...K.pnlByGame,[D.ULTIMATE_HOLDEM]:(K.pnlByGame[D.ULTIMATE_HOLDEM]||0)+F},pnlHistory:[...K.pnlHistory,(K.pnlHistory[K.pnlHistory.length-1]||0)+F].slice(-Jt)})),o(K=>({...K,communityCards:j,dealerCards:w,stage:"RESULT"})),o(K=>({...K,message:L,lastResult:F}))},jr=async()=>{if(c.type!==D.ULTIMATE_HOLDEM||c.stage!=="PLAYING")return;if(He&&ue&&pe.current){if(re.current)return;re.current=!0;try{const B=new Uint8Array([4]),U=await ue.sendMove(pe.current,B);U.txHash&&Re(U.txHash),o(F=>({...F,message:"FOLDING..."}));return}catch{o(U=>({...U,message:"MOVE FAILED"})),re.current=!1;return}}const S=c.dealerCards.map(B=>({...B,isHidden:!1})),k=-c.bet*2,j=`FOLDED. -$${Math.abs(k)}`,w=[`Ante LOSS (-$${c.bet})`,`Blind LOSS (-$${c.bet})`];i(B=>({...B,chips:B.chips+k,history:[...B.history,j,...w],pnlByGame:{...B.pnlByGame,[D.ULTIMATE_HOLDEM]:(B.pnlByGame[D.ULTIMATE_HOLDEM]||0)+k},pnlHistory:[...B.pnlHistory,(B.pnlHistory[B.pnlHistory.length-1]||0)+k].slice(-Jt)})),o(B=>({...B,dealerCards:S,stage:"RESULT"})),o(B=>({...B,message:"FOLDED",lastResult:k}))},kl=async()=>{const S=Mt.current;if(!S||!S.nonceManager||!pt.current){o(k=>({...k,message:"CONNECT WALLET / START dev-executor"}));return}if(!vt){Lt(!0);try{if(!Ht.current){const k=`Player_${Date.now().toString(36)}`;await S.nonceManager.submitCasinoRegister(k),Ht.current=!0;const j=localStorage.getItem("casino_public_key_hex")??localStorage.getItem("casino_private_key");j&&localStorage.setItem(`casino_registered_${j}`,"true")}if(E(!0),l==="FREEROLL"){const k=Date.now(),j=go(k),w=j.isRegistration?j.tournamentId:j.tournamentId+1;let B=Ct??w;try{const L=await S.getCasinoTournament(B);L&&L.phase&&L.phase!=="Registration"&&(B+=1)}catch{}o(L=>({...L,message:`JOINING TOURNAMENT ${B}...`}));const U=await S.nonceManager.submitCasinoJoinTournament(B);U!=null&&U.txHash&&Re(U.txHash);let F=!1;for(let L=0;L<10;L++){await new Promise($=>setTimeout($,300));try{const $=await S.getCasinoPlayer(pt.current),X=($==null?void 0:$.activeTournament)!=null?Number($.activeTournament):null;if(We(X),X===B){F=!0,Ka(!0);break}}catch{}}o(L=>({...L,message:F?`JOINED TOURNAMENT ${B}`:`JOIN SUBMITTED (${B})`}))}else o(k=>({...k,message:"REGISTERED"}));setTimeout(async()=>{try{const k=await S.getCasinoPlayer(pt.current);if(k){const w=Date.now()-fa.current>Ma;i(B=>({...B,chips:w?k.chips:B.chips,shields:k.shields,doubles:k.doubles,auraMeter:k.auraMeter??B.auraMeter??0,history:[],pnlByGame:{},pnlHistory:[]}))}}catch{}},750)}catch{o(j=>({...j,message:"REGISTER/JOIN FAILED"}))}finally{Lt(!1)}}},Ml=async()=>{if(ot)return;const S=Mt.current;if(!(!S||!S.nonceManager)&&pt.current){W(!0);try{if(!Ht.current){const w=`Player_${Date.now().toString(36)}`;await S.nonceManager.submitCasinoRegister(w),Ht.current=!0,E(!0);const B=localStorage.getItem("casino_public_key_hex")??localStorage.getItem("casino_private_key");B&&localStorage.setItem(`casino_registered_${B}`,"true")}const j=await S.nonceManager.submitCasinoDeposit(1e3);j!=null&&j.txHash&&Re(j.txHash),o(w=>({...w,message:"FAUCET CLAIMED"})),setTimeout(async()=>{try{const w=await S.getCasinoPlayer(pt.current);w&&i(B=>({...B,chips:w.chips,shields:w.shields,doubles:w.doubles,auraMeter:w.auraMeter??B.auraMeter??0}))}catch{}},750)}catch{o(j=>({...j,message:"FAUCET FAILED"}))}finally{W(!1)}}},zs=async()=>{},Or=async()=>{const S=Mt.current;if(!(!S||!pt.current))try{const k=await S.getCasinoPlayer(pt.current),j=(k==null?void 0:k.activeTournament)??null,w=j==null?null:Number(j);if(w===null||!Number.isFinite(w)){o(L=>({...L,message:"NOT IN A TOURNAMENT"}));return}const B=await S.getCasinoTournament(w);if(!B){o(L=>({...L,message:`TOURNAMENT ${w} NOT FOUND`}));return}if(B.phase!=="Active"){o(L=>({...L,message:`TOURNAMENT ${w} NOT ACTIVE`}));return}const U=B.endTimeMs?Number(B.endTimeMs):0;N("ACTIVE"),H(w),ge(U>0?U:null);const F=U>0?Math.max(0,Math.ceil((U-Date.now())/1e3)):0;b(F),xe(F)}catch{o(j=>({...j,message:"ENTER TOURNAMENT FAILED"}))}},Ys=async()=>{p("Scanning...");const S=await Sg(c.type,c.playerCards,c.dealerCards[0],r.history);p(S)};return R.useEffect(()=>{Rl.current=ra},[ra]),{setGameState:o,deck:m,aiAdvice:v,tournamentTime:x,phase:y,leaderboard:A,isRegistered:h,walletRng:M,walletVusdt:le,walletPublicKeyHex:ie,lastTxSig:ll,botConfig:fe,setBotConfig:oe,isTournamentStarting:Je,isRegisteringOrJoining:vt,isFaucetClaiming:ot,freerollActiveTournamentId:Fe,freerollActiveTimeLeft:ne,freerollActivePrizePool:he,freerollActivePlayerCount:Ke,playerActiveTournamentId:kt,freerollNextTournamentId:Ct,freerollNextStartIn:Na,freerollIsJoinedNext:La,tournamentsPlayedToday:Va,startTournament:zs,actions:{startGame:ra,setBetAmount:Ar,toggleShield:Cr,toggleDouble:oc,toggleSuper:_s,deal:sa,bjHit:nl,bjStand:ce,bjDouble:Ve,bjSplit:ht,bjInsurance:rl,bjToggle21Plus3:wl,toggleHold:Ds,drawVideoPoker:dc,hiloPlay:Un,hiloCashout:Is,placeRouletteBet:Hn,cycleRouletteZeroRule:fc,undoRouletteBet:ia,rebetRoulette:Sr,placeSicBoBet:Rr,undoSicBoBet:Ol,rebetSicBo:Hs,placeCrapsBet:la,placeCrapsNumberBet:uc,undoCrapsBet:Nr,rebetCraps:cc,addCrapsOdds:Ls,baccaratActions:Ll,threeCardTogglePairPlus:Os,threeCardToggleSixCardBonus:da,threeCardToggleProgressive:_n,threeCardPlay:dn,threeCardFold:Sl,casinoWarToggleTieBet:hc,casinoWarGoToWar:$s,casinoWarSurrender:Gs,uthToggleTrips:wr,uthToggleSixCardBonus:pc,uthToggleProgressive:mc,uhCheck:Pn,uhBet:Br,uhFold:jr,registerForTournament:kl,enterTournament:Or,claimFaucet:Ml,getAdvice:Ys}}},yr=[1,5,25,100,500,1e3,5e3,1e4,5e4],Yg=({gameState:l,uiState:r,uiActions:i,gameActions:c,phase:o,playMode:m=null,isRegistered:f,inputRefs:v,sortedGames:p=[]})=>{R.useEffect(()=>{const x=b=>{if(o==="REGISTRATION"&&m!=="CASH"){b.key.toLowerCase()==="r"&&c.registerForTournament();return}if(b.key==="/"){b.preventDefault(),!r.commandOpen&&!r.customBetOpen&&!r.helpOpen&&(i.setCommandOpen(!0),setTimeout(()=>{var N;return(N=v.input.current)==null?void 0:N.focus()},10));return}if(b.key==="?"){b.preventDefault(),!r.commandOpen&&!r.customBetOpen&&(i.setHelpOpen(N=>!N),i.setHelpDetail(null));return}if(b.key==="Escape"){i.setCommandOpen(!1),i.setCustomBetOpen(!1),r.helpOpen&&(i.setHelpDetail(null),i.setHelpOpen(!1)),c.setGameState(N=>({...N,crapsInputMode:"NONE",rouletteInputMode:"NONE",sicBoInputMode:"NONE"})),i.setNumberInputString("");return}if(r.commandOpen){const N=parseInt(b.key);if(!isNaN(N)&&N>=1&&N<=9){const A=r.searchQuery?p.filter(h=>h.toLowerCase().includes(r.searchQuery.toLowerCase())):p,C=N-1;C<A.length&&(b.preventDefault(),i.startGame(A[C]),i.setCommandOpen(!1),i.setSearchQuery(""));return}return}if(r.customBetOpen){b.key==="Enter"||(/^[0-9]$/.test(b.key)?i.setCustomBetString(N=>N+b.key):b.key==="Backspace"&&i.setCustomBetString(N=>N.slice(0,-1)));return}if(b.ctrlKey&&!b.shiftKey&&!b.altKey){const N=parseInt(b.key);if(!isNaN(N)){b.preventDefault(),N===0?(i.setCustomBetOpen(!0),setTimeout(()=>{var A;return(A=v.customBet.current)==null?void 0:A.focus()},10)):N<=yr.length&&i.setBetAmount(yr[N-1]);return}}if(l.rouletteInputMode!=="NONE"||l.sicBoInputMode==="SUM"){b.key==="Enter"||(/^[0-9]$/.test(b.key)?i.setNumberInputString(N=>N+b.key):b.key==="Backspace"&&i.setNumberInputString(N=>N.slice(0,-1)));return}if(b.key===" "){b.preventDefault(),c.deal();return}b.key.toLowerCase()==="z"&&c.toggleShield(),b.key.toLowerCase()==="x"&&(l.type!==D.CRAPS||b.shiftKey)&&c.toggleDouble(),b.key.toLowerCase()==="g"&&c.toggleSuper();const y=b.key.toLowerCase();if(l.type===D.BLACKJACK){if(y==="j"&&c.bjToggle21Plus3(),l.stage!=="PLAYING"||l.message.includes("REVEAL"))return;y==="h"&&c.bjHit(),y==="s"&&c.bjStand(),y==="d"&&c.bjDouble(),y==="p"&&c.bjSplit(),y==="i"&&c.bjInsurance(!0),y==="n"&&c.bjInsurance(!1)}else if(l.type===D.VIDEO_POKER){if(y==="d"&&c.drawVideoPoker(),["1","2","3","4","5"].includes(b.key)){c.toggleHold(parseInt(b.key)-1);return}}else if(l.type===D.HILO)y==="h"&&c.hiloPlay("HIGHER"),y==="l"&&c.hiloPlay("LOWER"),y==="s"&&c.hiloPlay("SAME"),y==="c"&&c.hiloCashout();else if(l.type===D.BACCARAT){if(y==="p"&&c.baccaratActions.toggleSelection("PLAYER"),y==="b"&&c.baccaratActions.toggleSelection("BANKER"),y==="e"&&c.baccaratActions.placeBet("TIE"),y==="q"&&c.baccaratActions.placeBet("P_PAIR"),y==="w"&&c.baccaratActions.placeBet("B_PAIR"),b.key==="6"){c.baccaratActions.placeBet("LUCKY6");return}if(y==="d"&&c.baccaratActions.placeBet("P_DRAGON"),y==="r"&&c.baccaratActions.placeBet("B_DRAGON"),b.key==="8"){c.baccaratActions.placeBet("PANDA8");return}if(b.key==="9"){c.baccaratActions.placeBet("P_PERFECT_PAIR");return}if(b.key==="0"&&!b.ctrlKey){c.baccaratActions.placeBet("B_PERFECT_PAIR");return}y==="t"&&c.baccaratActions.rebet(),y==="u"&&c.baccaratActions.undo()}else if(l.type===D.ROULETTE){if(y==="r"&&c.placeRouletteBet("RED"),y==="b"&&c.placeRouletteBet("BLACK"),y==="e"&&c.placeRouletteBet("EVEN"),y==="o"&&c.placeRouletteBet("ODD"),y==="l"&&c.placeRouletteBet("LOW"),y==="h"&&c.placeRouletteBet("HIGH"),b.key==="1"){c.placeRouletteBet("DOZEN_1");return}if(b.key==="2"){c.placeRouletteBet("DOZEN_2");return}if(b.key==="3"){c.placeRouletteBet("DOZEN_3");return}if(y==="a"&&c.placeRouletteBet("COL_1"),y==="d"&&c.placeRouletteBet("COL_2"),y==="f"&&c.placeRouletteBet("COL_3"),y==="p"&&c.cycleRouletteZeroRule(),y==="n"){i.setNumberInputString(""),c.setGameState(N=>({...N,rouletteInputMode:"STRAIGHT"}));return}if(y==="s"){i.setNumberInputString(""),c.setGameState(N=>({...N,rouletteInputMode:"SPLIT_H"}));return}if(y==="v"){i.setNumberInputString(""),c.setGameState(N=>({...N,rouletteInputMode:"SPLIT_V"}));return}if(y==="w"){i.setNumberInputString(""),c.setGameState(N=>({...N,rouletteInputMode:"STREET"}));return}if(y==="c"){i.setNumberInputString(""),c.setGameState(N=>({...N,rouletteInputMode:"CORNER"}));return}if(b.key==="6"){i.setNumberInputString(""),c.setGameState(N=>({...N,rouletteInputMode:"SIX_LINE"}));return}if(b.key==="0"){c.placeRouletteBet("ZERO");return}y==="t"&&c.rebetRoulette(),y==="u"&&c.undoRouletteBet()}else if(l.type===D.THREE_CARD)if(l.stage==="BETTING"){if(y==="p"&&c.threeCardTogglePairPlus(),b.key==="6"){c.threeCardToggleSixCardBonus();return}y==="j"&&c.threeCardToggleProgressive()}else l.message.includes("REVEAL")||(y==="p"&&c.threeCardPlay(),y==="f"&&c.threeCardFold());else if(l.type===D.CASINO_WAR)y==="t"&&c.casinoWarToggleTieBet(),y==="w"&&c.casinoWarGoToWar(),y==="s"&&c.casinoWarSurrender();else if(l.type===D.ULTIMATE_HOLDEM){if(l.stage==="BETTING"){if(y==="t"&&c.uthToggleTrips(),b.key==="6"){c.uthToggleSixCardBonus();return}y==="j"&&c.uthToggleProgressive();return}if(l.message.includes("REVEAL"))return;if(y==="c"&&c.uhCheck(),y==="f"&&c.uhFold(),l.communityCards.length===0){if(b.key==="3"){c.uhBet(3);return}if(b.key==="4"){c.uhBet(4);return}}else if(l.communityCards.length===3){if(b.key==="2"){c.uhBet(2);return}}else if(l.communityCards.length===5&&b.key==="1"){c.uhBet(1);return}}else if(l.type===D.CRAPS){if(l.crapsOddsCandidates&&l.crapsOddsCandidates.length>0){const N=parseInt(b.key);if(!isNaN(N)&&N>=1&&N<=l.crapsOddsCandidates.length){c.addCrapsOdds(N-1);return}if(b.key==="Escape"){c.setGameState(A=>({...A,crapsOddsCandidates:null,message:"SELECTION CANCELLED"}));return}return}if(l.crapsInputMode!=="NONE"){const A={2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,0:10,"-":11,"=":12}[b.key];if(A!==void 0){c.placeCrapsNumberBet(l.crapsInputMode,A),c.setGameState(C=>({...C,crapsInputMode:"NONE"}));return}return}y==="p"&&c.placeCrapsBet(l.crapsPoint?"COME":"PASS"),y==="d"&&c.placeCrapsBet(l.crapsPoint?"DONT_COME":"DONT_PASS"),y==="f"&&c.placeCrapsBet("FIELD"),y==="b"&&c.placeCrapsBet("FIRE"),y==="o"&&c.addCrapsOdds(),y==="u"&&c.undoCrapsBet(),y==="t"&&c.rebetCraps(),y==="y"&&c.setGameState(N=>({...N,crapsInputMode:"YES"})),y==="n"&&c.setGameState(N=>({...N,crapsInputMode:"NO"})),y==="x"&&!b.shiftKey&&c.setGameState(N=>({...N,crapsInputMode:"NEXT"})),y==="h"&&c.setGameState(N=>({...N,crapsInputMode:"HARDWAY"})),y==="i"&&c.setGameState(N=>({...N,crapsInputMode:"BUY"})),y==="s"&&c.placeCrapsBet("ATS_SMALL"),y==="l"&&c.placeCrapsBet("ATS_TALL"),y==="a"&&c.placeCrapsBet("ATS_ALL")}else if(l.type===D.SIC_BO){if(l.sicBoInputMode!=="NONE"){if(l.sicBoInputMode!=="SUM"){const N=parseInt(b.key);if(!isNaN(N)&&N>=1&&N<=6){if(l.sicBoInputMode==="SINGLE"){c.placeSicBoBet("SINGLE_DIE",N);return}if(l.sicBoInputMode==="DOUBLE"){c.placeSicBoBet("DOUBLE_SPECIFIC",N);return}if(l.sicBoInputMode==="TRIPLE"){c.placeSicBoBet("TRIPLE_SPECIFIC",N);return}if(l.sicBoInputMode==="DOMINO"){if(r.numberInputString.length===0){i.setNumberInputString(String(N));return}const A=parseInt(r.numberInputString[0]);if(!isNaN(A)&&A!==N){const C=Math.min(A,N),h=Math.max(A,N),E=C<<4|h;c.placeSicBoBet("DOMINO",E),i.setNumberInputString("")}return}if(l.sicBoInputMode==="HOP3_HARD"){if(r.numberInputString.length===0){i.setNumberInputString(String(N));return}const A=parseInt(r.numberInputString[0]);if(!isNaN(A)&&A!==N){const C=A<<4|N;c.placeSicBoBet("HOP3_HARD",C),i.setNumberInputString("")}return}if(l.sicBoInputMode==="HOP3_EASY"||l.sicBoInputMode==="HOP4_EASY"){const A=l.sicBoInputMode==="HOP3_EASY"?3:4,C=r.numberInputString,h=String(N);if(C.includes(h))return;const E=C+h;if(i.setNumberInputString(E),E.length===A){let O=0;for(const M of E){const I=parseInt(M);!isNaN(I)&&I>=1&&I<=6&&(O|=1<<I-1)}c.placeSicBoBet(l.sicBoInputMode,O),i.setNumberInputString("")}return}}return}return}if(y==="s"&&c.placeSicBoBet("SMALL"),y==="b"&&c.placeSicBoBet("BIG"),y==="o"&&c.placeSicBoBet("ODD"),y==="v"&&c.placeSicBoBet("EVEN"),y==="a"&&c.placeSicBoBet("TRIPLE_ANY"),y==="n"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"SINGLE"}));return}if(y==="d"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"DOUBLE"}));return}if(y==="t"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"TRIPLE"}));return}if(y==="c"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"DOMINO"}));return}if(y==="e"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"HOP3_EASY"}));return}if(y==="h"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"HOP3_HARD"}));return}if(y==="f"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"HOP4_EASY"}));return}if(y==="m"){i.setNumberInputString(""),c.setGameState(N=>({...N,sicBoInputMode:"SUM"}));return}y==="r"&&c.rebetSicBo(),y==="u"&&c.undoSicBoBet()}if((b.key==="ArrowUp"||b.key==="ArrowDown")&&!r.commandOpen&&!r.customBetOpen){b.preventDefault();const N=l.bet||50,A=yr.findIndex(h=>h>=N);let C;b.key==="ArrowUp"?C=A===-1?yr.length-1:Math.min(A+1,yr.length-1):C=A<=0?0:A-1,i.setBetAmount(yr[C]);return}};return window.addEventListener("keydown",x),()=>window.removeEventListener("keydown",x)},[l,r,o,f,p])},Go=({className:l})=>{const r=sn().pathname,i=r.startsWith("/swap")||r.startsWith("/borrow")||r.startsWith("/liquidity"),c=o=>["inline-flex shrink-0 whitespace-nowrap items-center justify-center h-11 px-3 rounded border text-[10px] tracking-widest uppercase transition-colors",o?"border-terminal-green text-terminal-green bg-terminal-green/10":"border-gray-800 text-gray-400 hover:border-gray-600 hover:text-white"].join(" ");return s.jsxs("nav",{className:["flex items-center gap-2 max-w-full overflow-x-auto",l??""].join(" ").trim(),children:[s.jsx(va,{to:"/",className:c(r==="/"),children:"Play"}),s.jsx(va,{to:"/swap",className:c(i),children:"Swap"}),s.jsx(va,{to:"/stake",className:c(r.startsWith("/stake")),children:"Stake"}),s.jsx(va,{to:"/security",className:c(r.startsWith("/security")),children:"Vault"})]})};function br(l){if(typeof Buffer<"u")return Buffer.from(l).toString("base64url");let r="";for(let c=0;c<l.length;c++)r+=String.fromCharCode(l[c]);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")}function kn(l){if(typeof Buffer<"u")return new Uint8Array(Buffer.from(l,"base64url"));const r=l.replace(/-/g,"+").replace(/_/g,"/"),i=r+"===".slice((r.length+3)%4),c=atob(i),o=new Uint8Array(c.length);for(let m=0;m<c.length;m++)o[m]=c.charCodeAt(m);return o}const Kg="nullspace",Vg=1,rn="vaults",sc="nullspace_vault_enabled",zo="nullspace_vault_id",Yo="nullspace_vault_credential_id",ic="casino_public_key_hex";function Ko(){return typeof window<"u"&&typeof document<"u"}function cn(){return!Ko()||typeof crypto>"u"||!crypto.subtle||!crypto.getRandomValues||typeof indexedDB>"u"?!1:typeof window.PublicKeyCredential<"u"&&!!(navigator!=null&&navigator.credentials)}function nn(l){const r=new Uint8Array(l);return crypto.getRandomValues(r),r}function Ip(l){const r=l.trim().toLowerCase();if(!/^[0-9a-f]+$/.test(r)||r.length%2!==0)return null;const i=new Uint8Array(r.length/2);for(let c=0;c<i.length;c++)i[c]=parseInt(r.slice(c*2,c*2+2),16);return i}function bo(l){return l instanceof ArrayBuffer?new Uint8Array(l):ArrayBuffer.isView(l)?new Uint8Array(l.buffer,l.byteOffset,l.byteLength):null}function Vo(){return new Promise((l,r)=>{const i=indexedDB.open(Kg,Vg);i.onupgradeneeded=()=>{const c=i.result;c.objectStoreNames.contains(rn)||c.createObjectStore(rn,{keyPath:"id"})},i.onsuccess=()=>l(i.result),i.onerror=()=>r(i.error??new Error("Failed to open IndexedDB"))})}async function Tm(l){const r=await Vo();return new Promise((i,c)=>{const f=r.transaction(rn,"readonly").objectStore(rn).get(l);f.onsuccess=()=>i(f.result??null),f.onerror=()=>c(f.error??new Error("Failed to read vault"))})}async function qg(l){const r=await Vo();return new Promise((i,c)=>{const f=r.transaction(rn,"readwrite").objectStore(rn).put(l);f.onsuccess=()=>i(),f.onerror=()=>c(f.error??new Error("Failed to write vault"))})}async function hE(){if(!cn())throw new Error("passkey-vault-unsupported");const l=await Vo();await new Promise((r,i)=>{const m=l.transaction(rn,"readwrite").objectStore(rn).delete("default");m.onsuccess=()=>r(),m.onerror=()=>i(m.error??new Error("Failed to delete vault"))}),Em(),localStorage.removeItem(sc),localStorage.removeItem(zo),localStorage.removeItem(Yo),localStorage.removeItem(ic)}async function Fg(){return cn()?Tm("default"):null}function Xg(){return Ko()?localStorage.getItem(sc)==="true":!1}function Wg(){return Ko()?localStorage.getItem(ic):null}async function Zg(){if(!cn())throw new Error("passkey-vault-unsupported");const l=window.location.hostname,r=nn(32),i=nn(32),c={rp:{name:"null/space",id:l},user:{id:i,name:"nullspace",displayName:"nullspace"},challenge:r,pubKeyCredParams:[{type:"public-key",alg:-7}],timeout:6e4,attestation:"none",authenticatorSelection:{userVerification:"required",residentKey:"required"},extensions:{prf:{},hmacCreateSecret:!0,largeBlob:{support:"preferred"}}},o=await navigator.credentials.create({publicKey:c});if(!o)throw new Error("passkey-create-failed");return{credentialId:br(new Uint8Array(o.rawId))}}async function Qg(l){if(!cn())throw new Error("passkey-vault-unsupported");const r=nn(32),i=[{type:"public-key",id:kn(l)}],c={challenge:r,allowCredentials:i,timeout:6e4,userVerification:"required"};if(!await navigator.credentials.get({publicKey:c}))throw new Error("passkey-get-failed")}async function Am(l,r,i){var N,A,C,h,E,O;if(!cn())throw new Error("passkey-vault-unsupported");const c=nn(32),o=[{type:"public-key",id:kn(l)}],m=(i==null?void 0:i.largeBlobRead)===!0,f=i==null?void 0:i.largeBlobWrite,v={challenge:c,allowCredentials:o,timeout:6e4,userVerification:"required",extensions:{prf:{eval:{first:r}},hmacGetSecret:{salt1:r},...m?{largeBlob:{read:!0}}:{},...f?{largeBlob:{write:f}}:{}}},p=await navigator.credentials.get({publicKey:v});if(!p)throw new Error("passkey-get-failed");const x=((N=p.getClientExtensionResults)==null?void 0:N.call(p))??{},b=bo((C=(A=x==null?void 0:x.prf)==null?void 0:A.results)==null?void 0:C.first);if(b)return b;const y=bo((h=x==null?void 0:x.hmacGetSecret)==null?void 0:h.output1);if(y)return y;if(m){const M=bo((E=x==null?void 0:x.largeBlob)==null?void 0:E.blob);if(M)return M}if(f&&((O=x==null?void 0:x.largeBlob)==null?void 0:O.written)===!0)return f;throw new Error("passkey-prf-unsupported")}async function Cm(l,r){const i=await crypto.subtle.importKey("raw",l,"HKDF",!1,["deriveKey"]),c=new TextEncoder().encode("nullspace-vault-v1");return crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:r,info:c},i,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function Jg(l,r,i){const c=nn(12),o=new TextEncoder().encode(`nullspace:${r}:v1`),m=new TextEncoder().encode(JSON.stringify(i)),f=await crypto.subtle.encrypt({name:"AES-GCM",iv:c,additionalData:o},l,m);return{iv:br(c),ciphertext:br(new Uint8Array(f))}}async function eb(l,r){const i=kn(r.cipher.iv),c=new TextEncoder().encode(`nullspace:${r.id}:v1`),o=kn(r.cipher.ciphertext),m=await crypto.subtle.decrypt({name:"AES-GCM",iv:i,additionalData:c},l,o),f=JSON.parse(new TextDecoder().decode(new Uint8Array(m)));if((f==null?void 0:f.version)!==1)throw new Error("vault-version-unsupported");return f}function tb(l,r){const i=`casino_registered_${l}`,c=`casino_registered_${r}`;localStorage.getItem(i)==="true"&&localStorage.setItem(c,"true"),localStorage.removeItem(i)}function ab(){localStorage.setItem("casino_nonce","0");const l=[];for(let r=0;r<localStorage.length;r++){const i=localStorage.key(r);i&&i.startsWith("casino_tx_")&&l.push(i)}for(const r of l)localStorage.removeItem(r)}async function pE(l){if(!cn())throw new Error("passkey-vault-unsupported");const r="default",{credentialId:i}=await Zg(),c=nn(32);let o,m=1;try{const M=nn(32),I=await Am(i,c,{largeBlobWrite:M});o=await Cm(I,c)}catch(M){if(((M==null?void 0:M.message)??String(M))!=="passkey-prf-unsupported")throw M;o=await crypto.subtle.generateKey({name:"AES-GCM",length:256},!1,["encrypt","decrypt"]),m=2}const f=localStorage.getItem("casino_private_key"),v=typeof f=="string"&&f.length===64,p=new ac(void 0);await p.init();let x,b=!1;if(v){const M=Ip(f);if(!M||M.length!==32)throw new Error("invalid-casino-private-key");p.createKeypair(M),x=M,b=!0}else{p.createKeypair();const M=p.getPrivateKeyHex(),I=Ip(M);if(!I||I.length!==32)throw new Error("failed-to-generate-ed25519");x=I}const y=p.getPublicKeyHex(),N=nn(32),A={version:1,nullspaceEd25519PrivateKey:br(x),chatEvmPrivateKey:br(N)},C=await Jg(o,r,A),h=Date.now(),E=m===1?{id:r,version:1,credentialId:i,prfSalt:br(c),cipher:C,nullspacePublicKeyHex:y,createdAtMs:h,updatedAtMs:h}:{id:r,version:2,credentialId:i,keystoreKey:o,cipher:C,nullspacePublicKeyHex:y,createdAtMs:h,updatedAtMs:h};return await qg(E),localStorage.setItem(sc,"true"),localStorage.setItem(zo,r),localStorage.setItem(Yo,i),localStorage.setItem(ic,y),b&&f?(tb(f,y),localStorage.removeItem("casino_private_key")):ab(),bm({vaultId:r,credentialId:i,unlockedAtMs:h,nullspaceEd25519PrivateKey:x,chatEvmPrivateKey:N,nullspacePublicKeyHex:y}),E}async function mE(){if(!cn())throw new Error("passkey-vault-unsupported");const l=Po();if(l)return l;const r=await Tm("default");if(!r)throw new Error("vault-not-found");let i;if(r.version===1){const f=kn(r.prfSalt),v=await Am(r.credentialId,f,{largeBlobRead:!0});i=await Cm(v,f)}else if(r.version===2){if(!r.keystoreKey)throw new Error("vault-keystore-key-missing");await Qg(r.credentialId),i=r.keystoreKey}else throw new Error("vault-version-unsupported");const c=await eb(i,r),o=Date.now(),m={vaultId:r.id,credentialId:r.credentialId,unlockedAtMs:o,nullspaceEd25519PrivateKey:kn(c.nullspaceEd25519PrivateKey),chatEvmPrivateKey:kn(c.chatEvmPrivateKey),nullspacePublicKeyHex:r.nullspacePublicKeyHex};return localStorage.setItem(sc,"true"),localStorage.setItem(zo,r.id),localStorage.setItem(Yo,r.credentialId),localStorage.setItem(ic,r.nullspacePublicKeyHex),bm(m),m}function xE(){Em()}function Oo(){const l=cn(),r=l&&Xg(),i=!!Po(),c=Wg();return{supported:l,enabled:r,unlocked:i,nullspacePublicKeyHex:c}}function Up(l){if(l==null)return"";if(typeof l=="number")return Number.isFinite(l)?Math.floor(l).toLocaleString():"";const r=typeof l=="bigint"?l.toString():l.trim();return r?/^\d+$/.test(r)?r.replace(/\B(?=(\d{3})+(?!\d))/g,","):r:""}function lb(l,r=10,i=6){const c=l.trim();return c.length<=r+i+1?c:`${c.slice(0,r)}${c.slice(-i)}`}const Hp=({rng:l,vusdt:r,pubkeyHex:i,className:c})=>{const[o,m]=R.useState(()=>Oo());R.useEffect(()=>Lg(()=>m(Oo())),[]);const f=R.useMemo(()=>o.supported?o.enabled?o.unlocked?{label:"UNLOCKED",className:"text-terminal-green border-terminal-green/50"}:{label:"LOCKED",className:"text-terminal-accent border-terminal-accent/50"}:{label:"VAULT OFF",className:"text-gray-400 border-gray-800"}:{label:"PASSKEY UNSUPPORTED",className:"text-gray-500 border-gray-800"},[o.enabled,o.supported,o.unlocked]),v=i??o.nullspacePublicKeyHex;return s.jsxs("div",{className:["flex flex-wrap items-center gap-2 rounded border border-gray-800 bg-gray-900/30 px-2 py-1",c??""].join(" ").trim(),children:[o.supported&&s.jsxs(s.Fragment,{children:[s.jsxs(va,{to:"/security",className:["inline-flex items-center gap-1 rounded border px-2 py-1 text-[10px] tracking-widest uppercase hover:bg-gray-900/60",f.className].join(" "),children:[s.jsx("span",{className:"text-gray-500",children:"Vault"}),s.jsx("span",{className:"font-bold",children:f.label})]}),s.jsx("div",{className:"h-4 w-px bg-gray-800"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-[10px] tracking-widest uppercase text-gray-400 whitespace-nowrap",children:[s.jsxs("span",{children:["RNG ",s.jsx("span",{className:"text-white font-bold",children:Up(l)})]}),s.jsxs("span",{children:["vUSDT ",s.jsx("span",{className:"text-white font-bold",children:Up(r)})]})]}),v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-4 w-px bg-gray-800"}),s.jsxs(va,{to:`/explorer/account/${v}`,className:"text-[10px] tracking-widest uppercase text-terminal-green hover:underline",title:v,children:["PK ",lb(v)]})]}):null]})},nb=({phase:l,tournamentTime:r,stats:i,lastTxSig:c,focusMode:o,setFocusMode:m,showTimer:f=!0,onToggleHelp:v,touchMode:p=!1,onToggleTouchMode:x,soundEnabled:b=!0,onToggleSound:y,reducedMotion:N=!1,onToggleReducedMotion:A,children:C})=>s.jsxs("header",{className:"h-12 border-b-2 border-gray-700 flex items-center justify-between px-2 sm:px-4 z-10 bg-terminal-black/90 backdrop-blur",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[s.jsxs("span",{className:"font-bold tracking-tighter text-white text-sm sm:text-base",children:["null",s.jsx("span",{className:"text-terminal-green",children:"/"}),"space"]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[s.jsx("button",{onClick:()=>m(!o),className:`text-[10px] border px-1.5 py-0.5 rounded transition-colors ${o?"bg-terminal-green text-black border-terminal-green":"text-gray-600 bg-gray-900 border-gray-800 hover:border-gray-600"}`,children:o?"FOCUS ON":"FOCUS OFF"}),x?s.jsx("button",{type:"button",onClick:x,className:`text-[10px] border px-1.5 py-0.5 rounded transition-colors ${p?"bg-terminal-green text-black border-terminal-green":"text-gray-600 bg-gray-900 border-gray-800 hover:border-gray-600"}`,title:"Touch mode hides key hints",children:p?"TOUCH ON":"TOUCH OFF"}):null,y?s.jsx("button",{type:"button",onClick:y,className:`text-[10px] border px-1.5 py-0.5 rounded transition-colors ${b?"bg-terminal-green text-black border-terminal-green":"text-gray-600 bg-gray-900 border-gray-800 hover:border-gray-600"}`,title:"Sound effects",children:b?"SFX ON":"SFX OFF"}):null,A?s.jsx("button",{type:"button",onClick:A,className:`text-[10px] border px-1.5 py-0.5 rounded transition-colors ${N?"bg-terminal-green text-black border-terminal-green":"text-gray-600 bg-gray-900 border-gray-800 hover:border-gray-600"}`,title:"Reduce motion",children:N?"MOTION LOW":"MOTION FULL"}):null,s.jsx(gr,{to:"/security",className:"text-[10px] border px-1.5 py-0.5 rounded transition-colors text-gray-300 bg-gray-900 border-gray-800 hover:border-gray-600 hover:text-white",children:"PASSKEY"}),v?s.jsxs("button",{type:"button",onClick:v,className:"text-[10px] border px-1.5 py-0.5 rounded transition-colors text-gray-300 bg-gray-900 border-gray-800 hover:border-gray-600 hover:text-white",title:"Help (shortcut: ?)",children:[s.jsx("span",{className:"text-gray-600",children:"[?]"})," HELP"]}):s.jsx("span",{className:"text-[10px] text-gray-600 bg-gray-900 border border-gray-800 px-1.5 py-0.5 rounded",children:"[?] HELP"})]})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 md:gap-6 text-xs sm:text-sm",children:[f&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"TIMER"}),s.jsx("span",{className:`font-bold ${r<60?"text-terminal-accent animate-pulse":"text-white"}`,children:wo(r)})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-500",children:"SHIELDS"}),s.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((h,E)=>s.jsx("div",{className:`w-2 h-2 rounded-full ${E<i.shields?"bg-cyan-400 shadow-[0_0_8px_rgba(34,211,238,0.8)]":"bg-gray-800"}`},E))})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-500",children:"DOUBLES"}),s.jsx("div",{className:"flex gap-1",children:[...Array(3)].map((h,E)=>s.jsx("div",{className:`w-2 h-2 rounded-full ${E<i.doubles?"bg-purple-400 shadow-[0_0_8px_rgba(192,132,252,0.8)]":"bg-gray-800"}`},E))})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-500",children:"AURA"}),s.jsx("div",{className:"flex gap-1",children:[...Array(5)].map((h,E)=>s.jsx("div",{className:`w-2 h-2 rounded-full ${E<(i.auraMeter??0)?"bg-terminal-gold shadow-[0_0_8px_rgba(255,215,0,0.7)]":"bg-gray-800"}`},E))})]}),s.jsxs("div",{className:"flex sm:hidden items-center gap-1",children:[s.jsx("div",{className:"flex gap-0.5",children:[...Array(3)].map((h,E)=>s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${E<i.shields?"bg-cyan-400":"bg-gray-800"}`},E))}),s.jsx("div",{className:"flex gap-0.5",children:[...Array(3)].map((h,E)=>s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${E<i.doubles?"bg-purple-400":"bg-gray-800"}`},E))}),s.jsx("div",{className:"flex gap-0.5",children:[...Array(5)].map((h,E)=>s.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${E<(i.auraMeter??0)?"bg-terminal-gold":"bg-gray-800"}`},E))})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx("span",{className:"text-gray-500 hidden sm:inline",children:"CHIPS"}),s.jsxs("span",{className:"text-white font-bold text-sm sm:text-lg",children:["$",i.chips.toLocaleString()]})]}),C]})]}),rb=({tournamentTime:l})=>l===60||l===59||l===58?s.jsx("div",{className:"absolute top-12 left-0 right-0 bg-terminal-accent/20 border-b border-terminal-accent/50 text-terminal-accent text-center font-bold py-1 z-50 animate-pulse",children:"WARNING: 1 MINUTE REMAINING"}):l===30||l===29||l===28?s.jsx("div",{className:"absolute top-12 left-0 right-0 bg-terminal-accent/20 border-b border-terminal-accent/50 text-terminal-accent text-center font-bold py-1 z-50 animate-pulse",children:"WARNING: 30 SECONDS REMAINING"}):l<=5&&l>0?s.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center pointer-events-none",children:s.jsx("div",{className:"text-[10rem] font-bold text-terminal-accent opacity-50 animate-ping",children:l})}):null,sb=({leaderboard:l,history:r,viewMode:i="RANK",currentChips:c,prizePool:o,totalPlayers:m,winnersPct:f=.15})=>{const v=m??l.length,p=Math.max(1,Math.min(v,Math.ceil(v*f))),x=l.find(N=>N.name==="YOU"||N.name.includes("(YOU)")),b=N=>{if(!o||v<=0||N>p)return"$0";let A=0;for(let h=1;h<=p;h++)A+=1/h;return`$${Math.floor(1/N/A*o).toLocaleString()}`},y=(N,A,C=!1)=>{let h=A+1;C&&(h=l.findIndex(I=>I.name===N.name)+1);const E=N.name==="YOU"||N.name.includes("(YOU)"),O=h===p,M=E&&c!==void 0?c:N.chips;return s.jsxs(Ot.Fragment,{children:[s.jsxs("div",{className:`flex justify-between items-center text-sm ${C?"bg-terminal-dim/50 -mx-2 px-2 py-1 rounded border-l-2 border-terminal-green":""}`,children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsx("span",{className:"text-gray-600 font-mono w-6 text-right",children:h}),s.jsx("span",{className:E?"text-white font-bold":"text-gray-400",children:N.name})]}),s.jsx("span",{className:i==="PAYOUT"&&h<=p?"text-terminal-gold":"text-terminal-green text-xs",children:i==="RANK"?`$${Math.floor(M).toLocaleString()}`:b(h)})]}),!C&&O&&s.jsx("div",{className:"border-b border-dashed border-terminal-accent my-2 py-1 text-[10px] text-terminal-accent text-center tracking-widest opacity-75",children:"IN THE MONEY // CUTOFF"})]},C?"sticky-you":A)};return s.jsxs("aside",{className:"w-64 border-l-2 border-gray-700 bg-terminal-black/50 hidden lg:flex flex-col",children:[s.jsx("div",{className:"p-4 pb-2 flex-none",children:s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("h3",{className:"text-xs font-bold text-gray-500 tracking-widest",children:i==="RANK"?"LIVE FEED":"PAYOUT PROJECTION"}),s.jsx("span",{className:"text-[9px] text-gray-600 border border-gray-800 px-1 rounded",children:"[L] TOGGLE"})]})}),x&&s.jsx("div",{className:"flex-none px-4 py-2 border-b border-terminal-dim bg-terminal-black/80 z-10 shadow-[0_5px_15px_rgba(0,0,0,0.5)]",children:y(x,0,!0)}),s.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-2 space-y-2 min-h-0",children:l.map((N,A)=>y(N,A,!1))}),s.jsxs("div",{className:"flex-none h-48 border-t-2 border-gray-700 p-4 bg-terminal-black/30",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-500 mb-2 tracking-widest",children:"LOG"}),s.jsx("div",{className:"h-full overflow-y-auto flex flex-col gap-1 text-sm text-gray-400 font-mono scrollbar-thin",children:r.slice(-15).reverse().map((N,A)=>s.jsxs("div",{className:"text-gray-300",children:["> ",N]},A))})]})]})},ib=({currentBet:l})=>{const r=[1,5,25,100,500,1e3,5e3,1e4,5e4],i=l&&!r.includes(l);return s.jsxs("footer",{className:"hidden lg:flex fixed bottom-0 left-0 right-0 lg:right-64 border-t-2 border-gray-700 bg-terminal-black/95 text-[10px] sm:text-xs text-gray-600 pt-1 pb-[calc(0.25rem+env(safe-area-inset-bottom))] px-2 sm:px-4 flex-wrap justify-center gap-2 sm:gap-4 md:gap-6 z-20",children:[r.map((c,o)=>{const m=c>=1e3?`${c/1e3}K`:`$${c}`,f=l===c;return s.jsxs("span",{className:`whitespace-nowrap ${f?"text-terminal-green font-bold":""}`,children:["^",o+1," ",m]},o)}),s.jsx("span",{className:`whitespace-nowrap ${i?"text-terminal-green font-bold":""}`,children:"^0 CUSTOM"})]})},cb=({isOpen:l,searchQuery:r,onSearchChange:i,sortedGames:c,onSelectGame:o,inputRef:m,onClose:f})=>{if(!l)return null;const v=c.filter(p=>p.toLowerCase().includes(r.toLowerCase()));return s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center pt-16 sm:pt-32 px-4",onClick:f,children:s.jsxs("div",{className:"w-full max-w-[600px] bg-terminal-black border border-terminal-dim rounded shadow-2xl overflow-hidden flex flex-col max-h-[70vh] sm:max-h-[500px]",onClick:p=>p.stopPropagation(),children:[s.jsxs("div",{className:"p-3 sm:p-4 border-b border-terminal-dim flex items-center gap-2",children:[s.jsx("span",{className:"text-terminal-green font-bold",children:">"}),s.jsx("input",{ref:m,type:"text",value:r,onChange:p=>i(p.target.value),className:"flex-1 bg-transparent outline-none text-white placeholder-gray-700 uppercase text-sm sm:text-base",placeholder:"TYPE COMMAND OR GAME NAME...",autoFocus:!0})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-2",children:[v.map((p,x)=>s.jsxs("div",{onClick:()=>o(p),className:"flex items-center gap-3 p-2 hover:bg-terminal-dim cursor-pointer rounded group text-sm sm:text-base",children:[s.jsx("span",{className:"text-gray-600 font-mono w-6 text-right group-hover:text-terminal-green",children:x<9?x+1:x===9?0:""}),s.jsx("span",{className:"text-gray-400 group-hover:text-white",children:p})]},p)),v.length===0&&s.jsx("div",{className:"p-4 text-gray-600 text-center italic",children:"NO RESULTS FOUND"})]}),s.jsxs("div",{className:"p-2 border-t border-terminal-dim bg-terminal-black/50 text-[10px] text-gray-600 flex justify-between",children:[s.jsx("span",{children:"[ENTER] SELECT"}),s.jsx("span",{children:"[ESC] CLOSE"})]})]})})},ub=({isOpen:l,betString:r,inputRef:i})=>l?s.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center px-4",children:s.jsxs("div",{className:"bg-terminal-black border border-terminal-green p-4 sm:p-8 rounded shadow-xl flex flex-col items-center gap-3 sm:gap-4 w-full max-w-sm",children:[s.jsx("div",{className:"text-xs sm:text-sm tracking-widest text-gray-400",children:"ENTER CUSTOM BET AMOUNT"}),s.jsxs("div",{className:"flex items-center gap-1 text-2xl sm:text-4xl text-terminal-gold font-bold",children:[s.jsx("span",{children:"$"}),s.jsx("input",{ref:i,type:"text",value:r,readOnly:!0,className:"bg-transparent outline-none w-32 sm:w-48 text-center"}),s.jsx("span",{className:"animate-pulse bg-terminal-green w-2 sm:w-3 h-6 sm:h-8 block"})]}),s.jsxs("div",{className:"text-[10px] sm:text-xs text-gray-600 mt-2 sm:mt-4 flex flex-wrap justify-center gap-2 sm:gap-4",children:[s.jsx("span",{children:"[0-9] TYPE"}),s.jsx("span",{children:"[ENTER] CONFIRM"}),s.jsx("span",{children:"[ESC] CANCEL"})]})]})}):null,ob=({isOpen:l,onClose:r,gameType:i,detail:c})=>{if(!l)return null;if(c){const m=mg[i],f=m?m[c]:null;if(f)return s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 sm:p-8",children:s.jsxs("div",{className:"bg-terminal-black border border-terminal-accent rounded-lg shadow-2xl max-w-lg w-full flex flex-col max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-terminal-dim bg-terminal-dim/20",children:[s.jsxs("div",{className:"text-[10px] sm:text-xs text-terminal-green mb-2 font-bold",children:["[ ",c.toUpperCase()," ] COMMAND DETAIL"]}),s.jsx("h2",{className:"text-lg sm:text-xl font-bold text-white tracking-widest",children:f.title})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-terminal-green font-bold text-[10px] sm:text-xs mb-1",children:"WIN CONDITION"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:f.win})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-terminal-accent font-bold text-[10px] sm:text-xs mb-1",children:"LOSS CONDITION"}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-300",children:f.loss})]}),s.jsxs("div",{className:"bg-gray-900 p-2 sm:p-3 rounded border border-gray-800",children:[s.jsx("h4",{className:"text-gray-500 font-bold text-[10px] mb-1",children:"EXAMPLE"}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 font-mono",children:f.example})]})]}),s.jsx("div",{className:"p-3 sm:p-4 border-t border-terminal-dim text-center",children:s.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500",children:"[ESC] BACK"})})]})})}const o=()=>{switch(i){case D.BLACKJACK:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-terminal-green font-bold border-b border-terminal-dim pb-1",children:"BLACKJACK CONTROLS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[H]"})," HIT"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[S]"})," STAND"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[D]"})," DOUBLE"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[P]"})," SPLIT"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[I]"})," INSURANCE"]})]})]});case D.CRAPS:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-terminal-green font-bold border-b border-terminal-dim pb-1",children:"CRAPS CONTROLS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[P]"})," PASS / COME"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[D]"})," DONT PASS / DONT COME"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[F]"})," FIELD BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[O]"})," ADD ODDS"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[H]"})," HARDWAYS MENU"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[Y]"})," YES MENU"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[N]"})," NO MENU"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[X]"})," NEXT ROLL MENU"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[U]"})," UNDO BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-20 inline-block",children:"[SPACE]"})," ROLL DICE"]})]})]});case D.ROULETTE:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-terminal-green font-bold border-b border-terminal-dim pb-1",children:"ROULETTE CONTROLS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[R]"})," RED"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[B]"})," BLACK"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[E]"})," EVEN"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[O]"})," ODD"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[L]"})," LOW (1-18)"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[H]"})," HIGH (19-36)"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[0]"})," ZERO"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[N]"})," SPECIFIC NUMBER"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[T]"})," REBET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[U]"})," UNDO BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-20 inline-block",children:"[SPACE]"})," SPIN WHEEL"]})]})]});case D.SIC_BO:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-terminal-green font-bold border-b border-terminal-dim pb-1",children:"SIC BO CONTROLS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[S]"})," SMALL (4-10)"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[B]"})," BIG (11-17)"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[A]"})," ANY TRIPLE"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[N]"})," SINGLE DIE BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[D]"})," DOUBLE BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[M]"})," SUM (TOTAL) BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[T]"})," REBET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[U]"})," UNDO BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-20 inline-block",children:"[SPACE]"})," ROLL DICE"]})]})]});case D.BACCARAT:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-terminal-green font-bold border-b border-terminal-dim pb-1",children:"BACCARAT CONTROLS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[P]"})," SELECT PLAYER"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[B]"})," SELECT BANKER"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[E]"})," TIE BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[Q]"})," PLAYER PAIR"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[W]"})," BANKER PAIR"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[T]"})," REBET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[U]"})," UNDO BET"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-20 inline-block",children:"[SPACE]"})," DEAL"]})]})]});case D.HILO:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-terminal-green font-bold border-b border-terminal-dim pb-1",children:"HILO CONTROLS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[H]"})," HIGHER"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[L]"})," LOWER"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-6 inline-block",children:"[C]"})," CASHOUT"]})]})]});case D.VIDEO_POKER:return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-terminal-green font-bold border-b border-terminal-dim pb-1",children:"VIDEO POKER CONTROLS"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-12 inline-block",children:"[1-5]"})," TOGGLE HOLD"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold w-12 inline-block",children:"[D]"})," DRAW"]})]})]});case D.NONE:return s.jsxs("div",{className:"text-center text-gray-400 py-4",children:["PRESS ",s.jsx("span",{className:"text-white font-bold",children:"[/]"})," TO SELECT A GAME"]});default:return s.jsx("div",{className:"text-center text-gray-400 py-4",children:"STANDARD CONTROLS: [SPACE] TO DEAL"})}};return s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 sm:p-8",onClick:r,children:s.jsxs("div",{className:"bg-terminal-black border border-terminal-dim rounded-lg shadow-2xl max-w-2xl w-full flex flex-col max-h-[90vh]",onClick:m=>m.stopPropagation(),children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-terminal-dim flex justify-between items-center bg-terminal-dim/20 gap-2",children:[s.jsxs("div",{className:"flex flex-col min-w-0",children:[s.jsx("h2",{className:"text-base sm:text-xl font-bold text-white tracking-widest",children:"HELP & COMMANDS"}),s.jsx("span",{className:"text-[10px] sm:text-xs text-terminal-green mt-1 hidden sm:block",children:"TYPE ANY COMMAND KEY BELOW FOR DETAILS"})]}),s.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 whitespace-nowrap",children:"[ESC] CLOSE"})]}),s.jsxs("div",{className:"p-4 sm:p-6 overflow-y-auto space-y-6 sm:space-y-8",children:[s.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[s.jsx("h3",{className:"text-terminal-gold font-bold border-b border-terminal-dim pb-1 text-sm sm:text-base",children:"GLOBAL COMMANDS"}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm text-gray-300",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold",children:"[/]"})," GAME MENU"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold",children:"[?]"})," TOGGLE HELP"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold",children:"[Z]"})," USE SHIELD"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold",children:"[X]"})," USE DOUBLE"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold",children:"[G]"})," SUPER MODE"]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-white font-bold",children:"[L]"})," LEADERBOARD VIEW"]})]}),s.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500 mt-2",children:"BET SIZING: [1] $1, [2] $5, [3] $25, ... [0] CUSTOM"})]}),o()]})]})})},db=({isOpen:l,mode:r="settings",onClose:i,settings:c,onChange:o,summary:m,onContinue:f,onCooldown:v,onStop:p})=>{if(!l)return null;const x=Date.now(),b=c.cooldownUntilMs>x?c.cooldownUntilMs-x:0,y=b>0?Math.ceil(b/6e4):0,N=(C,h)=>{const E=h.trim()===""?0:parseInt(h,10),O=Number.isFinite(E)&&E>=0?E:0,M={...c,[C]:O};C==="realityCheckMinutes"&&(M.realityCheckMinutes<=0?M.nextRealityCheckMs=0:M.sessionStartMs>0&&(M.nextRealityCheckMs=Date.now()+M.realityCheckMinutes*6e4)),o(M)},A=m.netPnl===0?"$0":m.netPnl>0?`+$${m.netPnl}`:`-$${Math.abs(m.netPnl)}`;return s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4 sm:p-8",onClick:()=>r==="reality"?f():i(),children:s.jsxs("div",{className:"bg-terminal-black border border-gray-800 rounded-lg shadow-2xl max-w-lg w-full flex flex-col max-h-[90vh] overflow-y-auto",onClick:C=>C.stopPropagation(),children:[s.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-800 bg-terminal-black/90",children:[s.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase",children:r==="reality"?"Reality Check":"Responsible Play"}),s.jsxs("div",{className:"mt-1 flex items-center justify-between gap-3",children:[s.jsx("div",{className:"text-lg font-bold tracking-widest text-white",children:"Session Summary"}),s.jsx("button",{type:"button",onClick:r==="reality"?f:i,className:"text-[10px] px-2 py-1 rounded border border-gray-700 bg-black/40 text-gray-400 hover:border-gray-500",children:"ESC"})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-2 text-[11px]",children:[s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-gray-500 tracking-widest text-[10px] uppercase",children:"Time"}),s.jsxs("div",{className:"text-white mt-1",children:[m.sessionMinutes,"m"]})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-gray-500 tracking-widest text-[10px] uppercase",children:"Net PnL"}),s.jsx("div",{className:["mt-1",m.netPnl<0?"text-terminal-accent":"text-terminal-green"].join(" "),children:A})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-gray-500 tracking-widest text-[10px] uppercase",children:"Chips"}),s.jsxs("div",{className:"text-white mt-1",children:["$",m.chips.toLocaleString()]})]})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-3",children:[s.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase mb-2",children:"Reality Check"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 items-center text-[11px]",children:[s.jsx("div",{className:"text-gray-400",children:"Interval (minutes)"}),s.jsxs("select",{className:"bg-terminal-black border border-gray-800 rounded px-2 py-2 text-[11px]",value:c.realityCheckMinutes,onChange:C=>N("realityCheckMinutes",C.target.value),children:[s.jsx("option",{value:0,children:"Off"}),s.jsx("option",{value:15,children:"15"}),s.jsx("option",{value:30,children:"30"}),s.jsx("option",{value:60,children:"60"})]})]}),s.jsx("div",{className:"mt-2 text-[10px] text-gray-600",children:"When the timer triggers, this screen pauses new rounds until you continue or cool down."})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-3",children:[s.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase mb-2",children:"Optional Limits"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px] items-center",children:[s.jsx("div",{className:"text-gray-400",children:"Max wager (0 = unlimited)"}),s.jsx("input",{className:"bg-terminal-black border border-gray-800 rounded px-2 py-2 text-[11px]",inputMode:"numeric",pattern:"[0-9]*",value:String(c.maxWager??0),onChange:C=>N("maxWager",C.target.value)}),s.jsx("div",{className:"text-gray-400",children:"Max loss (0 = unlimited)"}),s.jsx("input",{className:"bg-terminal-black border border-gray-800 rounded px-2 py-2 text-[11px]",inputMode:"numeric",pattern:"[0-9]*",value:String(c.maxLoss??0),onChange:C=>N("maxLoss",C.target.value)}),s.jsx("div",{className:"text-gray-400",children:"Max session minutes (0 = unlimited)"}),s.jsx("input",{className:"bg-terminal-black border border-gray-800 rounded px-2 py-2 text-[11px]",inputMode:"numeric",pattern:"[0-9]*",value:String(c.maxSessionMinutes??0),onChange:C=>N("maxSessionMinutes",C.target.value)})]}),s.jsx("div",{className:"mt-2 text-[10px] text-gray-600",children:"Limits block starting a new round when exceeded (they do not interrupt an in-progress hand)."})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-3",children:[s.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase mb-2",children:"Cooldown"}),s.jsxs("div",{className:"flex items-center justify-between gap-2 text-[11px]",children:[s.jsxs("div",{className:"text-gray-400",children:["Status:"," ",y>0?s.jsxs("span",{className:"text-terminal-accent",children:["ACTIVE (",y,"m)"]}):s.jsx("span",{className:"text-gray-500",children:"off"})]}),s.jsxs("div",{className:"flex gap-2",children:[[5,15,30].map(C=>s.jsxs("button",{type:"button",onClick:()=>v(C),className:"h-10 px-3 rounded border border-gray-800 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-600 hover:text-white",children:[C,"m"]},C)),s.jsx("button",{type:"button",onClick:()=>v(0),className:"h-10 px-3 rounded border border-gray-800 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-600 hover:text-white",children:"Clear"})]})]}),s.jsx("div",{className:"mt-2 text-[10px] text-gray-600",children:"Cooldown prevents starting new rounds for the selected duration."})]})]}),s.jsxs("div",{className:"p-4 sm:p-6 border-t border-gray-800 bg-terminal-black/90 flex items-center justify-between gap-2",children:[s.jsx("button",{type:"button",onClick:p,className:"h-11 px-4 rounded border border-terminal-accent text-terminal-accent text-[10px] tracking-widest uppercase hover:bg-terminal-accent/10",children:"Stop Playing"}),s.jsxs("div",{className:"flex items-center gap-2",children:[r==="reality"?s.jsx("button",{type:"button",onClick:f,className:"h-11 px-4 rounded border border-terminal-green text-terminal-green text-[10px] tracking-widest uppercase hover:bg-terminal-green/10",children:"Continue"}):null,s.jsx("button",{type:"button",onClick:r==="reality"?f:i,className:"h-11 px-4 rounded border border-gray-700 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-500",children:"Close"})]})]})]})})},fb=[1,5,25,100,500,1e3,5e3,1e4],hb=({currentBet:l,onSelectBet:r,isCustom:i,fixedMode:c,className:o})=>{const[m,f]=R.useState(!1),[v,p]=R.useState({x:typeof window<"u"?window.innerWidth-72:300,y:80}),x=Ot.useRef(!1),b=Ot.useRef({x:0,y:0}),y=Ot.useRef({x:0,y:0}),N=I=>{r(I),f(!1)},A=I=>{if(c)return;x.current=!1;const le=I.touches[0];b.current={x:le.clientX,y:le.clientY},y.current={...v}},C=I=>{if(c)return;const le=I.touches[0],Q=le.clientX-b.current.x,ie=le.clientY-b.current.y;(Math.abs(Q)>5||Math.abs(ie)>5)&&(x.current=!0,p({x:Math.max(8,Math.min(window.innerWidth-64,y.current.x+Q)),y:Math.max(8,Math.min(window.innerHeight-64,y.current.y+ie))}))},h=()=>{x.current||f(!m)},E=c?{}:{left:v.x,top:v.y},O=c?`relative flex items-center justify-center w-9 h-9 rounded-full border border-terminal-gold bg-terminal-black/90 shadow-lg backdrop-blur-sm ${o||""}`:`fixed sm:hidden z-50 flex items-center justify-center w-14 h-14 rounded-full border-2 border-terminal-gold bg-terminal-black/90 shadow-lg backdrop-blur-sm touch-none ${o||""}`,M=c?{top:"3.5rem",right:"0.5rem"}:{left:v.x,top:v.y+64};return s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onTouchStart:A,onTouchMove:C,onClick:h,style:E,className:O,children:s.jsxs("div",{className:"flex flex-col items-center leading-none",children:[s.jsx("span",{className:`${c?"text-[5px]":"text-[8px]"} text-terminal-gold uppercase tracking-widest mb-0.5`,children:"BET"}),s.jsx("span",{className:`${c?"text-[9px]":"text-xs"} font-bold text-white`,children:l>=1e3?`${l/1e3}k`:l})]})}),m&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm",onClick:()=>f(!1)}),s.jsx("div",{className:"fixed z-50 flex flex-col gap-3 animate-slide-down origin-top",style:M,children:fb.map(I=>s.jsx("button",{type:"button",onClick:()=>N(I),className:`w-12 h-12 rounded-full border flex items-center justify-center shadow-lg transition-transform active:scale-95 ${l===I?"border-terminal-green bg-terminal-green text-black scale-110":"border-gray-600 bg-gray-900 text-gray-300"}`,children:s.jsx("span",{className:"text-[10px] font-bold",children:I>=1e3?`${I/1e3}k`:I})},I))})]})]})},pb=({playMode:l,onSetPlayMode:r,onOpenSafety:i,onToggleHelp:c,soundEnabled:o,onToggleSound:m,touchMode:f,onToggleTouchMode:v,reducedMotion:p,onToggleReducedMotion:x})=>{const[b,y]=R.useState(!1),N=()=>y(!b),A=()=>y(!1);return s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:N,"aria-label":"Menu",className:"w-10 h-10 flex items-center justify-center rounded border border-gray-800 text-gray-300 bg-gray-900/50 hover:bg-gray-800",children:s.jsxs("div",{className:"flex flex-col gap-1.5",children:[s.jsx("span",{className:"w-5 h-0.5 bg-current rounded-full"}),s.jsx("span",{className:"w-5 h-0.5 bg-current rounded-full"}),s.jsx("span",{className:"w-5 h-0.5 bg-current rounded-full"})]})}),b&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-[90] bg-black/90 backdrop-blur-sm",onClick:A}),s.jsxs("div",{className:"absolute top-12 right-0 w-64 bg-black border border-gray-700 rounded-lg shadow-2xl z-[100] p-2 flex flex-col gap-1 animate-in fade-in zoom-in-95 duration-100 origin-top-right",children:[s.jsx("div",{className:"px-3 py-2 text-[10px] text-gray-500 uppercase tracking-widest border-b border-gray-800 mb-1",children:"Menu"}),s.jsx(gr,{to:"/",onClick:A,className:({isActive:C})=>`px-3 py-3 rounded text-sm font-bold tracking-widest ${C?"bg-terminal-green/10 text-terminal-green":"text-gray-300 hover:bg-gray-800"}`,children:"PLAY"}),s.jsx(gr,{to:"/swap",onClick:A,className:({isActive:C})=>`px-3 py-3 rounded text-sm font-bold tracking-widest ${C?"bg-terminal-green/10 text-terminal-green":"text-gray-300 hover:bg-gray-800"}`,children:"SWAP"}),s.jsx(gr,{to:"/stake",onClick:A,className:({isActive:C})=>`px-3 py-3 rounded text-sm font-bold tracking-widest ${C?"bg-terminal-green/10 text-terminal-green":"text-gray-300 hover:bg-gray-800"}`,children:"STAKE"}),s.jsx(gr,{to:"/security",onClick:A,className:({isActive:C})=>`px-3 py-3 rounded text-sm font-bold tracking-widest ${C?"bg-terminal-green/10 text-terminal-green":"text-gray-300 hover:bg-gray-800"}`,children:"VAULT"}),s.jsx("div",{className:"h-px bg-gray-800 my-1"}),s.jsxs("div",{className:"px-3 py-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2",children:"Settings"}),s.jsxs("div",{className:"flex flex-col gap-3",children:[s.jsxs("button",{onClick:m,className:"flex justify-between items-center text-xs text-gray-300 hover:text-white",children:[s.jsx("span",{children:"SOUND"}),s.jsx("span",{className:o?"text-terminal-green font-bold":"text-gray-600",children:o?"ON":"OFF"})]}),s.jsxs("button",{onClick:v,className:"flex justify-between items-center text-xs text-gray-300 hover:text-white",children:[s.jsx("span",{children:"TOUCH"}),s.jsx("span",{className:f?"text-terminal-green font-bold":"text-gray-600",children:f?"ON":"OFF"})]}),s.jsxs("button",{onClick:x,className:"flex justify-between items-center text-xs text-gray-300 hover:text-white",children:[s.jsx("span",{children:"MOTION"}),s.jsx("span",{className:p?"text-gray-600":"text-terminal-green font-bold",children:p?"LOW":"FULL"})]})]})]}),s.jsx("div",{className:"h-px bg-gray-800 my-1"}),s.jsx("button",{onClick:()=>{i(),A()},className:"px-3 py-3 rounded text-sm font-bold tracking-widest text-left text-gray-300 hover:bg-gray-800",children:"SAFETY"}),s.jsx("button",{onClick:()=>{c(),A()},className:"px-3 py-3 rounded text-sm font-bold tracking-widest text-left text-gray-300 hover:bg-gray-800",children:"HELP"}),s.jsx("div",{className:"h-px bg-gray-800 my-1"}),s.jsxs("div",{className:"px-3 py-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2",children:"Mode"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{r("CASH"),A()},className:`flex-1 py-2 text-xs font-bold rounded border ${l==="CASH"?"border-terminal-green bg-terminal-green text-black":"border-gray-700 text-gray-400 hover:border-gray-500"}`,children:"CASH"}),s.jsx("button",{onClick:()=>{r("FREEROLL"),A()},className:`flex-1 py-2 text-xs font-bold rounded border ${l==="FREEROLL"?"border-terminal-gold bg-terminal-gold text-black":"border-gray-700 text-gray-400 hover:border-gray-500"}`,children:"TOURNEY"})]})]})]})]})]})},mb=({onSelect:l})=>s.jsxs("div",{className:"flex flex-col min-h-screen w-screen bg-terminal-black text-white font-mono items-center justify-center p-4 sm:p-6 md:p-8 overflow-auto",children:[s.jsx("div",{className:"max-w-3xl w-full mb-3 flex justify-center",children:s.jsx(Go,{})}),s.jsxs("div",{className:"max-w-3xl w-full border border-terminal-green rounded-lg p-4 sm:p-6 md:p-8 shadow-2xl relative bg-black/80 backdrop-blur",children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"text-xs text-gray-500 tracking-[0.4em] mb-2",children:"WELCOME TO"}),s.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-bold tracking-[0.2em] text-white",children:["null",s.jsx("span",{className:"text-terminal-green",children:"/"}),"space"]}),s.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500 mt-3",children:"SELECT A MODE TO BEGIN"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[s.jsxs("button",{className:"text-left border border-gray-800 rounded p-4 sm:p-5 bg-gray-900/40 hover:bg-gray-900/70 transition-colors",onClick:()=>l("CASH"),children:[s.jsx("div",{className:"text-terminal-green font-bold tracking-widest mb-2",children:"CASH GAME"}),s.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:"Bet any amount of RNG you have on any casino bet. Includes a daily faucet (dev/testing) so you can always play."}),s.jsx("div",{className:"text-[10px] text-gray-600 mt-3 tracking-widest",children:"UNLIMITED PLAY  FAUCET ENABLED"})]}),s.jsxs("button",{className:"text-left border border-gray-800 rounded p-4 sm:p-5 bg-gray-900/40 hover:bg-gray-900/70 transition-colors",onClick:()=>l("FREEROLL"),children:[s.jsx("div",{className:"text-terminal-accent font-bold tracking-widest mb-2",children:"FREEROLL"}),s.jsx("div",{className:"text-xs text-gray-400 leading-relaxed",children:"Join 5-minute tournaments (up to 5 entries/day). Start with 1,000 chips. Top 15% share the RNG daily emission."}),s.jsx("div",{className:"text-[10px] text-gray-600 mt-3 tracking-widest",children:"TOURNAMENTS  TOP 15% PAID"})]})]}),s.jsxs("div",{className:"mt-6 text-center text-[10px] text-gray-600 tracking-widest",children:[s.jsx(va,{to:"/swap",className:"text-terminal-green hover:underline",children:"SWAP"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx(va,{to:"/borrow",className:"text-terminal-green hover:underline",children:"BORROW"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx(va,{to:"/stake",className:"text-terminal-green hover:underline",children:"STAKE"}),s.jsx("span",{className:"mx-2",children:""}),s.jsx(va,{to:"/explorer",className:"text-gray-400 hover:underline",children:"BLOCKS"})]})]})]});async function xb(){return(await(await fetch("/api/webauthn/challenge")).json()).challenge}function yb(){const[l,r]=R.useState(null),[i,c]=R.useState(null),[o,m]=R.useState(!1);return{session:l,loading:o,error:i,register:async()=>{m(!0),c(null);try{const x=await xb(),b=crypto.randomUUID().replace(/-/g,""),N=await fetch("/api/webauthn/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential_id:b,webauthn_public_key:"dev-passkey",challenge:x})});if(!N.ok)throw new Error("Registration failed");const A=await N.json(),C=await fetch("/api/webauthn/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential_id:A.credential_id??b,challenge:x})});if(!C.ok)throw new Error("Login failed");const h=await C.json();return r({sessionToken:h.session_token,credentialId:h.credential_id,ed25519PublicKey:h.ed25519_public_key}),h}catch(x){throw c(x.message),x}finally{m(!1)}},signHex:async x=>{if(!l)throw new Error("No active session");const b=await fetch("/api/webauthn/sign",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${l.sessionToken}`},body:JSON.stringify({message_hex:x})});if(!b.ok)throw new Error("Sign failed");return b.json()},logout:()=>r(null)}}const gb=({stats:l,leaderboard:r,isRegistered:i,statusMessage:c,lastTxSig:o,isSubmitting:m=!1,activeTournamentId:f,playerActiveTournamentId:v,activeTimeLeft:p,nextStartIn:x,nextTournamentId:b,isJoinedNext:y,tournamentsPlayedToday:N,onRegister:A,onEnterTournament:C,botConfig:h,onBotConfigChange:E})=>{const{session:O,register:M,loading:I,error:le}=yb(),Q=l.pnlHistory,ie=Math.max(...Q,100),Ee=Math.min(...Q,-100),fe=ie-Ee,oe=100,je=300,Je=Q.map((W,de)=>{const ge=de/Math.max(Q.length-1,1)*je,Fe=oe-(W-Ee)/(fe||1)*oe;return`${ge},${Fe}`}).join(" "),De=5,vt=Math.max(0,De-N),Lt=f!==null&&v!==null&&v===f,ot=!!c&&c!=="PRESS / FOR COMMANDS";return s.jsxs("div",{className:"flex flex-col min-h-screen w-screen bg-terminal-black text-white font-mono items-center justify-center p-4 sm:p-6 md:p-8 overflow-auto",children:[s.jsx("div",{className:"max-w-4xl w-full mb-3 flex justify-center",children:s.jsx(Go,{})}),s.jsxs("div",{className:"max-w-4xl w-full border border-terminal-green rounded-lg p-4 sm:p-6 md:p-8 shadow-2xl relative bg-black/80 backdrop-blur",children:[s.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-center mb-2 tracking-[0.2em] sm:tracking-[0.3em] md:tracking-[0.5em] text-white",children:"FREEROLL LOBBY"}),s.jsx("div",{className:"text-center mb-4 sm:mb-6 md:mb-8",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p>0&&s.jsxs("div",{children:[s.jsx("div",{className:"text-[10px] sm:text-xs text-gray-500 tracking-widest mb-1",children:"TOURNAMENT IN PROGRESS  ENDS IN"}),s.jsx("div",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-terminal-accent animate-pulse font-mono",children:wo(p)})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-[10px] sm:text-xs text-gray-500 tracking-widest mb-1",children:["NEXT TOURNAMENT STARTS IN",b!==null?`  ID ${b}`:""]}),s.jsx("div",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-terminal-green font-mono",children:wo(x)}),s.jsxs("div",{className:"mt-2 text-[10px] text-gray-600 tracking-widest",children:["ENTRIES LEFT TODAY: ",s.jsxs("span",{className:vt>0?"text-terminal-green":"text-terminal-accent",children:[vt,"/",De]})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 md:gap-12",children:[s.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[s.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-500 border-b border-gray-800 pb-2",children:"YOUR PERFORMANCE"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-4 text-sm",children:[s.jsxs("div",{className:"bg-gray-900 p-2 sm:p-4 rounded border border-gray-800",children:[s.jsx("div",{className:"text-gray-500 text-[10px] sm:text-xs mb-1",children:"FINAL CHIPS"}),s.jsxs("div",{className:"text-lg sm:text-xl md:text-2xl text-white font-bold",children:["$",l.chips.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gray-900 p-2 sm:p-4 rounded border border-gray-800",children:[s.jsx("div",{className:"text-gray-500 text-[10px] sm:text-xs mb-1",children:"FINAL RANK"}),s.jsxs("div",{className:"text-lg sm:text-xl md:text-2xl text-terminal-green font-bold",children:["#",l.rank]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs text-gray-500 uppercase tracking-widest",children:"PNL BY GAME"}),Object.entries(l.pnlByGame).map(([W,de])=>{const ge=de;return s.jsxs("div",{className:"flex justify-between text-xs border-b border-gray-800 pb-1",children:[s.jsx("span",{children:W}),s.jsxs("span",{className:ge>=0?"text-terminal-green":"text-terminal-accent",children:[ge>=0?"+":"",ge]})]},W)})]})]}),s.jsxs("div",{className:"space-y-8 flex flex-col",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-500 border-b border-gray-800 pb-2 mb-4",children:"PNL EVOLUTION"}),s.jsx("div",{className:"w-full h-32 bg-gray-900 border border-gray-800 rounded relative overflow-hidden",children:s.jsx("svg",{width:"100%",height:"100%",viewBox:`0 0 ${je} ${oe}`,preserveAspectRatio:"none",children:s.jsx("polyline",{points:Je,fill:"none",stroke:"#00ff41",strokeWidth:"2"})})})]}),s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:[s.jsx("button",{className:`px-8 py-4 font-bold text-lg rounded transition-colors shadow-[0_0_20px_rgba(0,255,65,0.35)] ${!i||!y&&vt>0?"bg-terminal-green text-black hover:bg-green-400":"bg-gray-800 text-gray-500 cursor-not-allowed"}`,onClick:A,disabled:m||i&&(y||vt<=0),children:m?"SUBMITTING...":i?y?"REGISTERED FOR NEXT TOURNAMENT":vt<=0?"DAILY LIMIT REACHED":"JOIN NEXT TOURNAMENT":"PRESS [R] TO REGISTER"}),Lt&&s.jsx("button",{className:"px-8 py-3 font-bold text-sm rounded transition-colors border border-terminal-accent/60 text-terminal-accent bg-terminal-accent/10 hover:bg-terminal-accent/20",onClick:C,children:"ENTER TOURNAMENT"}),s.jsxs("div",{className:"text-xs text-gray-400 flex flex-col items-center gap-1",children:[ot&&s.jsxs("div",{className:"text-[10px] text-gray-500 tracking-widest text-center",children:[c,o?s.jsxs("span",{className:"text-gray-600",children:["  TX ",o]}):null]}),s.jsx("button",{onClick:M,disabled:I,className:"text-terminal-green hover:underline disabled:opacity-50",children:I?"Pairing passkey...":"Use passkey (beta)"}),O&&s.jsxs("span",{className:"text-[10px] text-terminal-green",children:["Passkey ready  ",O.credentialId.slice(0,8),"..."]}),le&&s.jsx("span",{className:"text-[10px] text-terminal-accent",children:le})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-[10px] text-gray-500 mb-1",children:"REGISTERED PLAYERS"}),s.jsxs("div",{className:"text-xs text-gray-400 flex flex-wrap justify-center gap-2 max-w-xs",children:[r.slice(0,8).map((W,de)=>s.jsx("span",{children:W.name},de)),s.jsx("span",{children:"..."})]})]})]})]})]}),s.jsxs("div",{className:"mt-8 border-t border-gray-800 pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-sm font-bold text-gray-500 tracking-widest",children:"BOT OPPONENTS"}),s.jsx("button",{className:`px-4 py-2 rounded text-xs font-bold transition-colors ${h.enabled?"bg-terminal-accent text-black":"bg-gray-800 text-gray-500 hover:bg-gray-700"}`,onClick:()=>E({...h,enabled:!h.enabled}),children:h.enabled?"BOTS ENABLED":"ENABLE BOTS"})]}),h.enabled&&s.jsxs("div",{className:"grid grid-cols-3 gap-4 bg-gray-900/50 p-4 rounded border border-gray-800",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest block mb-2",children:"NUMBER OF BOTS"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"10",max:"300",step:"10",value:h.numBots,onChange:W=>E({...h,numBots:parseInt(W.target.value)}),className:"flex-1 accent-terminal-green bg-gray-800"}),s.jsx("span",{className:"text-terminal-green font-mono w-12 text-right",children:h.numBots})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest block mb-2",children:"BET INTERVAL (SEC)"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"range",min:"1000",max:"10000",step:"1000",value:h.betIntervalMs,onChange:W=>E({...h,betIntervalMs:parseInt(W.target.value)}),className:"flex-1 accent-terminal-green bg-gray-800"}),s.jsxs("span",{className:"text-terminal-green font-mono w-12 text-right",children:[h.betIntervalMs/1e3,"s"]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] text-gray-500 uppercase tracking-widest block mb-2",children:"RANDOMIZE TIMING"}),s.jsx("button",{className:`w-full py-2 rounded text-xs font-bold transition-colors ${h.randomizeInterval?"bg-terminal-green/20 text-terminal-green border border-terminal-green":"bg-gray-800 text-gray-500 border border-gray-700"}`,onClick:()=>E({...h,randomizeInterval:!h.randomizeInterval}),children:h.randomizeInterval?"RANDOM":"FIXED"})]})]}),h.enabled&&s.jsxs("div",{className:"mt-2 text-[10px] text-gray-600 text-center",children:[h.numBots," bots will make random bets every ~",h.betIntervalMs/1e3,"s during the tournament"]})]})]})]})},bb=({card:l,small:r,forcedColor:i,dealDelayMs:c})=>{const[o,m]=R.useState(0);if(R.useEffect(()=>{m(x=>x+1)},[l==null?void 0:l.value,l==null?void 0:l.isHidden]),!l)return s.jsx("div",{className:`${r?"w-9 h-[3.25rem] sm:w-10 sm:h-14":"w-12 h-[4.5rem] sm:w-16 sm:h-24"} bg-terminal-dim border border-gray-600 rounded flex items-center justify-center`,children:s.jsx("span",{className:"text-gray-500 opacity-50 text-xs",children:"?"})});const f=R.useMemo(()=>r?"w-9 h-[3.25rem] sm:w-10 sm:h-14 text-sm":"w-12 h-[4.5rem] sm:w-16 sm:h-24 text-base sm:text-xl",[r]);if(l.isHidden)return s.jsxs("div",{style:c!==void 0?{animationDelay:`${c}ms`}:void 0,className:`${f} card-back border border-gray-700 rounded flex items-center justify-center relative overflow-hidden animate-card-deal`,children:[s.jsx("div",{className:"absolute inset-0 card-shimmer opacity-20"}),s.jsx("span",{className:"relative text-gray-500/70 text-xs tracking-[0.35em]",children:"///"})]},o);let p=l.suit===""||l.suit===""?"text-terminal-accent":"text-terminal-green";return i&&(p=i),s.jsxs("div",{style:c!==void 0?{animationDelay:`${c}ms`}:void 0,className:`${f} bg-terminal-black border border-current rounded flex flex-col items-center justify-between p-1 ${p} shadow-[0_0_10px_rgba(0,0,0,0.5)] animate-card-deal ${l.isHeld?"ring-2 ring-[rgba(0,255,65,0.35)]":""}`,children:[s.jsx("div",{className:"self-start leading-none font-bold",children:l.rank||"?"}),s.jsx("div",{className:`${r?"text-lg":"text-xl sm:text-2xl"} leading-none`,children:l.suit||"?"}),s.jsx("div",{className:"self-end leading-none rotate-180 font-bold",children:l.rank||"?"})]},o)},Wt=({cards:l,title:r,forcedColor:i})=>s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[r&&s.jsx("span",{className:`text-xs uppercase tracking-widest ${i||"text-gray-500"}`,children:r}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-1 sm:gap-2",children:[l.map((c,o)=>s.jsx(bb,{card:c,forcedColor:i,dealDelayMs:o*45},`${o}-${(c==null?void 0:c.value)??"x"}-${c!=null&&c.isHidden?1:0}`)),l.length===0&&s.jsx("div",{className:`w-12 h-[4.5rem] sm:w-16 sm:h-24 border border-dashed rounded ${i?`border-${i.replace("text-","")}`:"border-gray-800"}`})]})]}),Sm=({value:l,delayMs:r})=>{const[i,c]=R.useState(0);return R.useEffect(()=>{c(o=>o+1)},[l]),s.jsx("div",{style:r!==void 0?{animationDelay:`${r}ms`}:void 0,className:"w-14 h-14 sm:w-16 sm:h-16 bg-terminal-black border border-terminal-green rounded flex items-center justify-center shadow-[0_0_12px_rgba(0,0,0,0.6)] animate-dice-roll",children:s.jsx("span",{className:"text-2xl sm:text-3xl font-black text-terminal-green tabular-nums",children:l})},i)},el=({label:l,title:r,children:i,className:c})=>{const[o,m]=R.useState(!1);return R.useEffect(()=>{if(!o)return;const f=v=>{v.key==="Escape"&&m(!1)};return window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)},[o]),s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",onClick:()=>m(!0),className:`md:hidden text-[10px] tracking-widest px-2 py-1 rounded border border-gray-700 bg-black/40 text-gray-300 hover:border-gray-500 ${c??""}`,children:l}),o&&s.jsxs("div",{className:"fixed inset-0 z-[100] md:hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:()=>m(!1)}),s.jsxs("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[90%] max-w-sm max-h-[80vh] bg-terminal-black border-2 border-gray-700 rounded-xl shadow-2xl overflow-hidden flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b border-gray-800 bg-terminal-black/90",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:r}),s.jsx("button",{type:"button",onClick:()=>m(!1),className:"text-[10px] px-2 py-1 rounded border border-gray-700 bg-black/40 text-gray-400 hover:border-gray-500",children:"ESC"})]}),s.jsx("div",{className:"p-3 overflow-y-auto",children:i})]})]})]})},Ga=({children:l,primaryAction:r,secondaryActions:i=[],className:c="",variant:o="row",ariaLabel:m="Game controls",mobileMenuLabel:f="BETS"})=>{const[v,p]=R.useState(!1),x="ns-controlbar fixed bottom-0 left-0 right-0 sm:sticky sm:bottom-0 bg-terminal-black/95 backdrop-blur border-t-2 border-gray-700 z-50 pb-[env(safe-area-inset-bottom)] sm:pb-0",b=o==="stack"?"p-2":"h-16 sm:h-20 flex items-center justify-between sm:justify-center gap-2 p-2 sm:px-4";if(!r&&i.length===0)return s.jsx("div",{role:"group","aria-label":m,className:[x,b,c].filter(Boolean).join(" "),children:l});const y=i.length>0,N=i.length>3;return s.jsxs("div",{role:"group","aria-label":m,className:[x,b,c].filter(Boolean).join(" "),children:[s.jsxs("div",{className:"flex sm:hidden flex-1 justify-start gap-2",children:[l," ",y&&(N?s.jsx("button",{type:"button",onClick:()=>p(!0),className:"h-12 px-4 border border-gray-600 rounded bg-gray-900 text-gray-300 font-bold text-xs tracking-widest hover:bg-gray-800",children:f}):i.map((A,C)=>s.jsx("button",{type:"button",onClick:A.onClick,disabled:A.disabled,className:`h-12 px-3 border rounded text-xs font-bold tracking-widest ${A.active?"border-terminal-green bg-terminal-green/20 text-terminal-green":"border-gray-700 bg-gray-900 text-gray-400"} ${A.disabled?"opacity-50 cursor-not-allowed":"hover:bg-gray-800"} ${A.className||""}`,children:A.label},C)))]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-4",children:[l,i.map((A,C)=>s.jsx("button",{type:"button",onClick:A.onClick,disabled:A.disabled,className:`h-12 px-4 border rounded text-sm font-bold tracking-widest transition-all ${A.active?"border-terminal-green bg-terminal-green/20 text-terminal-green shadow-[0_0_10px_rgba(74,222,128,0.2)]":"border-gray-700 bg-gray-900 text-gray-400 hover:border-gray-500 hover:text-white"} ${A.disabled?"opacity-50 cursor-not-allowed":""} ${A.className||""}`,children:A.label},C))]}),r&&s.jsx("button",{type:"button",onClick:r.onClick,disabled:r.disabled,className:`h-12 sm:h-14 px-6 sm:px-8 rounded border-2 font-bold text-sm sm:text-base tracking-widest uppercase transition-all shadow-[0_0_15px_rgba(0,0,0,0.5)] ${r.disabled?"border-gray-800 bg-gray-900 text-gray-600 cursor-not-allowed":"border-terminal-green bg-terminal-green text-black hover:bg-white hover:border-white hover:scale-105 active:scale-95"} ${r.className||""}`,children:r.label}),y&&N&&s.jsx("div",{className:`fixed inset-0 z-[60] bg-black/80 backdrop-blur-sm transition-opacity duration-200 ${v?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onClick:()=>p(!1),children:s.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-terminal-black border-t-2 border-terminal-green p-4 pb-8 transition-transform duration-300 ${v?"translate-y-0":"translate-y-full"}`,onClick:A=>A.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-800 pb-2",children:[s.jsx("span",{className:"text-sm font-bold text-terminal-green tracking-widest",children:f}),s.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-white px-2",children:"[CLOSE]"})]}),s.jsx("div",{className:"grid grid-cols-2 gap-3 max-h-[60vh] overflow-y-auto",children:i.map((A,C)=>s.jsx("button",{type:"button",onClick:()=>{A.onClick()},disabled:A.disabled,className:`h-14 border rounded flex flex-col items-center justify-center gap-1 ${A.active?"border-terminal-green bg-terminal-green/10 text-terminal-green":"border-gray-700 bg-gray-900 text-gray-300 hover:bg-gray-800"} ${A.disabled?"opacity-50 cursor-not-allowed":""}`,children:s.jsx("span",{className:"font-bold text-xs tracking-widest",children:A.label})},C))})]})})]})},Eb=Ot.memo(({gameState:l,actions:r,lastWin:i,playMode:c})=>{var A,C;const o=R.useMemo(()=>Ss(l.dealerCards),[l.dealerCards]),m=R.useMemo(()=>Ss(l.playerCards),[l.playerCards]),f=R.useMemo(()=>l.stage!=="PLAYING"?!1:(l.message??"").toString().toUpperCase().includes("INSURANCE"),[l.message,l.stage]),v=l.stage==="PLAYING"&&!f&&m<21,p=l.stage==="PLAYING"&&!f&&l.playerCards.length>0,x=l.stage==="PLAYING"&&!f&&l.playerCards.length===2,b=l.stage==="PLAYING"&&!f&&l.playerCards.length===2&&((A=l.playerCards[0])==null?void 0:A.rank)===((C=l.playerCards[1])==null?void 0:C.rank),y=l.completedHands.length+1,N=(h,E)=>{const O=typeof(E==null?void 0:E.bet)=="number"?E.bet:0,M=typeof(E==null?void 0:E.result)=="number"?E.result:null,I=E!=null&&E.surrendered?"SURRENDER":E!=null&&E.message?String(E.message).toUpperCase():M===null?"DONE":M>0?`+${M}`:M<0?`-${Math.abs(M)}`:"PUSH";return`HAND ${h+1}  $${O}  ${I}`};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"BLACKJACK"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"BLACKJACK",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-[11px] text-gray-300 leading-relaxed",children:"Get as close to 21 as possible without going over. Dealer stands on 17."}),s.jsx("div",{className:"text-[10px] text-gray-600 leading-relaxed",children:"Controls: HIT (H), STAND (S), DOUBLE (D), SPLIT (P). Insurance is local-mode only."})]})})}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex items-center justify-center opacity-75",children:l.dealerCards.length>0?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-bold tracking-widest text-white",children:["DEALER ",s.jsxs("span",{className:"text-white",children:["(",o,")"]})]}),s.jsx(Wt,{cards:l.dealerCards,forcedColor:"text-terminal-accent"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-sm font-bold tracking-widest text-white",children:"DEALER"}),s.jsx("div",{className:"w-16 h-24 border border-dashed border-terminal-accent rounded"})]})}),s.jsx("div",{className:"text-center space-y-3 relative z-20",children:s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,i&&i>0?` (+$${i})`:""]})}),s.jsxs("div",{className:"min-h-[96px] sm:min-h-[120px] flex gap-8 items-center justify-center",children:[l.completedHands.length>0&&s.jsx("div",{className:"flex gap-2 opacity-50 scale-75 origin-right",children:l.completedHands.map((h,E)=>s.jsx(Wt,{cards:h.cards,title:N(E,h),forcedColor:(h==null?void 0:h.result)<0?"text-terminal-accent":"text-terminal-green"},E))}),s.jsxs("div",{className:"flex flex-col items-center gap-2 scale-110 transition-transform",children:[s.jsxs("span",{className:"text-sm font-bold tracking-widest text-white",children:["YOU ",s.jsxs("span",{className:"text-white",children:["(",m,")"]}),l.completedHands.length>0||l.blackjackStack.length>0?s.jsxs("span",{className:"text-gray-500 text-xs",children:["  HAND ",y]}):null]}),l.playerCards.length>0?s.jsx(Wt,{cards:l.playerCards,forcedColor:"text-terminal-green"}):s.jsx("div",{className:"w-16 h-24 border border-dashed border-terminal-green/50 rounded"})]}),l.blackjackStack.length>0&&s.jsx("div",{className:"flex gap-2 opacity-50 scale-75 origin-left",children:l.blackjackStack.map((h,E)=>s.jsx("div",{className:"w-12 h-16 bg-terminal-dim border border-gray-700 rounded flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-gray-500",children:"WAIT"})},E))})]})]}),s.jsx(Ga,{primaryAction:l.stage==="BETTING"||l.stage==="RESULT"?{label:"DEAL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"}:f?{label:"INSURE",onClick:()=>{var h;return(h=r==null?void 0:r.bjInsurance)==null?void 0:h.call(r,!0)},className:"border-terminal-gold bg-terminal-gold text-black hover:bg-white"}:{label:"HIT",onClick:r==null?void 0:r.bjHit,disabled:!v,className:v?"":"opacity-50 cursor-not-allowed"},secondaryActions:l.stage==="BETTING"||l.stage==="RESULT"?[...l.stage==="BETTING"?[{label:`21+3${(l.blackjack21Plus3Bet||0)>0?` $${l.blackjack21Plus3Bet}`:""}`,onClick:r==null?void 0:r.bjToggle21Plus3,active:(l.blackjack21Plus3Bet||0)>0}]:[],...c!=="CASH"?[{label:"SHIELD",onClick:r==null?void 0:r.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:r==null?void 0:r.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:r==null?void 0:r.toggleSuper,active:l.activeModifiers.super}]:f?[{label:"NO",onClick:()=>{var h;return(h=r==null?void 0:r.bjInsurance)==null?void 0:h.call(r,!1)}}]:[{label:"STAND",onClick:r==null?void 0:r.bjStand,disabled:!p},{label:"DOUBLE",onClick:r==null?void 0:r.bjDouble,disabled:!x},{label:"SPLIT",onClick:r==null?void 0:r.bjSplit,disabled:!b}]})]})}),vb=Ot.memo(({gameState:l,actions:r,lastWin:i,playMode:c})=>{const o=R.useMemo(()=>l.dice.length===2?l.dice[0]+l.dice[1]:null,[l.dice]),m=R.useMemo(()=>l.crapsBets.map((y,N)=>({...y,originalIndex:N})).filter(y=>(y.type==="COME"||y.type==="DONT_COME")&&y.status==="ON"&&y.target),[l.crapsBets]),f=R.useMemo(()=>{const y=l.crapsBets.some(A=>A.type==="PASS"),N=l.crapsBets.some(A=>A.type==="DONT_PASS");return y?"border-terminal-green text-terminal-green":N?"border-terminal-accent text-terminal-accent":"border-gray-700 text-gray-700"},[l.crapsBets]),v=R.useMemo(()=>!l.crapsEpochPointEstablished&&(o===null||o===7),[l.crapsEpochPointEstablished,o]),p=R.useMemo(()=>({small:l.crapsBets.some(y=>y.type==="ATS_SMALL"),tall:l.crapsBets.some(y=>y.type==="ATS_TALL"),all:l.crapsBets.some(y=>y.type==="ATS_ALL")}),[l.crapsBets]),x=R.useMemo(()=>new Set(l.crapsBets.map(y=>y.type)),[l.crapsBets]),b=()=>{var y;return(y=r==null?void 0:r.setGameState)==null?void 0:y.call(r,N=>({...N,crapsInputMode:"NONE"}))};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-6 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"CRAPS"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"CRAPS",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Exposure"}),s.jsx("div",{className:"flex flex-col space-y-1",children:(()=>{const y=[4,6,8,10],N=l.crapsBets.filter(C=>C.type==="HARDWAY").map(C=>C.target),A=[];return[2,3,4,5,6,7,8,9,10,11,12].forEach(C=>{y.includes(C)&&N.includes(C)?(A.push({num:C,label:`${C}H`,isHard:!0}),A.push({num:C,label:`${C}E`,isHard:!1})):A.push({num:C,label:C.toString()})}),A.map((C,h)=>{const E=C.isHard!==void 0?qi(C.num,l.crapsPoint,l.crapsBets,C.isHard):qi(C.num,l.crapsPoint,l.crapsBets),O=Math.round(E),M=C.num===o;return s.jsxs("div",{className:"flex items-center h-6 text-sm",children:[s.jsx("div",{className:"flex-1 flex justify-end items-center pr-2",children:O<0&&s.jsxs("span",{className:"text-terminal-accent font-mono text-[10px]",children:["-",Math.abs(O).toLocaleString()]})}),s.jsx("div",{className:`w-9 text-center font-bold ${M?"text-yellow-400 bg-yellow-400/20 rounded":C.num===7?"text-terminal-accent":C.isHard===!0?"text-terminal-gold":C.isHard===!1?"text-gray-400":"text-white"}`,children:C.label}),s.jsx("div",{className:"flex-1 flex justify-start items-center pl-2",children:O>0&&s.jsxs("span",{className:"text-terminal-green font-mono text-[10px]",children:["+",O.toLocaleString()]})})]},h)})})()})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Table Bets"}),s.jsx("div",{className:"flex flex-col space-y-1",children:l.crapsBets.length>0?l.crapsBets.map((y,N)=>{var h;const A=(h=l.crapsOddsCandidates)==null?void 0:h.indexOf(N),C=A!==void 0&&A!==-1;return s.jsxs("div",{onClick:()=>{var E,O;return C?(E=r==null?void 0:r.addCrapsOdds)==null?void 0:E.call(r,A):(O=r==null?void 0:r.placeCrapsBet)==null?void 0:O.call(r,y.type,y.target)},className:`flex justify-between items-center text-xs border p-1 rounded cursor-pointer transition-colors ${C?"border-terminal-gold bg-terminal-gold/10":"border-gray-800 bg-black/50 hover:bg-gray-800"}`,children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:`font-bold text-[10px] ${C?"text-terminal-gold":"text-terminal-green"}`,children:[C?`[${A+1}] `:"",y.type,y.target!==void 0?` ${y.target}`:""]}),s.jsx("span",{className:"text-[9px] text-gray-500",children:y.status==="PENDING"?"WAIT":"ON"})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("div",{className:"text-white text-[10px]",children:["$",y.amount]}),y.oddsAmount&&s.jsxs("div",{className:"text-[9px] text-terminal-gold",children:["+$",y.oddsAmount]})]})]},N)}):s.jsx("div",{className:"text-center text-[10px] text-gray-700 italic",children:"NO BETS"})})]})]})})}),m.length>0&&s.jsx("div",{className:"flex items-center justify-center gap-4",children:m.map((y,N)=>{var h;const A=(h=l.crapsOddsCandidates)==null?void 0:h.indexOf(y.originalIndex),C=A!==void 0&&A!==-1;return s.jsxs("div",{onClick:()=>{var E,O;return C?(E=r==null?void 0:r.addCrapsOdds)==null?void 0:E.call(r,A):(O=r==null?void 0:r.placeCrapsBet)==null?void 0:O.call(r,y.type,y.target)},className:"flex flex-col items-center gap-1 cursor-pointer hover:scale-105 transition-transform",children:[s.jsxs("span",{className:`text-[10px] uppercase tracking-widest ${C?"text-terminal-gold font-bold":y.type==="COME"?"text-terminal-green":"text-terminal-accent"}`,children:[C?`[${A+1}] `:"",y.type==="COME"?"COME":"DON'T"]}),s.jsx("div",{className:`w-12 h-12 border-2 flex items-center justify-center text-lg font-bold rounded-full shadow-[0_0_10px_rgba(0,0,0,0.5)] ${C?"border-terminal-gold text-terminal-gold bg-terminal-gold/10":y.type==="COME"?"border-terminal-green text-terminal-green":"border-terminal-accent text-terminal-accent"}`,children:y.target}),s.jsxs("span",{className:"text-[9px] text-gray-500",children:["$",y.amount+(y.oddsAmount||0)]})]},N)})}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500",children:"POINT"}),s.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 border-2 flex items-center justify-center text-xl sm:text-2xl font-bold rounded-full shadow-[0_0_15px_rgba(0,0,0,0.5)] ${l.crapsPoint?f:"border-gray-700 text-gray-700"}`,children:l.crapsPoint||"OFF"})]}),s.jsxs("div",{className:"text-center space-y-3 relative z-20",children:[s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,i&&i>0?` (+$${i})`:""]}),l.crapsRollHistory.length>0&&s.jsxs("div",{className:"text-[10px] tracking-widest mt-1 flex items-center justify-center gap-1",children:[s.jsx("span",{className:"text-gray-600",children:"LAST:"}),l.crapsRollHistory.slice(-10).map((y,N,A)=>s.jsxs("span",{className:`${N===A.length-1?"text-yellow-400 font-bold":y===7?"text-terminal-accent":"text-gray-600"}`,children:[y,N<A.length-1?" -":""]},N))]})]}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex gap-8 items-center justify-center",children:l.dice.length>0&&s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[s.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500",children:"ROLL"}),s.jsx("div",{className:"flex gap-4",children:l.dice.map((y,N)=>s.jsx(Sm,{value:y,delayMs:N*60},N))})]})}),s.jsxs("div",{className:"w-full mt-4 p-2 border-t border-gray-800 bg-gray-900/20 sm:hidden",children:[s.jsxs("div",{className:"flex justify-between items-center mb-2",children:[s.jsx("span",{className:"text-[10px] text-gray-500 tracking-widest uppercase",children:"ACTIVE BETS"}),s.jsx("span",{className:"text-[10px] text-gray-500 tracking-widest uppercase",children:"LOG"})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("div",{className:"h-8 flex items-center justify-center border border-gray-800 rounded bg-black/40 px-2 overflow-hidden",children:s.jsxs("span",{className:"text-xs text-terminal-gold truncate font-bold animate-pulse",children:[l.message,i&&i>0?` (+$${i})`:""]})}),l.crapsBets.length>0?s.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 scrollbar-thin",children:l.crapsBets.map((y,N)=>s.jsxs("div",{onClick:()=>{var A;return(A=r==null?void 0:r.placeCrapsBet)==null?void 0:A.call(r,y.type,y.target)},className:"flex-none flex flex-col items-center border border-gray-800 bg-black/50 p-1 rounded min-w-[60px] cursor-pointer hover:bg-gray-800 transition-colors",children:[s.jsx("span",{className:"text-[9px] text-terminal-green font-bold",children:y.type}),s.jsxs("span",{className:"text-[9px] text-white",children:["$",y.amount+(y.oddsAmount||0)]}),y.target!==void 0&&s.jsx("span",{className:"text-[8px] text-gray-500",children:y.target})]},N))}):s.jsx("div",{className:"text-center text-[10px] text-gray-700 italic py-1",children:"NO ACTIVE BETS"})]})]})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 left-0 bottom-24 w-48 bg-terminal-black/80 border-r-2 border-gray-700 p-2 overflow-y-auto backdrop-blur-sm z-30 flex-col",children:[s.jsx("h3",{className:"text-[10px] font-bold text-gray-500 mb-2 tracking-widest text-center border-b border-gray-800 pb-1 flex-none",children:"EXPOSURE"}),s.jsx("div",{className:"flex-1 flex flex-col justify-center space-y-1",children:(()=>{const y=[4,6,8,10],N=l.crapsBets.filter(C=>C.type==="HARDWAY").map(C=>C.target),A=[];return[2,3,4,5,6,7,8,9,10,11,12].forEach(C=>{y.includes(C)&&N.includes(C)?(A.push({num:C,label:`${C}H`,isHard:!0}),A.push({num:C,label:`${C}E`,isHard:!1})):A.push({num:C,label:C.toString()})}),A.map((C,h)=>{const E=C.isHard!==void 0?qi(C.num,l.crapsPoint,l.crapsBets,C.isHard):qi(C.num,l.crapsPoint,l.crapsBets),O=Math.round(E),M=C.num===o;return s.jsxs("div",{className:"flex items-center h-7 text-base",children:[s.jsx("div",{className:"flex-1 flex justify-end items-center pr-2",children:O<0&&s.jsxs("span",{className:"text-terminal-accent font-mono text-sm",children:["-",Math.abs(O).toLocaleString()]})}),s.jsx("div",{className:`w-10 text-center font-bold relative ${M?"text-yellow-400 bg-yellow-400/20 rounded":C.num===7?"text-terminal-accent":C.isHard===!0?"text-terminal-gold":C.isHard===!1?"text-gray-400":"text-white"}`,children:C.label}),s.jsx("div",{className:"flex-1 flex justify-start items-center pl-2",children:O>0&&s.jsxs("span",{className:"text-terminal-green font-mono text-sm",children:["+",O.toLocaleString()]})})]},h)})})()})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 right-0 bottom-24 w-36 bg-terminal-black/80 border-l-2 border-gray-700 p-2 backdrop-blur-sm z-30 flex-col",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 flex-none text-center",children:"Table Bets"}),s.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col justify-center space-y-1",children:l.crapsBets.length>0?l.crapsBets.map((y,N)=>{var h;const A=(h=l.crapsOddsCandidates)==null?void 0:h.indexOf(N),C=A!==void 0&&A!==-1;return s.jsxs("div",{onClick:()=>{var E,O;return C?(E=r==null?void 0:r.addCrapsOdds)==null?void 0:E.call(r,A):(O=r==null?void 0:r.placeCrapsBet)==null?void 0:O.call(r,y.type,y.target)},className:`flex justify-between items-center text-xs border border-gray-800 p-1 rounded bg-black/50 cursor-pointer hover:bg-gray-800 transition-colors ${C?"border-terminal-gold bg-terminal-gold/10":""}`,children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsxs("span",{className:`font-bold text-[10px] ${C?"text-terminal-gold":"text-terminal-green"}`,children:[C?`[${A+1}] `:"",y.type,y.target!==void 0?` ${y.target}`:""]}),s.jsx("span",{className:"text-[9px] text-gray-500",children:y.status==="PENDING"?"WAIT":"ON"})]}),s.jsx("div",{className:"text-right",children:s.jsxs("div",{className:"text-white text-[10px]",children:["$",y.amount+(y.oddsAmount||0)]})})]},N)}):s.jsx("div",{className:"text-center text-[10px] text-gray-700 italic",children:"NO BETS"})})]}),s.jsx(Ga,{primaryAction:{label:"ROLL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"},secondaryActions:[{label:l.crapsPoint?"COME":"PASS",onClick:()=>{var y;return(y=r==null?void 0:r.placeCrapsBet)==null?void 0:y.call(r,l.crapsPoint?"COME":"PASS")},active:x.has("PASS")||x.has("COME")},{label:l.crapsPoint?"DON'T COME":"DON'T PASS",onClick:()=>{var y;return(y=r==null?void 0:r.placeCrapsBet)==null?void 0:y.call(r,l.crapsPoint?"DONT_COME":"DONT_PASS")},active:x.has("DONT_PASS")||x.has("DONT_COME")},{label:"FIELD",onClick:()=>{var y;return(y=r==null?void 0:r.placeCrapsBet)==null?void 0:y.call(r,"FIELD")},active:x.has("FIELD")},{label:"ODDS",onClick:()=>{var y;return(y=r==null?void 0:r.addCrapsOdds)==null?void 0:y.call(r)}},{label:"FIRE",onClick:()=>{var y;return(y=r==null?void 0:r.placeCrapsBet)==null?void 0:y.call(r,"FIRE")},active:x.has("FIRE")},...v?[{label:"ATS S",onClick:()=>{var y;return(y=r==null?void 0:r.placeCrapsBet)==null?void 0:y.call(r,"ATS_SMALL")},active:p.small},{label:"ATS T",onClick:()=>{var y;return(y=r==null?void 0:r.placeCrapsBet)==null?void 0:y.call(r,"ATS_TALL")},active:p.tall},{label:"ATS A",onClick:()=>{var y;return(y=r==null?void 0:r.placeCrapsBet)==null?void 0:y.call(r,"ATS_ALL")},active:p.all}]:[],{label:"HARD",onClick:()=>{var y;return(y=r==null?void 0:r.setGameState)==null?void 0:y.call(r,N=>({...N,crapsInputMode:"HARDWAY"}))},active:l.crapsInputMode==="HARDWAY"||x.has("HARDWAY")},{label:"BUY",onClick:()=>{var y;return(y=r==null?void 0:r.setGameState)==null?void 0:y.call(r,N=>({...N,crapsInputMode:"BUY"}))},active:l.crapsInputMode==="BUY"||x.has("BUY")},{label:"YES",onClick:()=>{var y;return(y=r==null?void 0:r.setGameState)==null?void 0:y.call(r,N=>({...N,crapsInputMode:"YES"}))},active:l.crapsInputMode==="YES"||x.has("YES")},{label:"NO",onClick:()=>{var y;return(y=r==null?void 0:r.setGameState)==null?void 0:y.call(r,N=>({...N,crapsInputMode:"NO"}))},active:l.crapsInputMode==="NO"||x.has("NO")},{label:"NEXT",onClick:()=>{var y;return(y=r==null?void 0:r.setGameState)==null?void 0:y.call(r,N=>({...N,crapsInputMode:"NEXT"}))},active:l.crapsInputMode==="NEXT"||x.has("NEXT")},{label:"REBET",onClick:r==null?void 0:r.rebetCraps},{label:"UNDO",onClick:r==null?void 0:r.undoCrapsBet},...c!=="CASH"?[{label:"SHIELD",onClick:r==null?void 0:r.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:r==null?void 0:r.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:r==null?void 0:r.toggleSuper,active:l.activeModifiers.super}]}),l.crapsInputMode!=="NONE"&&s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:b,children:s.jsxs("div",{className:"bg-terminal-black border border-terminal-green p-4 sm:p-6 rounded-lg shadow-xl flex flex-col items-center gap-4 w-full max-w-lg",onClick:y=>y.stopPropagation(),children:[s.jsxs("div",{className:"text-sm tracking-widest text-gray-400 uppercase",children:["SELECT ",l.crapsInputMode," NUMBER"]}),s.jsx("div",{className:"grid grid-cols-4 gap-3",children:(()=>{let y=[];const N=(A,C)=>{if(A==="NEXT"){if(C===2||C===12)return"35x";if(C===3||C===11)return"17x";if(C===4||C===10)return"11x";if(C===5||C===9)return"8x";if(C===6||C===8)return"6.2x";if(C===7)return"5x"}else if(A==="YES"){if(C===4||C===10)return"2.0x";if(C===5||C===9)return"1.5x";if(C===6||C===8)return"1.2x"}else if(A==="NO"){if(C===4||C===10)return"0.5x";if(C===5||C===9)return"0.7x";if(C===6||C===8)return"0.8x"}return""};return l.crapsInputMode==="YES"||l.crapsInputMode==="NO"||l.crapsInputMode==="BUY"?[4,5,6,8,9,10].forEach(A=>{y.push({num:A,label:A.toString(),payout:N(l.crapsInputMode,A)})}):l.crapsInputMode==="NEXT"?[2,3,4,5,6,7,8,9,10,11,12].forEach(A=>{y.push({num:A,label:A===10?"0":A===11?"-":A===12?"=":A.toString(),payout:N("NEXT",A)})}):l.crapsInputMode==="HARDWAY"&&(y=[4,6,8,10].map(A=>({num:A,label:A===10?"0":A.toString(),payout:A===4||A===10?"7x":"9x"}))),y.map(A=>A.num===7?s.jsxs("button",{type:"button",onClick:()=>{var C;return(C=r==null?void 0:r.placeCrapsBet)==null?void 0:C.call(r,l.crapsInputMode,A.num)},className:"flex flex-col items-center gap-1",children:[s.jsxs("div",{className:"w-12 h-12 flex items-center justify-center border border-terminal-accent rounded bg-gray-900 text-terminal-accent font-bold text-lg relative",children:["7",s.jsx("span",{className:"absolute bottom-0.5 text-[8px] text-terminal-gold",children:A.payout})]}),s.jsx("div",{className:"text-[10px] text-gray-500 bg-gray-800 px-1 rounded uppercase",children:"KEY 7"})]},A.num):s.jsxs("button",{type:"button",onClick:()=>{var C;return(C=r==null?void 0:r.placeCrapsBet)==null?void 0:C.call(r,l.crapsInputMode,A.num)},className:"flex flex-col items-center gap-1",children:[s.jsxs("div",{className:"w-12 h-12 flex items-center justify-center border border-gray-700 rounded bg-gray-900 text-white font-bold text-lg relative",children:[A.num,A.payout&&s.jsxs("span",{className:"absolute bottom-0.5 text-[8px] text-terminal-gold",children:["(",A.payout,")"]})]}),s.jsxs("div",{className:"text-[10px] text-gray-500 bg-gray-800 px-1 rounded uppercase",children:["KEY ",A.label]})]},A.num))})()}),s.jsx("div",{className:"text-xs text-gray-500 mt-2 text-center",children:"Tap outside to cancel. Keyboard: [ESC] CANCEL"})]})})]})}),Nb=Ot.memo(({gameState:l,actions:r,lastWin:i,playMode:c})=>{var A,C;const o=R.useMemo(()=>[{type:l.baccaratSelection,amount:l.bet},...l.baccaratBets],[l.baccaratSelection,l.bet,l.baccaratBets]),m=R.useMemo(()=>l.baccaratSelection==="PLAYER",[l.baccaratSelection]),f=R.useMemo(()=>l.baccaratSelection==="BANKER",[l.baccaratSelection]),v=R.useMemo(()=>Ji(l.playerCards),[l.playerCards]),p=R.useMemo(()=>Ji(l.dealerCards),[l.dealerCards]);R.useMemo(()=>l.baccaratBets.some(h=>h.type==="TIE"),[l.baccaratBets]),R.useMemo(()=>l.baccaratBets.some(h=>h.type==="P_PAIR"),[l.baccaratBets]),R.useMemo(()=>l.baccaratBets.some(h=>h.type==="B_PAIR"),[l.baccaratBets]),R.useMemo(()=>l.baccaratBets.some(h=>h.type==="LUCKY6"),[l.baccaratBets]);const x=R.useMemo(()=>{const h=E=>{var O;return((O=l.baccaratBets.find(M=>M.type===E))==null?void 0:O.amount)??0};return{TIE:h("TIE"),P_PAIR:h("P_PAIR"),B_PAIR:h("B_PAIR"),LUCKY6:h("LUCKY6"),P_DRAGON:h("P_DRAGON"),B_DRAGON:h("B_DRAGON"),PANDA8:h("PANDA8"),P_PERFECT_PAIR:h("P_PERFECT_PAIR"),B_PERFECT_PAIR:h("B_PERFECT_PAIR")}},[l.baccaratBets]);R.useMemo(()=>o.reduce((h,E)=>h+(Number.isFinite(E.amount)?E.amount:0),0),[o]);const b=m?"text-terminal-green":"text-terminal-accent",y=f?"text-terminal-green":"text-terminal-accent",N=h=>{if(l.stage!=="RESULT")return"border-gray-800 bg-black/40";const E=v,O=p,M=Math.abs(E-O),I=E>=8,le=O>=8;let Q=!1;return h==="PLAYER"?Q=E>O:h==="BANKER"?Q=O>E:h==="TIE"?Q=E===O:h==="P_PAIR"?Q=l.playerCards.length>=2&&l.playerCards[0].rank===l.playerCards[1].rank:h==="B_PAIR"?Q=l.dealerCards.length>=2&&l.dealerCards[0].rank===l.dealerCards[1].rank:h==="LUCKY6"?Q=O===6&&O>E:h==="P_DRAGON"?Q=E>O&&(I||M>=4):h==="B_DRAGON"?Q=O>E&&(le||M>=4):h==="PANDA8"?Q=E>O&&E===8&&l.playerCards.length===3:h==="P_PERFECT_PAIR"?Q=l.playerCards.length>=2&&l.playerCards[0].rank===l.playerCards[1].rank&&l.playerCards[0].suit===l.playerCards[1].suit:h==="B_PERFECT_PAIR"&&(Q=l.dealerCards.length>=2&&l.dealerCards[0].rank===l.dealerCards[1].rank&&l.dealerCards[0].suit===l.dealerCards[1].suit),Q?"border-terminal-green text-terminal-green shadow-[0_0_10px_rgba(74,222,128,0.5)] animate-pulse bg-terminal-green/10":"border-gray-800 bg-black/40 text-gray-500"};return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"BACCARAT"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"BETS",title:"BACCARAT BETS",children:s.jsx("div",{className:"space-y-2",children:o.map((h,E)=>s.jsxs("div",{className:`flex justify-between items-center text-xs border p-2 rounded bg-black/40 ${E===0?"border-terminal-green/30":"border-gray-800"}`,children:[s.jsx("span",{className:`font-bold text-[10px] ${h.type==="PLAYER"||h.type==="BANKER"?"text-terminal-green":"text-gray-400"}`,children:h.type}),s.jsxs("div",{className:"text-white text-[10px]",children:["$",h.amount]})]},E))})})}),s.jsx("div",{className:`min-h-[96px] sm:min-h-[120px] flex items-center justify-center transition-all duration-300 ${f?"scale-110 opacity-100":"scale-90 opacity-75"}`,children:l.dealerCards.length>0?s.jsx(Wt,{cards:l.dealerCards,title:`BANKER (${p})`,forcedColor:y}):s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[s.jsx("span",{className:`text-xl sm:text-2xl font-bold tracking-widest ${y}`,children:"BANKER"}),s.jsx("div",{className:`w-16 h-24 border border-dashed rounded flex items-center justify-center ${y.replace("text-","border-")}`,children:"?"})]})}),s.jsxs("div",{className:"text-center space-y-2 relative z-20 py-2 sm:py-4",children:[s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,i&&i>0?` (+$${i})`:""]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-[11px]",children:[s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N(l.baccaratSelection)}`,children:[s.jsx("span",{className:l.stage==="RESULT"&&N(l.baccaratSelection).includes("text-terminal-green")?"text-terminal-green":"text-white",children:l.baccaratSelection})," $",l.bet.toLocaleString()]}),x.TIE>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("TIE")}`,children:["TIE $",x.TIE.toLocaleString()]}),x.P_PAIR>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("P_PAIR")}`,children:["P.PAIR $",x.P_PAIR.toLocaleString()]}),x.B_PAIR>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("B_PAIR")}`,children:["B.PAIR $",x.B_PAIR.toLocaleString()]}),x.LUCKY6>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("LUCKY6")}`,children:["LUCKY6 $",x.LUCKY6.toLocaleString()]}),x.P_DRAGON>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("P_DRAGON")}`,children:["P.DRAGON $",x.P_DRAGON.toLocaleString()]}),x.B_DRAGON>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("B_DRAGON")}`,children:["B.DRAGON $",x.B_DRAGON.toLocaleString()]}),x.PANDA8>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("PANDA8")}`,children:["PANDA8 $",x.PANDA8.toLocaleString()]}),x.P_PERFECT_PAIR>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("P_PERFECT_PAIR")}`,children:["P.PP $",x.P_PERFECT_PAIR.toLocaleString()]}),x.B_PERFECT_PAIR>0&&s.jsxs("span",{className:`px-2 py-0.5 rounded border transition-all ${N("B_PERFECT_PAIR")}`,children:["B.PP $",x.B_PERFECT_PAIR.toLocaleString()]})]})]}),s.jsx("div",{className:`min-h-[96px] sm:min-h-[120px] flex gap-8 items-center justify-center transition-all duration-300 ${m?"scale-110 opacity-100":"scale-90 opacity-75"}`,children:l.playerCards.length>0?s.jsx(Wt,{cards:l.playerCards,title:`PLAYER (${v})`,forcedColor:b}):s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[s.jsx("span",{className:`text-xl sm:text-2xl font-bold tracking-widest ${b}`,children:"PLAYER"}),s.jsx("div",{className:`w-16 h-24 border border-dashed rounded flex items-center justify-center ${b.replace("text-","border-")}`,children:"?"})]})})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 right-0 bottom-24 w-40 bg-terminal-black/80 border-l-2 border-gray-700 p-2 backdrop-blur-sm z-30 flex-col",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 flex-none text-center",children:"Bets"}),s.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col justify-center space-y-1",children:o.map((h,E)=>s.jsxs("div",{onClick:()=>{var O,M;return h.type!=="PLAYER"&&h.type!=="BANKER"?(M=(O=r==null?void 0:r.baccaratActions)==null?void 0:O.placeBet)==null?void 0:M.call(O,h.type):void 0},className:`flex justify-between items-center text-xs border p-1 rounded bg-black/50 ${E===0?"border-terminal-green/30":"border-gray-800"} ${h.type!=="PLAYER"&&h.type!=="BANKER"?"cursor-pointer hover:bg-gray-800 transition-colors":""}`,children:[s.jsx("span",{className:`font-bold text-[10px] ${h.type==="PLAYER"||h.type==="BANKER"?"text-terminal-green":"text-gray-400"}`,children:h.type}),s.jsxs("div",{className:"text-white text-[10px]",children:["$",h.amount]})]},E))})]}),s.jsx(Ga,{primaryAction:{label:"DEAL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"},secondaryActions:[{label:`PLAYER${l.bet>0?` $${l.bet}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.toggleSelection)==null?void 0:E.call(h,"PLAYER")},active:m},{label:`BANKER${l.bet>0?` $${l.bet}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.toggleSelection)==null?void 0:E.call(h,"BANKER")},active:f},{label:`TIE${x.TIE>0?` $${x.TIE}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"TIE")},active:x.TIE>0},{label:`P.PAIR${x.P_PAIR>0?` $${x.P_PAIR}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"P_PAIR")},active:x.P_PAIR>0},{label:`B.PAIR${x.B_PAIR>0?` $${x.B_PAIR}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"B_PAIR")},active:x.B_PAIR>0},{label:`LUCKY6${x.LUCKY6>0?` $${x.LUCKY6}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"LUCKY6")},active:x.LUCKY6>0},{label:`P.DRAG${x.P_DRAGON>0?` $${x.P_DRAGON}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"P_DRAGON")},active:x.P_DRAGON>0},{label:`B.DRAG${x.B_DRAGON>0?` $${x.B_DRAGON}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"B_DRAGON")},active:x.B_DRAGON>0},{label:`PANDA8${x.PANDA8>0?` $${x.PANDA8}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"PANDA8")},active:x.PANDA8>0},{label:`P.PP${x.P_PERFECT_PAIR>0?` $${x.P_PERFECT_PAIR}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"P_PERFECT_PAIR")},active:x.P_PERFECT_PAIR>0},{label:`B.PP${x.B_PERFECT_PAIR>0?` $${x.B_PERFECT_PAIR}`:""}`,onClick:()=>{var h,E;return(E=(h=r==null?void 0:r.baccaratActions)==null?void 0:h.placeBet)==null?void 0:E.call(h,"B_PERFECT_PAIR")},active:x.B_PERFECT_PAIR>0},{label:"REBET",onClick:(A=r==null?void 0:r.baccaratActions)==null?void 0:A.rebet},{label:"UNDO",onClick:(C=r==null?void 0:r.baccaratActions)==null?void 0:C.undo},...c!=="CASH"?[{label:"SHIELD",onClick:r==null?void 0:r.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:r==null?void 0:r.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:r==null?void 0:r.toggleSuper,active:l.activeModifiers.super}]})]})}),Tb=Ot.memo(({gameState:l,numberInput:r="",actions:i,lastWin:c,playMode:o})=>{const m=R.useMemo(()=>l.rouletteHistory.length>0?l.rouletteHistory[l.rouletteHistory.length-1]:null,[l.rouletteHistory]),[f,v]=R.useState(0),p=R.useMemo(()=>new Set(l.rouletteBets.map(h=>h.type)),[l.rouletteBets]),x=R.useMemo(()=>l.rouletteBets.reduce((h,E)=>h+E.amount,0),[l.rouletteBets]),b=R.useMemo(()=>{const h=l.rouletteInputMode;if(h==="NONE")return null;let E=null,O="";const M=[];if(h==="STRAIGHT"){E="STRAIGHT",O="STRAIGHT (036)";for(let I=0;I<=36;I++)M.push(I)}else if(h==="SPLIT_H"){E="SPLIT_H",O="SPLIT H (left #)";for(let I=1;I<=35;I++)I%3!==0&&M.push(I)}else if(h==="SPLIT_V"){E="SPLIT_V",O="SPLIT V (top #)";for(let I=1;I<=33;I++)M.push(I)}else if(h==="STREET"){E="STREET",O="STREET (row start)";for(let I=1;I<=34;I+=3)M.push(I)}else if(h==="CORNER"){E="CORNER",O="CORNER (top-left)";for(let I=1;I<=32;I++)I%3!==0&&M.push(I)}else if(h==="SIX_LINE"){E="SIX_LINE",O="SIX LINE (row start)";for(let I=1;I<=31;I+=3)M.push(I)}return E?{betType:E,targets:M,label:O}:null},[i.placeRouletteBet,l.rouletteInputMode]),y=R.useCallback(()=>{var h;(h=i==null?void 0:i.setGameState)==null||h.call(i,E=>({...E,rouletteInputMode:"NONE"}))},[i]),N=R.useCallback(h=>{var E;b!=null&&b.betType&&((E=i==null?void 0:i.placeRouletteBet)==null||E.call(i,b.betType,h))},[i,b==null?void 0:b.betType]);R.useEffect(()=>{m!==null&&v(h=>h+1)},[m]);const A=R.useCallback((h,E)=>s.jsxs("div",{onClick:()=>{var O;return(O=i==null?void 0:i.placeRouletteBet)==null?void 0:O.call(i,h.type,h.target)},className:"flex justify-between items-center text-xs border border-gray-800 p-1 rounded bg-black/50 cursor-pointer hover:bg-gray-800 transition-colors",children:[s.jsx("div",{className:"flex flex-col",children:s.jsxs("span",{className:"text-terminal-green font-bold text-[10px]",children:[h.type," ",h.target!==void 0?h.target:""]})}),s.jsxs("div",{className:"text-white text-[10px]",children:["$",h.amount]})]},E),[]),C=R.useCallback(h=>{const E=yg(h,l.rouletteBets),O=Math.max(100,x*36),M=Math.min(Math.abs(E)/O*50,50),I=Nl(h),le=I==="RED"?"text-terminal-accent":I==="BLACK"?"text-white":"text-terminal-green";return s.jsxs("div",{className:"flex items-center h-7 text-base",children:[s.jsxs("div",{className:"flex-1 flex justify-end items-center pr-1 gap-1 min-w-0",children:[E<0&&s.jsx("span",{className:"text-sm text-gray-400 truncate",children:Math.abs(E)}),E<0&&s.jsx("div",{className:"bg-terminal-accent/80 h-3 rounded-l",style:{width:`${M}%`}})]}),s.jsx("div",{className:`w-7 text-center font-bold ${le} flex-shrink-0`,children:h}),s.jsxs("div",{className:"flex-1 flex justify-start items-center pl-1 gap-1 min-w-0",children:[E>0&&s.jsx("div",{className:"bg-terminal-green/80 h-3 rounded-r",style:{width:`${M}%`}}),E>0&&s.jsx("span",{className:"text-sm text-gray-400 truncate",children:E})]})]},h)},[l.rouletteBets,x]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"ROULETTE"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"ROULETTE",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Exposure"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{children:C(0)}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("div",{className:"space-y-0.5",children:Array.from({length:18},(h,E)=>E+1).map(h=>C(h))}),s.jsx("div",{className:"space-y-0.5",children:Array.from({length:18},(h,E)=>E+19).map(h=>C(h))})]})]})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Table Bets"}),s.jsx("div",{className:"flex flex-col space-y-1",children:l.rouletteBets.length===0?s.jsx("div",{className:"text-center text-[10px] text-gray-700 italic",children:"NO BETS"}):l.rouletteBets.map((h,E)=>A(h,E))})]})]})})}),s.jsxs("div",{className:"min-h-[120px] flex flex-col items-center justify-center gap-4",children:[m!==null?s.jsx("div",{className:`w-24 h-24 sm:w-32 sm:h-32 rounded-full border-4 flex items-center justify-center text-4xl sm:text-5xl font-bold shadow-[0_0_30px_rgba(0,0,0,0.5)] animate-roulette-spin ${Nl(m)==="RED"?"border-terminal-accent text-terminal-accent":Nl(m)==="BLACK"?"border-gray-500 text-white":"border-terminal-green text-terminal-green"}`,children:m},f):s.jsx("div",{className:"w-24 h-24 sm:w-32 sm:h-32 rounded-full border-4 border-gray-800 flex items-center justify-center text-sm text-gray-600 animate-pulse",children:"SPIN"}),l.rouletteHistory.length>0&&s.jsx("div",{className:"flex gap-2 opacity-75",children:l.rouletteHistory.slice(-8).reverse().map((h,E)=>s.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold border ${Nl(h)==="RED"?"border-terminal-accent text-terminal-accent":Nl(h)==="BLACK"?"border-gray-500 text-white":"border-terminal-green text-terminal-green"}`,children:h},E))})]}),s.jsxs("div",{className:"text-center space-y-3 relative z-20",children:[s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,c&&c>0?` (+$${c})`:""]}),s.jsxs("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest",children:["ZERO RULE: ",l.rouletteZeroRule.split("_").join(" ")]})]})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 left-0 bottom-24 w-60 bg-terminal-black/80 border-r-2 border-gray-700 p-2 overflow-hidden backdrop-blur-sm z-30 flex-col",children:[s.jsx("h3",{className:"text-[10px] font-bold text-gray-500 mb-2 tracking-widest text-center border-b border-gray-800 pb-1 flex-none",children:"EXPOSURE"}),s.jsx("div",{className:"flex-none mb-1",children:C(0)}),s.jsxs("div",{className:"flex-1 flex flex-row relative overflow-hidden",children:[s.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-gray-800 -translate-x-1/2"}),s.jsx("div",{className:"flex-1 flex flex-col gap-0.5 pr-1",children:Array.from({length:18},(h,E)=>E+1).map(h=>C(h))}),s.jsx("div",{className:"flex-1 flex flex-col gap-0.5 pl-1",children:Array.from({length:18},(h,E)=>E+19).map(h=>C(h))})]})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 right-0 bottom-24 w-60 bg-terminal-black/80 border-l-2 border-gray-700 p-2 backdrop-blur-sm z-30 flex-col",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 flex-none text-center",children:"Table Bets"}),s.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col justify-center space-y-1",children:l.rouletteBets.length===0?s.jsx("div",{className:"text-center text-[10px] text-gray-700 italic",children:"NO BETS"}):l.rouletteBets.map((h,E)=>A(h,E))})]}),s.jsx(Ga,{primaryAction:{label:"SPIN",onClick:i==null?void 0:i.deal,className:"w-full sm:w-auto"},secondaryActions:[{label:"RED",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"RED")},active:p.has("RED"),className:"text-terminal-accent border-terminal-accent"},{label:"BLACK",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"BLACK")},active:p.has("BLACK")},{label:"EVEN",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"EVEN")},active:p.has("EVEN")},{label:"ODD",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"ODD")},active:p.has("ODD")},{label:"1-18",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"LOW")},active:p.has("LOW")},{label:"19-36",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"HIGH")},active:p.has("HIGH")},{label:"1st 12",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"DOZEN_1")},active:p.has("DOZEN_1")},{label:"2nd 12",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"DOZEN_2")},active:p.has("DOZEN_2")},{label:"3rd 12",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"DOZEN_3")},active:p.has("DOZEN_3")},{label:"COL 1",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"COL_1")},active:p.has("COL_1")},{label:"COL 2",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"COL_2")},active:p.has("COL_2")},{label:"COL 3",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"COL_3")},active:p.has("COL_3")},{label:"ZERO",onClick:()=>{var h;return(h=i==null?void 0:i.placeRouletteBet)==null?void 0:h.call(i,"ZERO")},active:p.has("ZERO"),className:"text-terminal-green border-terminal-green"},{label:"STRAIGHT",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,rouletteInputMode:"STRAIGHT"}))},active:l.rouletteInputMode==="STRAIGHT"},{label:"SPLIT",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,rouletteInputMode:"SPLIT_H"}))},active:l.rouletteInputMode==="SPLIT_H"},{label:"VSPLIT",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,rouletteInputMode:"SPLIT_V"}))},active:l.rouletteInputMode==="SPLIT_V"},{label:"STREET",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,rouletteInputMode:"STREET"}))},active:l.rouletteInputMode==="STREET"},{label:"CORNER",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,rouletteInputMode:"CORNER"}))},active:l.rouletteInputMode==="CORNER"},{label:"SIX LINE",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,rouletteInputMode:"SIX_LINE"}))},active:l.rouletteInputMode==="SIX_LINE"},{label:"REBET",onClick:i==null?void 0:i.rebetRoulette},{label:"UNDO",onClick:i==null?void 0:i.undoRouletteBet},{label:"RULE",onClick:i==null?void 0:i.cycleRouletteZeroRule},...o!=="CASH"?[{label:"SHIELD",onClick:i==null?void 0:i.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:i==null?void 0:i.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:i==null?void 0:i.toggleSuper,active:l.activeModifiers.super}]}),l.rouletteInputMode!=="NONE"&&s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:y,children:s.jsxs("div",{className:"bg-terminal-black border border-terminal-green p-4 sm:p-6 rounded-lg shadow-xl flex flex-col items-center gap-4 w-full max-w-lg",onClick:h=>h.stopPropagation(),children:[s.jsx("div",{className:"text-sm tracking-widest text-gray-400 uppercase text-center",children:b!=null&&b.label?`TAP A NUMBER  ${b.label}`:"TAP A NUMBER"}),s.jsx("div",{className:"text-xs text-gray-500 text-center",children:"Keyboard fallback: type digits  [ENTER] confirm, [ESC] cancel"}),s.jsxs("div",{className:"text-3xl text-white font-bold font-mono h-12 flex items-center justify-center border-b border-gray-700 w-32",children:[r,s.jsx("span",{className:"animate-pulse",children:"_"})]}),s.jsx("div",{className:"grid grid-cols-6 sm:grid-cols-8 gap-2 w-full",children:((b==null?void 0:b.targets)??[]).map(h=>s.jsx("button",{type:"button",onClick:()=>N(h),className:"h-11 rounded border border-gray-800 bg-gray-900/50 text-white text-sm font-bold hover:border-gray-600",children:h},h))}),s.jsx("button",{type:"button",onClick:y,className:"h-10 px-4 rounded border border-gray-700 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-500",children:"Close"})]})})]})}),Ab=Ot.memo(({gameState:l,numberInput:r="",actions:i,lastWin:c,playMode:o})=>{const m=R.useMemo(()=>bg(),[]),f=R.useMemo(()=>Eg(),[]),v=R.useMemo(()=>new Set(l.sicBoBets.map(h=>h.type)),[l.sicBoBets]),[p,x]=R.useState([]);R.useEffect(()=>{x([])},[l.sicBoInputMode]);const b=R.useCallback((h,E)=>{const O=(()=>{if(h.type==="DOMINO"&&h.target!==void 0){const M=h.target>>4&15,I=h.target&15;return`${M}-${I}`}if((h.type==="HOP3_EASY"||h.type==="HOP4_EASY")&&h.target!==void 0)return[1,2,3,4,5,6].filter(I=>(h.target&1<<I-1)!==0).join("-");if(h.type==="HOP3_HARD"&&h.target!==void 0){const M=h.target>>4&15,I=h.target&15;return`${M}-${M}-${I}`}return h.target!==void 0?String(h.target):""})();return s.jsxs("div",{onClick:()=>{var M;return(M=i==null?void 0:i.placeSicBoBet)==null?void 0:M.call(i,h.type,h.target)},className:"flex justify-between items-center text-xs border border-gray-800 p-1 rounded bg-black/50 cursor-pointer hover:bg-gray-800 transition-colors",children:[s.jsx("div",{className:"flex flex-col",children:s.jsxs("span",{className:"text-terminal-green font-bold text-[10px]",children:[h.type," ",O]})}),s.jsxs("div",{className:"text-white text-[10px]",children:["$",h.amount]})]},E)},[]),y=R.useCallback(()=>{var h;x([]),(h=i==null?void 0:i.setGameState)==null||h.call(i,E=>({...E,sicBoInputMode:"NONE"}))},[i]),N=R.useCallback(h=>{const E=l.sicBoInputMode;if(E==="NONE")return;const O=(M,I)=>{var le;(le=i==null?void 0:i.placeSicBoBet)==null||le.call(i,M,I),x([])};if(E==="SINGLE")return O("SINGLE_DIE",h);if(E==="DOUBLE")return O("DOUBLE_SPECIFIC",h);if(E==="TRIPLE")return O("TRIPLE_SPECIFIC",h);if(E==="SUM")return O("SUM",h);if(E==="HOP3_HARD"){if(p.length===0)return x([h]);const M=p[0];return h===M?x([]):O("HOP3_HARD",M<<4|h)}if(E==="DOMINO"){const M=p.includes(h)?p.filter(Ee=>Ee!==h):[...p,h].slice(0,2);if(M.length<2){x(M);return}const[I,le]=M;if(I===le){x([I]);return}const Q=Math.min(I,le),ie=Math.max(I,le);return O("DOMINO",Q<<4|ie)}if(E==="HOP3_EASY"||E==="HOP4_EASY"){const M=E==="HOP3_EASY"?3:4,I=p.includes(h)?p.filter(Q=>Q!==h):[...p,h];if(I.length>M)return;if(I.length<M){x(I);return}const le=I.reduce((Q,ie)=>Q|1<<ie-1,0);return O(E,le)}},[i,l.sicBoInputMode,p]),A=R.useCallback((h,E)=>{const O=vg(h.total,h.isTriple,l.sicBoBets),M=Math.round(O);return s.jsxs("div",{className:"flex items-center h-5 text-xs w-full",children:[s.jsx("div",{className:"flex-1 flex justify-end items-center text-right pr-1 overflow-hidden",children:M<0&&s.jsxs("span",{className:"text-terminal-accent font-mono text-[10px]",children:["-",Math.abs(M).toLocaleString()]})}),s.jsxs("div",{className:"flex-none w-6 flex justify-center items-center relative",children:[s.jsx("span",{className:`font-mono z-10 text-[10px] ${h.isTriple?"text-terminal-gold font-bold":"text-gray-500"}`,children:h.label}),M<0&&s.jsx("div",{className:"absolute right-0 top-0.5 bottom-0.5 w-0.5 bg-terminal-accent"}),M>0&&s.jsx("div",{className:"absolute left-0 top-0.5 bottom-0.5 w-0.5 bg-terminal-green"})]}),s.jsx("div",{className:"flex-1 flex justify-start items-center pl-1 overflow-hidden",children:M>0&&s.jsxs("span",{className:"text-terminal-green font-mono text-[10px]",children:["+",M.toLocaleString()]})})]},E)},[l.sicBoBets]),C=R.useCallback((h,E)=>{const O=Ng(h.type,h.target,l.sicBoBets),M=Math.round(O),I=h.type==="SINGLE"?"text-cyan-400":h.type==="SINGLE_2X"?"text-cyan-300":h.type==="SINGLE_3X"?"text-cyan-200":h.type==="DOUBLE"?"text-purple-400":(h.type==="TRIPLE","text-terminal-gold");return s.jsxs("div",{className:"flex items-center h-5 text-xs w-full",children:[s.jsx("div",{className:"flex-1 flex justify-end items-center text-right pr-1 overflow-hidden",children:M<0&&s.jsxs("span",{className:"text-terminal-accent font-mono text-[10px]",children:["-",Math.abs(M).toLocaleString()]})}),s.jsxs("div",{className:"flex-none w-10 flex justify-center items-center relative",children:[s.jsx("span",{className:`font-mono z-10 text-[10px] ${I}`,children:h.label}),M<0&&s.jsx("div",{className:"absolute right-0 top-0.5 bottom-0.5 w-0.5 bg-terminal-accent"}),M>0&&s.jsx("div",{className:"absolute left-0 top-0.5 bottom-0.5 w-0.5 bg-terminal-green"})]}),s.jsx("div",{className:"flex-1 flex justify-start items-center pl-1 overflow-hidden",children:M>0&&s.jsxs("span",{className:"text-terminal-green font-mono text-[10px]",children:["+",M.toLocaleString()]})})]},E)},[l.sicBoBets]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20 md:pl-64 md:pr-60",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"SIC BO"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"SIC BO",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Exposure"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[9px] text-gray-500 tracking-widest text-center mb-1",children:"TOTALS"}),m.map((h,E)=>A(h,E))]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-[9px] text-gray-500 tracking-widest text-center mb-1",children:"COMBOS"}),f.map((h,E)=>C(h,E))]})]})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Table Bets"}),s.jsx("div",{className:"flex flex-col space-y-1",children:l.sicBoBets.length>0?l.sicBoBets.map((h,E)=>b(h,E)):s.jsx("div",{className:"text-center text-[10px] text-gray-700 italic",children:"NO BETS"})})]})]})})}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex items-center justify-center",children:l.dice.length===3?s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[s.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500",children:"ROLL"}),s.jsx("div",{className:"flex gap-4",children:l.dice.map((h,E)=>s.jsx(Sm,{value:h,delayMs:E*60},E))}),s.jsxs("div",{className:"text-terminal-gold font-bold mt-2 text-xl",children:["TOTAL: ",l.dice.reduce((h,E)=>h+E,0)]})]}):s.jsx("div",{className:"flex gap-4",children:[1,2,3].map(h=>s.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 border border-dashed border-gray-700 rounded flex items-center justify-center text-gray-700 text-xl sm:text-2xl",children:"?"},h))})}),s.jsx("div",{className:"text-center space-y-3 relative z-20",children:s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,c&&c>0?` (+$${c})`:""]})}),l.sicBoHistory.length>0&&s.jsxs("div",{className:"flex flex-col items-center gap-1",children:[s.jsx("span",{className:"text-[10px] text-gray-600 tracking-widest",children:"HISTORY"}),s.jsx("div",{className:"flex gap-2 opacity-50",children:l.sicBoHistory.slice(-5).reverse().map((h,E)=>s.jsx("div",{className:"flex gap-0.5 border border-gray-800 p-1 rounded",children:h.map((O,M)=>s.jsx("span",{className:"text-[10px] text-gray-400",children:O},M))},E))})]})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 left-0 bottom-24 w-64 bg-terminal-black/80 border-r-2 border-gray-700 p-2 overflow-hidden backdrop-blur-sm z-30 flex-col",children:[s.jsxs("div",{className:"flex-none flex border-b border-gray-800 pb-1 mb-1",children:[s.jsx("div",{className:"flex-1 text-center",children:s.jsx("span",{className:"text-[9px] font-bold text-gray-500 tracking-widest",children:"TOTALS"})}),s.jsx("div",{className:"flex-1 text-center",children:s.jsx("span",{className:"text-[9px] font-bold text-gray-500 tracking-widest",children:"COMBOS"})})]}),s.jsxs("div",{className:"flex-1 flex flex-row relative overflow-hidden",children:[s.jsx("div",{className:"absolute left-1/2 top-0 bottom-0 w-px bg-gray-800 -translate-x-1/2"}),s.jsx("div",{className:"flex-1 flex flex-col gap-0 pr-1 border-r border-gray-800/50 overflow-y-auto",children:m.map((h,E)=>A(h,E))}),s.jsxs("div",{className:"flex-1 flex flex-col gap-0 pl-1 overflow-y-auto",children:[s.jsx("div",{className:"text-[8px] text-cyan-400 text-center mb-0.5",children:"1"}),f.filter(h=>h.type==="SINGLE").map((h,E)=>C(h,E)),s.jsx("div",{className:"text-[8px] text-cyan-300 text-center mt-0.5 mb-0.5",children:"2"}),f.filter(h=>h.type==="SINGLE_2X").map((h,E)=>C(h,E+6)),s.jsx("div",{className:"text-[8px] text-cyan-200 text-center mt-0.5 mb-0.5",children:"3"}),f.filter(h=>h.type==="SINGLE_3X").map((h,E)=>C(h,E+12)),s.jsx("div",{className:"text-[8px] text-purple-400 text-center mt-0.5 mb-0.5",children:"DBL"}),f.filter(h=>h.type==="DOUBLE").map((h,E)=>C(h,E+18)),s.jsx("div",{className:"text-[8px] text-terminal-gold text-center mt-0.5 mb-0.5",children:"TRP"}),f.filter(h=>h.type==="TRIPLE"||h.type==="ANY_TRIPLE").map((h,E)=>C(h,E+24))]})]})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 right-0 bottom-24 w-60 bg-terminal-black/80 border-l-2 border-gray-700 p-2 backdrop-blur-sm z-30 flex-col",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 flex-none text-center",children:"Table Bets"}),s.jsx("div",{className:"flex-1 overflow-y-auto flex flex-col justify-center space-y-1",children:l.sicBoBets.length>0?l.sicBoBets.map((h,E)=>b(h,E)):s.jsx("div",{className:"text-center text-[10px] text-gray-700 italic",children:"NO BETS"})})]}),s.jsx(Ga,{primaryAction:{label:"ROLL",onClick:i==null?void 0:i.deal,className:"w-full sm:w-auto"},secondaryActions:[{label:"SMALL",onClick:()=>{var h;return(h=i==null?void 0:i.placeSicBoBet)==null?void 0:h.call(i,"SMALL")},active:v.has("SMALL")},{label:"BIG",onClick:()=>{var h;return(h=i==null?void 0:i.placeSicBoBet)==null?void 0:h.call(i,"BIG")},active:v.has("BIG")},{label:"ODD",onClick:()=>{var h;return(h=i==null?void 0:i.placeSicBoBet)==null?void 0:h.call(i,"ODD")},active:v.has("ODD")},{label:"EVEN",onClick:()=>{var h;return(h=i==null?void 0:i.placeSicBoBet)==null?void 0:h.call(i,"EVEN")},active:v.has("EVEN")},{label:"DIE",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"SINGLE"}))},active:l.sicBoInputMode==="SINGLE"||v.has("SINGLE_DIE")},{label:"DOUBLE",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"DOUBLE"}))},active:l.sicBoInputMode==="DOUBLE"||v.has("DOUBLE_SPECIFIC")},{label:"TRIPLE",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"TRIPLE"}))},active:l.sicBoInputMode==="TRIPLE"||v.has("TRIPLE_SPECIFIC")},{label:"DOMINO",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"DOMINO"}))},active:l.sicBoInputMode==="DOMINO"||v.has("DOMINO")},{label:"3-HOP",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"HOP3_EASY"}))},active:l.sicBoInputMode==="HOP3_EASY"||v.has("HOP3_EASY")},{label:"HARD",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"HOP3_HARD"}))},active:l.sicBoInputMode==="HOP3_HARD"||v.has("HOP3_HARD")},{label:"4-HOP",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"HOP4_EASY"}))},active:l.sicBoInputMode==="HOP4_EASY"||v.has("HOP4_EASY")},{label:"SUM",onClick:()=>{var h;return(h=i==null?void 0:i.setGameState)==null?void 0:h.call(i,E=>({...E,sicBoInputMode:"SUM"}))},active:l.sicBoInputMode==="SUM"||v.has("SUM")},{label:"ANY 3",onClick:()=>{var h;return(h=i==null?void 0:i.placeSicBoBet)==null?void 0:h.call(i,"TRIPLE_ANY")},active:v.has("TRIPLE_ANY")},{label:"REBET",onClick:i==null?void 0:i.rebetSicBo},{label:"UNDO",onClick:i==null?void 0:i.undoSicBoBet},...o!=="CASH"?[{label:"SHIELD",onClick:i==null?void 0:i.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:i==null?void 0:i.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:i==null?void 0:i.toggleSuper,active:l.activeModifiers.super}]}),l.sicBoInputMode!=="NONE"&&s.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:y,children:s.jsxs("div",{className:"bg-terminal-black border border-terminal-green p-4 sm:p-6 rounded-lg shadow-xl flex flex-col items-center gap-4 w-full max-w-lg",onClick:h=>h.stopPropagation(),children:[s.jsxs("div",{className:"text-sm tracking-widest text-gray-400 uppercase text-center",children:[l.sicBoInputMode==="SINGLE"&&"TAP NUMBER (1-6)",l.sicBoInputMode==="DOUBLE"&&"TAP DOUBLE (1-6)",l.sicBoInputMode==="TRIPLE"&&"TAP TRIPLE (1-6)",l.sicBoInputMode==="DOMINO"&&"TAP 2 NUMBERS (1-6)",l.sicBoInputMode==="HOP3_EASY"&&"TAP 3 NUMBERS (1-6)",l.sicBoInputMode==="HOP3_HARD"&&"TAP DOUBLE THEN SINGLE (1-6)",l.sicBoInputMode==="HOP4_EASY"&&"TAP 4 NUMBERS (1-6)",l.sicBoInputMode==="SUM"&&"TAP TOTAL (3-18) OR TYPE (ENTER)"]}),l.sicBoInputMode==="SUM"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"text-3xl text-white font-bold font-mono h-12 flex items-center justify-center border-b border-gray-700 w-32",children:[r,s.jsx("span",{className:"animate-pulse",children:"_"})]}),s.jsx("div",{className:"grid grid-cols-8 gap-2 w-full",children:Array.from({length:16},(h,E)=>E+3).map(h=>s.jsx("button",{type:"button",onClick:()=>N(h),className:"h-11 rounded border border-gray-800 bg-gray-900/50 text-white text-sm font-bold hover:border-gray-600",children:h},h))})]}):s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5,6].map(h=>{const E=p.includes(h);return s.jsxs("button",{type:"button",onClick:()=>N(h),className:`flex flex-col items-center gap-1 rounded border px-2 py-2 ${E?"border-terminal-green bg-terminal-green/10":"border-gray-700 bg-gray-900"}`,children:[s.jsx("div",{className:"w-10 h-10 flex items-center justify-center rounded text-white font-bold",children:h}),s.jsxs("div",{className:"text-[9px] text-gray-500",children:["[",h,"]"]})]},h)})}),l.sicBoInputMode==="DOMINO"&&p.length>0&&s.jsxs("div",{className:"text-xs text-gray-500",children:["SELECTED: ",p.join("-")]}),l.sicBoInputMode==="HOP3_HARD"&&p.length===1&&s.jsxs("div",{className:"text-xs text-gray-500",children:["DOUBLE: ",p[0]]}),(l.sicBoInputMode==="HOP3_EASY"||l.sicBoInputMode==="HOP4_EASY")&&p.length>0&&s.jsxs("div",{className:"text-xs text-gray-500",children:["SELECTED: ",p.join("-")]}),s.jsxs("div",{className:"text-xs text-gray-500 mt-2 text-center",children:["Tap outside to cancel. Keyboard: [ESC] CANCEL ",l.sicBoInputMode==="SUM"&&"[ENTER] CONFIRM"]})]})})]})}),Cb=Ot.memo(({gameState:l,deck:r,actions:i,lastWin:c,playMode:o})=>{const m=l.playerCards[l.playerCards.length-1],f=m?So(m):7,v=f===1,p=f===13,x=R.useCallback(b=>{if(!m)return"0.00x";const y=f;let N;if(b==="SAME")N=1;else if(b==="HIGHER"){if(y===13)return"";N=13-y}else{if(y===1)return"";N=y-1}return N<=0?"":(Math.floor(13*1e4/N)/1e4).toFixed(2)+"x"},[m,f]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-32",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"HILO"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"HILO",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-[11px] text-gray-300 leading-relaxed",children:"Guess whether the next card is higher or lower than the current card. Cash out anytime to lock in the pot."}),s.jsx("div",{className:"text-[10px] text-gray-600 leading-relaxed",children:"Multipliers shown are based on remaining winning ranks (A is low, K is high)."})]})})}),s.jsx("div",{className:"min-h-[60px] sm:min-h-[80px] flex flex-col items-center justify-center w-full max-w-md",children:s.jsxs("div",{className:"text-2xl sm:text-3xl text-terminal-gold font-bold mb-1 sm:mb-2 tracking-widest",children:["POT: $",l.hiloAccumulator.toLocaleString()]})}),s.jsx("div",{className:"text-center space-y-3 relative z-20",children:s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,c&&c>0?` (+$${c})`:""]})}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex gap-8 items-center justify-center",children:l.playerCards.length>0&&s.jsxs("div",{className:"flex flex-col gap-2 items-center",children:[s.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500",children:"CURRENT CARD"}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"text-right opacity-80",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:v?"SAME":"LOWER"}),s.jsx("div",{className:"text-terminal-green font-bold text-sm",children:x(v?"SAME":"LOWER")})]}),s.jsx(Wt,{cards:[l.playerCards[l.playerCards.length-1]]}),s.jsxs("div",{className:"text-left opacity-80",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase",children:p?"SAME":"HIGHER"}),s.jsx("div",{className:"text-terminal-green font-bold text-sm",children:x(p?"SAME":"HIGHER")})]})]})]})}),s.jsx("div",{className:"min-h-[48px] sm:min-h-[60px] flex items-center justify-center",children:l.playerCards.length>1&&s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-[10px] uppercase tracking-widest text-gray-600",children:"CARD HISTORY"}),s.jsx("div",{className:"flex gap-2 opacity-50 scale-75 origin-top",children:l.playerCards.slice(0,-1).slice(-8).map((b,y)=>s.jsx(Wt,{cards:[b]},y))})]})})]}),l.stage==="BETTING"||l.stage==="RESULT"?s.jsx(Ga,{primaryAction:{label:"DEAL",onClick:i==null?void 0:i.deal,className:"w-full sm:w-auto"},secondaryActions:o!=="CASH"?[{label:"SHIELD",onClick:i==null?void 0:i.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:i==null?void 0:i.toggleDouble,active:l.activeModifiers.double}]:[]}):s.jsxs(Ga,{variant:"stack",children:[s.jsxs("button",{type:"button",onClick:i==null?void 0:i.hiloCashout,className:"w-full h-12 rounded border border-terminal-gold/60 bg-terminal-gold/10 text-terminal-gold font-bold tracking-widest uppercase hover:bg-terminal-gold/20",children:[s.jsx("span",{className:"ns-keycap",children:"C"})," CASHOUT  LOCK POT"]}),s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[s.jsxs("button",{type:"button",onClick:()=>{var b;return(b=i==null?void 0:i.hiloPlay)==null?void 0:b.call(i,v?"SAME":"LOWER")},className:"h-16 rounded border border-terminal-accent/60 bg-black/50 hover:bg-terminal-accent/10 flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase",children:[s.jsx("span",{className:"ns-keycap text-terminal-accent font-bold",children:v?"S":"L"})," ",v?"SAME":"LOWER"]}),s.jsx("div",{className:"text-terminal-accent font-bold text-sm",children:x(v?"SAME":"LOWER")})]}),s.jsxs("button",{type:"button",onClick:()=>{var b;return(b=i==null?void 0:i.hiloPlay)==null?void 0:b.call(i,p?"SAME":"HIGHER")},className:"h-16 rounded border border-terminal-green/60 bg-black/50 hover:bg-terminal-green/10 flex flex-col items-center justify-center",children:[s.jsxs("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase",children:[s.jsx("span",{className:"ns-keycap text-terminal-green font-bold",children:p?"S":"H"})," ",p?"SAME":"HIGHER"]}),s.jsx("div",{className:"text-terminal-green font-bold text-sm",children:x(p?"SAME":"HIGHER")})]})]})]})]})}),Sb=[{rank:"ROYAL FLUSH",multiplier:800},{rank:"STRAIGHT FLUSH",multiplier:50},{rank:"FOUR OF A KIND",multiplier:25},{rank:"FULL HOUSE",multiplier:9},{rank:"FLUSH",multiplier:6},{rank:"STRAIGHT",multiplier:4},{rank:"THREE OF A KIND",multiplier:3},{rank:"TWO PAIR",multiplier:2},{rank:"JACKS OR BETTER",multiplier:1}],Rb=Ot.memo(({gameState:l,onToggleHold:r,actions:i,lastWin:c,playMode:o})=>{const m=R.useCallback(p=>{r(p)},[r]),f=R.useMemo(()=>{if(l.playerCards.length!==5)return null;try{return Ro(l.playerCards)}catch{return null}},[l.playerCards]),v=l.stage==="RESULT"?(f==null?void 0:f.rank)??null:null;return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"VIDEO POKER"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"VIDEO POKER",children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest border-b border-gray-800 pb-1",children:"Paytable"}),s.jsx("div",{className:"space-y-1",children:Sb.map(p=>{const x=v===p.rank;return s.jsxs("div",{className:["flex items-center justify-between rounded border px-2 py-1 text-[11px]",x?"border-terminal-green bg-terminal-green/10 text-terminal-green":"border-gray-800 bg-black/40 text-gray-300"].join(" "),children:[s.jsx("span",{className:"truncate pr-2",children:p.rank}),s.jsxs("span",{className:"text-white",children:[p.multiplier,"x"]})]},p.rank)})}),s.jsx("div",{className:"text-[10px] text-gray-600 leading-relaxed",children:"Tap cards (or press 15) to toggle HOLD. DRAW replaces unheld cards."})]})})}),s.jsxs("div",{className:"text-center space-y-3 relative z-20",children:[s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,c&&c>0?` (+$${c})`:""]}),f&&l.stage!=="BETTING"?s.jsxs("div",{className:["text-[10px] tracking-widest uppercase",f.multiplier>0?"text-terminal-green":"text-gray-600"].join(" "),children:[f.rank,f.multiplier>0?`  x${f.multiplier}`:""]}):null]}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex gap-4 items-center justify-center",children:l.playerCards.length>0&&l.playerCards.map((p,x)=>s.jsxs("button",{type:"button",onClick:()=>m(x),"aria-pressed":!!p.isHeld,className:"flex flex-col gap-2 cursor-pointer transition-transform hover:-translate-y-2",children:[s.jsx(Wt,{cards:[p]}),s.jsx("div",{className:`text-center text-[10px] font-bold py-1 border rounded ${p.isHeld?"border-terminal-green text-terminal-green bg-terminal-green/10":"border-transparent text-transparent"}`,children:"HOLD"}),s.jsxs("div",{className:"text-center text-[10px] text-gray-600",children:["[",x+1,"]"]})]},x))})]}),s.jsx(Ga,{primaryAction:l.stage==="BETTING"||l.stage==="RESULT"?{label:"DEAL",onClick:i==null?void 0:i.deal,className:"w-full sm:w-auto"}:{label:"DRAW",onClick:i==null?void 0:i.drawVideoPoker,className:"w-full sm:w-auto"},secondaryActions:l.stage==="PLAYING"?[1,2,3,4,5].map(p=>{var x;return{label:`HOLD ${p}`,onClick:()=>m(p-1),active:(x=l.playerCards[p-1])==null?void 0:x.isHeld}}):[]})]})}),Pp=l=>{if(l.length!==3)return"";const r=p=>p==="A"?12:p==="K"?11:p==="Q"?10:p==="J"?9:parseInt(p)-2,i=l.map(p=>r(p.rank)).sort((p,x)=>x-p),c=l.map(p=>p.suit),o=c[0]===c[1]&&c[1]===c[2],m=i[0]-i[1]===1&&i[1]-i[2]===1||i[0]===12&&i[1]===1&&i[2]===0,f=i[0]===i[1]&&i[1]===i[2],v=i[0]===i[1]||i[1]===i[2]||i[0]===i[2];return m&&o?"STRAIGHT FLUSH":f?"THREE OF A KIND":m?"STRAIGHT":o?"FLUSH":v?"PAIR":"HIGH CARD"},wb=Ot.memo(({gameState:l,actions:r,lastWin:i,playMode:c})=>{const o=R.useMemo(()=>l.playerCards.length===3?Pp(l.playerCards):"",[l.playerCards]),m=R.useMemo(()=>l.dealerCards.length===3&&!l.dealerCards.some(p=>p&&p.isHidden)?Pp(l.dealerCards):"",[l.dealerCards]),f=R.useMemo(()=>l.dealerCards.every(p=>p&&!p.isHidden)&&Ss(l.dealerCards.slice(0,1))>=10,[l.dealerCards]),v=R.useMemo(()=>(l.bet||0)+(l.threeCardPairPlusBet||0)+(l.threeCardSixCardBonusBet||0)+(l.threeCardProgressiveBet||0),[l.bet,l.threeCardPairPlusBet,l.threeCardSixCardBonusBet,l.threeCardProgressiveBet]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"THREE CARD POKER"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"THREE CARD POKER",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Pair Plus"}),s.jsxs("div",{className:"space-y-2 text-[10px]",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"40:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Three of Kind"}),s.jsx("span",{className:"text-terminal-gold",children:"30:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight"}),s.jsx("span",{className:"text-terminal-gold",children:"6:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"3:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Pair"}),s.jsx("span",{className:"text-terminal-gold",children:"1:1"})]})]})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Rules"}),s.jsxs("div",{className:"space-y-2 text-[10px] text-gray-400",children:[s.jsx("div",{children:" Dealer qualifies with Queen-high or better"}),s.jsx("div",{children:" If dealer doesn't qualify: Ante pays 1:1, Play pushes"}),s.jsx("div",{children:" If dealer qualifies and you win: Ante and Play pay 1:1"}),s.jsx("div",{children:" Pair Plus pays regardless of dealer hand"})]})]})]})})}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex items-center justify-center opacity-75",children:l.dealerCards.length>0?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-accent",children:"DEALER"}),s.jsx(Wt,{cards:l.dealerCards,title:m?`(${m})`:"",forcedColor:"text-terminal-accent"}),m&&s.jsx("span",{className:"text-xs text-gray-500 mt-1",children:l.dealerCards.every(p=>p&&!p.isHidden)?f?"QUALIFIES":"DOES NOT QUALIFY":""})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-accent",children:"DEALER"}),s.jsx("div",{className:"flex gap-2",children:[0,1,2].map(p=>s.jsx("div",{className:"w-14 h-20 border border-dashed border-terminal-accent/50 rounded"},p))})]})}),s.jsxs("div",{className:"text-center space-y-3 relative z-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded border bg-black/40 text-[10px] tracking-widest uppercase border-gray-800 text-gray-400",children:[s.jsx("span",{className:"text-gray-500",children:l.stage}),s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("span",{className:"text-gray-500",children:"TOTAL"}),s.jsxs("span",{className:"text-terminal-gold",children:["$",v.toLocaleString()]})]}),s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,i&&i>0?` (+$${i})`:""]}),s.jsxs("div",{className:"text-sm text-gray-500 flex flex-col items-center gap-1",children:[s.jsxs("span",{children:["ANTE: $",l.bet.toLocaleString()]}),l.threeCardPairPlusBet>0&&s.jsxs("span",{children:["PAIR+: $",l.threeCardPairPlusBet.toLocaleString()]}),l.threeCardSixCardBonusBet>0&&s.jsxs("span",{children:["6-CARD: $",l.threeCardSixCardBonusBet.toLocaleString()]}),l.threeCardProgressiveBet>0&&s.jsxs("span",{children:["PROG: $",l.threeCardProgressiveBet.toLocaleString()]}),s.jsxs("div",{className:`mt-1 inline-flex items-center gap-2 px-3 py-1 rounded border bg-black/40 text-[10px] tracking-widest ${l.threeCardProgressiveBet>0?"border-terminal-green/40 text-terminal-gold":"border-gray-800 text-gray-600"}`,children:[s.jsx("span",{children:"PROG JACKPOT"}),s.jsxs("span",{className:"font-bold tabular-nums",children:["$",l.threeCardProgressiveJackpot.toLocaleString()]},l.threeCardProgressiveJackpot)]})]})]}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex gap-8 items-center justify-center",children:l.playerCards.length>0?s.jsxs("div",{className:"flex flex-col items-center gap-2 scale-110",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-green",children:"YOU"}),s.jsx(Wt,{cards:l.playerCards,title:o?`(${o})`:"",forcedColor:"text-terminal-green"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2 scale-110",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-green",children:"YOU"}),s.jsx("div",{className:"flex gap-2",children:[0,1,2].map(p=>s.jsx("div",{className:"w-14 h-20 border border-dashed border-terminal-green/50 rounded"},p))})]})})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 left-0 bottom-24 w-36 bg-terminal-black/80 border-r-2 border-gray-700 p-2 overflow-y-auto backdrop-blur-sm z-30 flex-col",children:[s.jsx("h3",{className:"text-[10px] font-bold text-gray-500 mb-2 tracking-widest text-center border-b border-gray-800 pb-1 flex-none",children:"PAIR PLUS"}),s.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-2 text-[10px]",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"40:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Three of Kind"}),s.jsx("span",{className:"text-terminal-gold",children:"30:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight"}),s.jsx("span",{className:"text-terminal-gold",children:"6:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"3:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Pair"}),s.jsx("span",{className:"text-terminal-gold",children:"1:1"})]})]})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 right-0 bottom-24 w-36 bg-terminal-black/80 border-l-2 border-gray-700 p-2 backdrop-blur-sm z-30 flex-col",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 flex-none text-center",children:"Rules"}),s.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col justify-center space-y-2 text-[9px] text-gray-400",children:[s.jsx("div",{children:" Dealer qualifies with Queen-high or better"}),s.jsx("div",{children:" If dealer doesn't qualify: Ante pays 1:1, Play pushes"}),s.jsx("div",{children:" If dealer qualifies and you win: Ante and Play pay 1:1"}),s.jsx("div",{children:" Pair Plus pays regardless of dealer hand"})]})]}),s.jsx(Ga,{primaryAction:l.stage==="BETTING"?{label:"DEAL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"}:l.stage==="RESULT"?{label:"NEW HAND",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"}:l.message.includes("REVEAL")?{label:"REVEAL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"}:{label:"PLAY",onClick:r==null?void 0:r.threeCardPlay,className:"border-terminal-green bg-terminal-green text-black hover:bg-white"},secondaryActions:l.stage==="BETTING"?[{label:`PAIR+${(l.threeCardPairPlusBet||0)>0?` $${l.threeCardPairPlusBet}`:""}`,onClick:r==null?void 0:r.threeCardTogglePairPlus,active:(l.threeCardPairPlusBet||0)>0},{label:`6-CARD${(l.threeCardSixCardBonusBet||0)>0?` $${l.threeCardSixCardBonusBet}`:""}`,onClick:r==null?void 0:r.threeCardToggleSixCardBonus,active:(l.threeCardSixCardBonusBet||0)>0},{label:`PROG${(l.threeCardProgressiveBet||0)>0?` $${l.threeCardProgressiveBet}`:""}`,onClick:r==null?void 0:r.threeCardToggleProgressive,active:(l.threeCardProgressiveBet||0)>0},...c!=="CASH"?[{label:"SHIELD",onClick:r==null?void 0:r.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:r==null?void 0:r.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:r==null?void 0:r.toggleSuper,active:l.activeModifiers.super}]:l.stage==="PLAYING"&&!l.message.includes("REVEAL")?[{label:"FOLD",onClick:r==null?void 0:r.threeCardFold,className:"border-terminal-accent text-terminal-accent hover:bg-terminal-accent/10"}]:[]})]})}),Bb=(l,r)=>l==="BETTING"?"ANTE + BLIND":r===0?"PRE-FLOP":r===3?"FLOP":r===5?"RIVER":"",jb=Ot.memo(({gameState:l,actions:r,lastWin:i,playMode:c})=>{const o=R.useMemo(()=>Bb(l.stage,l.communityCards.length),[l.stage,l.communityCards.length]),m=R.useMemo(()=>(l.bet||0)*2+(l.uthTripsBet||0)+(l.uthSixCardBonusBet||0)+(l.uthProgressiveBet||0),[l.bet,l.uthTripsBet,l.uthSixCardBonusBet,l.uthProgressiveBet]);return R.useMemo(()=>l.stage==="RESULT"||l.dealerCards.every(f=>f&&!f.isHidden),[l.stage,l.dealerCards]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-6 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:"ULTIMATE TEXAS HOLD'EM"}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:"ULTIMATE TEXAS HOLD'EM",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Blind Bonus"}),s.jsxs("div",{className:"space-y-2 text-[10px]",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Royal Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"500:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"50:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Four of Kind"}),s.jsx("span",{className:"text-terminal-gold",children:"10:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Full House"}),s.jsx("span",{className:"text-terminal-gold",children:"3:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"3:2"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight"}),s.jsx("span",{className:"text-terminal-gold",children:"1:1"})]}),s.jsx("div",{className:"border-t border-gray-800 pt-2 mt-2 text-[10px] text-gray-500 italic",children:"Dealer must have pair+ to qualify"})]})]}),s.jsxs("div",{className:"border border-gray-800 rounded bg-black/40 p-2",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 text-center",children:"Betting Guide"}),s.jsxs("div",{className:"space-y-2 text-[10px] text-gray-400",children:[s.jsxs("div",{className:"border-b border-gray-800 pb-2",children:[s.jsx("div",{className:"text-terminal-green mb-1",children:"PRE-FLOP"}),s.jsx("div",{children:" Check OR"}),s.jsx("div",{children:" Bet 3x/4x Ante"})]}),s.jsxs("div",{className:"border-b border-gray-800 pb-2",children:[s.jsx("div",{className:"text-terminal-green mb-1",children:"FLOP"}),s.jsx("div",{children:" Check OR"}),s.jsx("div",{children:" Bet 2x Ante"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-terminal-green mb-1",children:"RIVER"}),s.jsx("div",{children:" Fold OR"}),s.jsx("div",{children:" Bet 1x Ante"})]})]})]})]})})}),s.jsx("div",{className:"min-h-[88px] sm:min-h-[100px] flex items-center justify-center opacity-75",children:l.dealerCards.length>0?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-accent",children:"DEALER"}),s.jsx(Wt,{cards:l.dealerCards,forcedColor:"text-terminal-accent"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-accent",children:"DEALER"}),s.jsx("div",{className:"flex gap-2",children:[0,1].map(f=>s.jsx("div",{className:"w-12 h-16 border border-dashed border-terminal-accent/50 rounded"},f))})]})}),s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500",children:"COMMUNITY"}),s.jsx("div",{className:"flex gap-2",children:l.communityCards.length>0?s.jsx(Wt,{cards:l.communityCards}):[0,1,2,3,4].map(f=>s.jsx("div",{className:"w-12 h-16 border border-dashed border-gray-700 rounded"},f))})]}),l.uthBonusCards.length>0&&s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-xs uppercase tracking-widest text-gray-500",children:"6-CARD BONUS"}),s.jsx("div",{className:"flex gap-2",children:s.jsx(Wt,{cards:l.uthBonusCards})})]}),s.jsxs("div",{className:"text-center space-y-2 relative z-20",children:[s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded border bg-black/40 text-[10px] tracking-widest uppercase border-gray-800 text-gray-400",children:[s.jsx("span",{className:"text-gray-500",children:l.stage}),o?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("span",{className:"text-terminal-gold",children:o})]}):null,s.jsx("span",{className:"text-gray-700",children:""}),s.jsx("span",{className:"text-gray-500",children:"TOTAL"}),s.jsxs("span",{className:"text-terminal-gold",children:["$",m.toLocaleString()]})]}),s.jsxs("div",{className:"text-lg sm:text-xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,i&&i>0?` (+$${i})`:""]}),s.jsxs("div",{className:"text-xs text-gray-500 flex flex-wrap gap-x-4 gap-y-1 justify-center",children:[s.jsxs("span",{children:["ANTE: $",l.bet.toLocaleString()]}),s.jsxs("span",{children:["BLIND: $",l.bet.toLocaleString()]}),l.uthTripsBet>0&&s.jsxs("span",{children:["TRIPS: $",l.uthTripsBet.toLocaleString()]}),l.uthSixCardBonusBet>0&&s.jsxs("span",{children:["6-CARD: $",l.uthSixCardBonusBet.toLocaleString()]}),l.uthProgressiveBet>0&&s.jsxs("span",{children:["PROG: $",l.uthProgressiveBet.toLocaleString()]})]}),s.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 rounded border bg-black/40 text-[10px] tracking-widest ${l.uthProgressiveBet>0?"border-terminal-green/40 text-terminal-gold":"border-gray-800 text-gray-600"}`,children:[s.jsx("span",{children:"PROG JACKPOT"}),s.jsxs("span",{className:"font-bold tabular-nums",children:["$",l.uthProgressiveJackpot.toLocaleString()]},l.uthProgressiveJackpot)]})]}),s.jsx("div",{className:"min-h-[88px] sm:min-h-[100px] flex gap-8 items-center justify-center",children:l.playerCards.length>0?s.jsxs("div",{className:"flex flex-col items-center gap-2 scale-110",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-green",children:"YOU"}),s.jsx(Wt,{cards:l.playerCards,forcedColor:"text-terminal-green"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2 scale-110",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-green",children:"YOU"}),s.jsx("div",{className:"flex gap-2",children:[0,1].map(f=>s.jsx("div",{className:"w-12 h-16 border border-dashed border-terminal-green/50 rounded"},f))})]})})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 left-0 bottom-24 w-36 bg-terminal-black/80 border-r-2 border-gray-700 p-2 overflow-y-auto backdrop-blur-sm z-30 flex-col",children:[s.jsx("h3",{className:"text-[10px] font-bold text-gray-500 mb-2 tracking-widest text-center border-b border-gray-800 pb-1 flex-none",children:"BLIND BONUS"}),s.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-2 text-[10px]",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Royal Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"500:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"50:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Four of Kind"}),s.jsx("span",{className:"text-terminal-gold",children:"10:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Full House"}),s.jsx("span",{className:"text-terminal-gold",children:"3:1"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Flush"}),s.jsx("span",{className:"text-terminal-gold",children:"3:2"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Straight"}),s.jsx("span",{className:"text-terminal-gold",children:"1:1"})]}),s.jsx("div",{className:"border-t border-gray-800 pt-2 mt-2",children:s.jsx("div",{className:"text-[9px] text-gray-500 italic",children:"Dealer must have pair or better to qualify"})})]})]}),s.jsxs("div",{className:"hidden md:flex absolute top-0 right-0 bottom-24 w-36 bg-terminal-black/80 border-l-2 border-gray-700 p-2 backdrop-blur-sm z-30 flex-col",children:[s.jsx("div",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-2 border-b border-gray-800 pb-1 flex-none text-center",children:"Betting"}),s.jsxs("div",{className:"flex-1 overflow-y-auto flex flex-col justify-center space-y-2 text-[9px] text-gray-400",children:[s.jsxs("div",{className:"border-b border-gray-800 pb-2",children:[s.jsx("div",{className:"text-terminal-green mb-1",children:"PRE-FLOP"}),s.jsx("div",{children:" Check OR"}),s.jsx("div",{children:" Bet 3x/4x Ante"})]}),s.jsxs("div",{className:"border-b border-gray-800 pb-2",children:[s.jsx("div",{className:"text-terminal-green mb-1",children:"FLOP"}),s.jsx("div",{children:" Check OR"}),s.jsx("div",{children:" Bet 2x Ante"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-terminal-green mb-1",children:"RIVER"}),s.jsx("div",{children:" Fold OR"}),s.jsx("div",{children:" Bet 1x Ante"})]})]})]}),s.jsx(Ga,{primaryAction:l.stage==="BETTING"?{label:"DEAL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"}:l.stage==="RESULT"?{label:"NEW HAND",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"}:l.message.includes("REVEAL")?{label:"REVEAL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"}:l.communityCards.length===5?{label:"BET 1X",onClick:()=>{var f;return(f=r==null?void 0:r.uhBet)==null?void 0:f.call(r,1)},className:"border-terminal-gold bg-terminal-gold text-black hover:bg-white"}:{label:"CHECK",onClick:r==null?void 0:r.uhCheck},secondaryActions:l.stage==="BETTING"?[{label:`TRIPS${(l.uthTripsBet||0)>0?` $${l.uthTripsBet}`:""}`,onClick:r==null?void 0:r.uthToggleTrips,active:(l.uthTripsBet||0)>0},{label:`6-CARD${(l.uthSixCardBonusBet||0)>0?` $${l.uthSixCardBonusBet}`:""}`,onClick:r==null?void 0:r.uthToggleSixCardBonus,active:(l.uthSixCardBonusBet||0)>0},{label:`PROG${(l.uthProgressiveBet||0)>0?` $${l.uthProgressiveBet}`:""}`,onClick:r==null?void 0:r.uthToggleProgressive,active:(l.uthProgressiveBet||0)>0},...c!=="CASH"?[{label:"SHIELD",onClick:r==null?void 0:r.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:r==null?void 0:r.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:r==null?void 0:r.toggleSuper,active:l.activeModifiers.super}]:l.communityCards.length===0?[{label:"BET 4X",onClick:()=>{var f;return(f=r==null?void 0:r.uhBet)==null?void 0:f.call(r,4)},className:"text-terminal-gold border-terminal-gold"},{label:"BET 3X",onClick:()=>{var f;return(f=r==null?void 0:r.uhBet)==null?void 0:f.call(r,3)},className:"text-terminal-gold border-terminal-gold"}]:l.communityCards.length===3?[{label:"BET 2X",onClick:()=>{var f;return(f=r==null?void 0:r.uhBet)==null?void 0:f.call(r,2)},className:"text-terminal-gold border-terminal-gold"}]:l.communityCards.length===5&&!l.message.includes("REVEAL")?[{label:"FOLD",onClick:r==null?void 0:r.uhFold,className:"text-terminal-accent border-terminal-accent"}]:[]})]})}),Ob=Ot.memo(({gameState:l,actions:r,lastWin:i,playMode:c})=>{const o=R.useMemo(()=>Ss(l.dealerCards),[l.dealerCards]),m=R.useMemo(()=>Ss(l.playerCards),[l.playerCards]),f=R.useMemo(()=>l.type.replace(/_/g," "),[l.type]),v=R.useMemo(()=>l.type===D.CASINO_WAR&&l.message.includes("WAR"),[l.type,l.message]),p=R.useMemo(()=>l.type===D.CASINO_WAR&&l.stage==="BETTING",[l.type,l.stage]),x=R.useMemo(()=>l.casinoWarTieBet||0,[l.casinoWarTieBet]);return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex-1 w-full flex flex-col items-center justify-start sm:justify-center gap-4 sm:gap-8 relative z-10 pt-8 sm:pt-10 pb-24 sm:pb-20",children:[s.jsx("h1",{className:"absolute top-0 text-xl font-bold text-gray-500 tracking-widest uppercase",children:f}),s.jsx("div",{className:"absolute top-2 left-2 z-40",children:s.jsx(el,{label:"INFO",title:f,children:s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-[11px] text-gray-300 leading-relaxed",children:"Higher card wins. On a tie you can choose WAR (risk more for a second draw) or SURRENDER (take a smaller loss)."}),s.jsx("div",{className:"text-[10px] text-gray-600 leading-relaxed",children:"Controls: DEAL (Space). If tie: WAR (W) or SURRENDER (S). Optional TIE side bet (T)."})]})})}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex items-center justify-center opacity-75",children:l.dealerCards.length>0?s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-accent",children:"DEALER"}),s.jsx(Wt,{cards:l.dealerCards,title:`(${o})`,forcedColor:"text-terminal-accent"})]}):s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-accent",children:"DEALER"}),s.jsx("div",{className:"w-16 h-24 border border-dashed border-terminal-accent rounded"})]})}),s.jsx("div",{className:"text-center space-y-3 relative z-20",children:s.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-terminal-gold tracking-widest leading-tight animate-pulse",children:[l.message,i&&i>0?` (+$${i})`:""]})}),s.jsx("div",{className:"min-h-[96px] sm:min-h-[120px] flex gap-8 items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-2 scale-110",children:[s.jsx("span",{className:"text-lg font-bold tracking-widest text-terminal-green",children:"YOU"}),l.playerCards.length>0?s.jsx(Wt,{cards:l.playerCards,title:`(${m})`,forcedColor:"text-terminal-green"}):s.jsx("div",{className:"w-16 h-24 border border-dashed border-terminal-green/50 rounded"})]})})]}),v?s.jsx("div",{className:"absolute inset-0 z-[60] flex items-center justify-center px-4",children:s.jsxs("div",{className:"w-full max-w-md border border-terminal-gold/40 bg-terminal-black/90 backdrop-blur rounded-lg p-4 shadow-2xl",children:[s.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase",children:"Tie"}),s.jsx("div",{className:"mt-1 text-lg font-bold text-terminal-gold tracking-widest",children:"WAR OR SURRENDER?"}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[s.jsx("button",{type:"button",onClick:r==null?void 0:r.casinoWarGoToWar,className:"h-12 rounded border border-terminal-green/60 bg-terminal-green/10 text-terminal-green font-bold tracking-widest uppercase hover:bg-terminal-green/20",children:"WAR"}),s.jsx("button",{type:"button",onClick:r==null?void 0:r.casinoWarSurrender,className:"h-12 rounded border border-terminal-accent/60 bg-terminal-accent/10 text-terminal-accent font-bold tracking-widest uppercase hover:bg-terminal-accent/20",children:"SURRENDER"})]}),s.jsx("div",{className:"mt-3 text-[10px] text-gray-600 leading-relaxed",children:"War usually requires an additional wager; surrender ends the hand with a smaller loss."})]})}):null,s.jsx(Ga,{primaryAction:v?{label:"WAR",onClick:r==null?void 0:r.casinoWarGoToWar,className:"border-terminal-green bg-terminal-green text-black hover:bg-white"}:{label:l.stage==="RESULT"?"NEW HAND":"DEAL",onClick:r==null?void 0:r.deal,className:"w-full sm:w-auto"},secondaryActions:v?[{label:"SURRENDER",onClick:r==null?void 0:r.casinoWarSurrender,className:"border-terminal-accent text-terminal-accent hover:bg-terminal-accent/10"}]:[...p?[{label:`TIE${x>0?` $${x}`:""}`,onClick:r==null?void 0:r.casinoWarToggleTieBet,active:x>0}]:[],...c!=="CASH"?[{label:"SHIELD",onClick:r==null?void 0:r.toggleShield,active:l.activeModifiers.shield},{label:"DOUBLE",onClick:r==null?void 0:r.toggleDouble,active:l.activeModifiers.double}]:[],{label:"SUPER",onClick:r==null?void 0:r.toggleSuper,active:l.activeModifiers.super}]})]})});let Rm=!0,Eo=null;function Lb(l){Rm=l}function kb(){if(typeof window>"u")return null;const l=window.AudioContext||window.webkitAudioContext;return l?(Eo||(Eo=new l),Eo):null}function Mb(l){return l==="deal"?660:l==="win"?880:520}async function wm(l){if(!Rm)return;const r=kb();if(!r)return;try{r.state==="suspended"&&await r.resume()}catch{return}const i=r.currentTime,c=r.createOscillator(),o=r.createGain();c.type="sine",c.frequency.setValueAtTime(Mb(l),i),o.gain.setValueAtTime(1e-4,i),o.gain.exponentialRampToValueAtTime(.12,i+.01),o.gain.exponentialRampToValueAtTime(1e-4,i+.16),c.connect(o),o.connect(r.destination),c.start(i),c.stop(i+.18)}const _b=({amount:l,show:r,durationMs:i,reducedMotion:c=!1})=>{const[o,m]=R.useState(!1);return R.useEffect(()=>{if(r&&l>0){wm("win"),m(!0);const f=setTimeout(()=>m(!1),i??1e3);return()=>clearTimeout(f)}else m(!1)},[r,l,i]),o?s.jsxs("div",{className:"absolute inset-0 z-[100] flex items-center justify-center pointer-events-none overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-black/85"}),s.jsx("div",{className:`absolute inset-0 ${c?"bg-terminal-green/10":"bg-terminal-green/20 animate-pulse"}`}),!c&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:[...Array(20)].map((f,v)=>s.jsx("div",{className:"absolute w-2 h-2 bg-terminal-gold rounded-full animate-explosion",style:{"--dir-x":Math.random()*2-1,"--dir-y":Math.random()*2-1,"--delay":`${Math.random()*.5}s`,"--speed":`${.5+Math.random()}s`}},v))}),s.jsxs("div",{className:`relative flex flex-col items-center gap-2 ${c?"":"animate-bounce-in"}`,children:[s.jsx("div",{className:"bg-black/90 border border-terminal-green/40 rounded-xl px-6 py-2 shadow-[0_0_30px_rgba(0,0,0,0.9)]",children:s.jsx("div",{className:"text-6xl font-black text-terminal-gold tracking-tighter drop-shadow-[0_0_15px_rgba(255,215,0,0.8)]",style:{textShadow:"4px 4px 0px #000"},children:"WINNER"})}),s.jsxs("div",{className:"text-4xl font-bold text-white bg-black/90 px-5 py-1.5 rounded border border-terminal-green/50 shadow-[0_0_20px_rgba(0,0,0,0.9)]",children:["+$",l.toLocaleString()]})]})]}):null},Db=({gameState:l,deck:r,numberInput:i,onToggleHold:c,aiAdvice:o,actions:m,onOpenCommandPalette:f,reducedMotion:v=!1,chips:p,playMode:x})=>{var E;if(l.type===D.NONE){const O=()=>f==null?void 0:f();return s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center gap-4",children:s.jsxs("button",{type:"button",onClick:O,onKeyDown:M=>{(M.key==="Enter"||M.key===" ")&&(M.preventDefault(),O())},className:"flex flex-col items-center justify-center gap-4 focus:outline-none focus:ring-2 focus:ring-terminal-green/40 rounded",children:[s.jsx("div",{className:"text-[12rem] font-bold text-terminal-green leading-none animate-pulse cursor-pointer select-none",style:{textShadow:"0 0 40px rgba(0, 255, 136, 0.5), 0 0 80px rgba(0, 255, 136, 0.3)"},children:"/"}),s.jsx("div",{className:"text-sm text-gray-600 tracking-[0.3em] uppercase",children:"press to play"})]})})}const b=()=>l.type===D.ROULETTE?"SPIN":l.type===D.SIC_BO||l.type===D.CRAPS?"ROLL":l.type===D.VIDEO_POKER&&l.stage==="PLAYING"?"DRAW":"DEAL",y=()=>{const O=b(),M=(l.message??"").toString().toUpperCase();return l.stage==="BETTING"?`PLACE BETS  ${O}`:l.stage==="RESULT"?`NEXT ROUND  ${O}`:l.type===D.BLACKJACK?M.includes("INSURANCE")?"INSURANCE: YES / NO":"HIT / STAND / DOUBLE / SPLIT":l.type===D.HILO?"HIGHER / LOWER / CASHOUT":l.type===D.VIDEO_POKER?"HOLD CARDS  DRAW":l.type===D.THREE_CARD?M.includes("REVEAL")?"REVEAL":"PLAY OR FOLD":l.type===D.ULTIMATE_HOLDEM?M.includes("REVEAL")?"REVEAL":l.communityCards.length===0?"CHECK or BET 3X/4X":l.communityCards.length===3?"CHECK or BET 2X":l.communityCards.length===5?"FOLD or BET 1X":"CHOOSE ACTION":l.type===D.CASINO_WAR&&M.includes("WAR")?"WAR OR SURRENDER":l.type===D.ROULETTE||l.type===D.SIC_BO||l.type===D.CRAPS?`TAP ${O}`:"CHOOSE ACTION"},N=Ot.useRef(p),[A,C]=Ot.useState(0);Ot.useEffect(()=>{if(p!==void 0&&N.current!==void 0){const O=p-N.current;O>0?C(O):C(0)}N.current=p},[p]),Ot.useEffect(()=>{C(0)},[l.type]);const h=l.stage==="RESULT"?l.lastResult:A;return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"flex justify-center z-30 pointer-events-none select-none mb-2",children:s.jsxs("div",{className:"px-3 py-1 rounded border border-gray-800 bg-black/60 text-[10px] tracking-widest uppercase text-gray-300",children:["NEXT: ",s.jsx("span",{className:"text-white",children:y()})]})}),((E=l.superMode)==null?void 0:E.isActive)&&s.jsxs("div",{className:"absolute top-4 left-4 max-w-sm bg-terminal-black/90 border border-terminal-gold/50 p-3 rounded shadow-lg z-40 text-xs",children:[s.jsx("div",{className:"font-bold text-terminal-gold mb-1",children:"SUPER MODE"}),Array.isArray(l.superMode.multipliers)&&l.superMode.multipliers.length>0?s.jsx("div",{className:"flex flex-wrap gap-1",children:l.superMode.multipliers.slice(0,10).map((O,M)=>s.jsxs("span",{className:"px-2 py-0.5 rounded border border-terminal-gold/30 text-terminal-gold/90",children:[O.superType,":",O.id," x",O.multiplier]},M))}):s.jsx("div",{className:"text-[10px] text-gray-400",children:"Active"})]}),s.jsx(_b,{amount:l.stage==="RESULT"?l.lastResult:A,show:l.stage==="RESULT"?l.lastResult>0:A>0,durationMs:l.type===D.BLACKJACK?1e3:void 0,reducedMotion:v}),l.type===D.BLACKJACK&&s.jsx(Eb,{gameState:l,actions:m,lastWin:h,playMode:x}),l.type===D.CRAPS&&s.jsx(vb,{gameState:l,actions:m,lastWin:h,playMode:x}),l.type===D.BACCARAT&&s.jsx(Nb,{gameState:l,actions:m,lastWin:h,playMode:x}),l.type===D.ROULETTE&&s.jsx(Tb,{gameState:l,numberInput:i,actions:m,lastWin:h,playMode:x}),l.type===D.SIC_BO&&s.jsx(Ab,{gameState:l,numberInput:i,actions:m,lastWin:h,playMode:x}),l.type===D.HILO&&s.jsx(Cb,{gameState:l,deck:r,actions:m,lastWin:h,playMode:x}),l.type===D.VIDEO_POKER&&s.jsx(Rb,{gameState:l,onToggleHold:c,actions:m,lastWin:h,playMode:x}),l.type===D.THREE_CARD&&s.jsx(wb,{gameState:l,actions:m,lastWin:h,playMode:x}),l.type===D.ULTIMATE_HOLDEM&&s.jsx(jb,{gameState:l,actions:m,lastWin:h,playMode:x}),l.type===D.CASINO_WAR&&s.jsx(Ob,{gameState:l,actions:m,lastWin:h,playMode:x}),o&&s.jsxs("div",{className:"absolute top-4 right-4 max-w-xs bg-terminal-black border border-terminal-accent p-4 rounded shadow-lg z-40 text-xs",children:[s.jsx("div",{className:"font-bold text-terminal-accent mb-1",children:"AI ADVICE"}),o]})]})};class Ib extends R.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,i){this.setState({errorInfo:i})}render(){var r,i;return this.state.hasError?this.props.fallback||s.jsxs("div",{style:{padding:"20px",color:"#ff6b6b"},children:[s.jsx("p",{children:"Something went wrong. Your game state is safe on-chain."}),s.jsx("p",{style:{fontSize:"12px",opacity:.7},children:(r=this.state.error)==null?void 0:r.message}),((i=this.state.error)==null?void 0:i.stack)&&s.jsx("pre",{style:{fontSize:"10px",opacity:.5,maxHeight:"100px",overflow:"auto",whiteSpace:"pre-wrap"},children:this.state.error.stack}),s.jsx("button",{onClick:()=>window.location.reload(),children:"Refresh"}),s.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0,errorInfo:void 0}),style:{marginLeft:"10px"},children:"Try Again"})]}):this.props.children}}const Bm="nullspace_telemetry_v1",jm="nullspace_telemetry_enabled",Om=500;let Pa=null;function Ub(l){if(l==null)return null;const r=String(l).trim().toLowerCase();return r==="1"||r==="true"||r==="on"||r==="yes"?!0:r==="0"||r==="false"||r==="off"||r==="no"?!1:null}function qo(){if(Pa)return Pa;try{const l=localStorage.getItem(Bm);if(!l)return Pa=[],Pa;const r=JSON.parse(l);return Array.isArray(r)?(Pa=r.filter(i=>i&&typeof i=="object").map(i=>({ts:typeof i.ts=="number"?i.ts:Date.now(),name:typeof i.name=="string"?i.name:"unknown",props:i.props&&typeof i.props=="object"?i.props:void 0})).slice(-Om),Pa):(Pa=[],Pa)}catch{return Pa=[],Pa}}function Lm(l){Pa=l;try{localStorage.setItem(Bm,JSON.stringify(l))}catch{}}function Hb(){var l,r;try{const i=Ub(localStorage.getItem(jm));if(i!==null)return i}catch{}try{return!!((r=(l=import.meta)==null?void 0:l.env)!=null&&r.DEV)}catch{return!1}}function yE(l){try{localStorage.setItem(jm,l?"1":"0")}catch{}}function an(l,r){if(!Hb())return;const i=String(l||"").trim();if(!i)return;const c={ts:Date.now(),name:i,props:r&&typeof r=="object"?r:void 0},o=[...qo(),c].slice(-Om);Lm(o)}function gE(){return[...qo()]}function bE(){Lm([])}function EE(l=!1){const r=qo();return JSON.stringify(r,null,l?2:0)}const vo=Object.values(D).filter(l=>l!==D.NONE).sort(),$p="nullspace_responsible_play_v1",No={realityCheckMinutes:30,maxWager:0,maxLoss:0,maxSessionMinutes:0,cooldownUntilMs:0,sessionStartMs:0,pnlBaseline:0,nextRealityCheckMs:0};function Pb(){const[l,r]=R.useState(null),{stats:i,gameState:c,setGameState:o,deck:m,aiAdvice:f,tournamentTime:v,phase:p,leaderboard:x,isRegistered:b,walletRng:y,walletVusdt:N,walletPublicKeyHex:A,lastTxSig:C,botConfig:h,setBotConfig:E,isRegisteringOrJoining:O,isFaucetClaiming:M,freerollActiveTournamentId:I,freerollActiveTimeLeft:le,freerollActivePrizePool:Q,freerollActivePlayerCount:ie,playerActiveTournamentId:Ee,freerollNextStartIn:fe,freerollNextTournamentId:oe,freerollIsJoinedNext:je,tournamentsPlayedToday:Je,actions:De}=zg(l),[vt,Lt]=R.useState(!1),[ot,W]=R.useState(!1),[de,ge]=R.useState(!1),[Fe,H]=R.useState(null),[ne,xe]=R.useState(""),[he,Ne]=R.useState(""),[Ke,Oe]=R.useState("RANK"),[kt,We]=R.useState(""),[Ct,Cl]=R.useState(!1),[Na,tl]=R.useState(()=>{try{return localStorage.getItem("nullspace_touch_mode")==="true"}catch{return!1}}),[La,Ka]=R.useState(()=>{try{const ce=localStorage.getItem("nullspace_sound_enabled");return ce===null?!0:ce==="true"}catch{return!0}}),[Va,un]=R.useState(()=>{var ce,Ve;try{const ht=localStorage.getItem("nullspace_reduced_motion");if(ht!==null)return ht==="true"}catch{}try{return typeof window<"u"&&((Ve=(ce=window.matchMedia)==null?void 0:ce.call(window,"(prefers-reduced-motion: reduce)"))==null?void 0:Ve.matches)}catch{return!1}}),ue=R.useRef(null),Mn=R.useRef(null);R.useEffect(()=>{try{localStorage.setItem("nullspace_sound_enabled",La?"true":"false")}catch{}Lb(La)},[La]),R.useEffect(()=>{try{localStorage.setItem("nullspace_reduced_motion",Va?"true":"false")}catch{}typeof document<"u"&&(Va?document.documentElement.dataset.reducedMotion="true":delete document.documentElement.dataset.reducedMotion)},[Va]);const[on,It]=R.useState(!1),[pe,Nt]=R.useState("settings"),[$e,al]=R.useState(()=>{try{const ce=localStorage.getItem($p);if(!ce)return No;const Ve=JSON.parse(ce);return{...No,...Ve}}catch{return No}});R.useEffect(()=>{try{localStorage.setItem($p,JSON.stringify($e))}catch{}},[$e]),R.useEffect(()=>{try{localStorage.setItem("nullspace_touch_mode",Na?"true":"false")}catch{}typeof document<"u"&&(Na?document.documentElement.dataset.touchMode="true":delete document.documentElement.dataset.touchMode)},[Na]);const _e=()=>{an("ui.command_palette.opened",{surface:"casino"}),ge(!1),H(null),W(!1),Ne(""),Lt(!0),setTimeout(()=>{var ce;return(ce=ue.current)==null?void 0:ce.focus()},10)},re=()=>{an("ui.help.toggled",{surface:"casino"}),Lt(!1),W(!1),H(null),ge(ce=>!ce)},Me=(ce="settings")=>{Nt(ce),It(!0)},zt=i.pnlHistory[i.pnlHistory.length-1]||0,et=$e.sessionStartMs||0,aa=et>0?Math.floor((Date.now()-et)/6e4):0,ka=et>0?zt-($e.pnlBaseline||0):0,He=()=>{if($e.sessionStartMs)return;const ce=Date.now(),Ve=i.pnlHistory[i.pnlHistory.length-1]||0;al(ht=>({...ht,sessionStartMs:ce,pnlBaseline:Ve,nextRealityCheckMs:ht.realityCheckMinutes>0?ce+ht.realityCheckMinutes*6e4:0}))},qa=ce=>{const Ve=ce>0?Date.now()+ce*6e4:0;al(ht=>({...ht,cooldownUntilMs:Ve}))},ll=()=>{const ce=$e.realityCheckMinutes>0?Date.now()+$e.realityCheckMinutes*6e4:0;al(Ve=>({...Ve,nextRealityCheckMs:ce})),It(!1),Nt("settings")},Re=()=>{It(!1),Nt("settings"),r(null),al(ce=>({...ce,sessionStartMs:0,pnlBaseline:0,nextRealityCheckMs:0}))},da={...De,startGame:ce=>{an("casino.game.started",{game:ce,mode:l}),De.startGame(ce)},deal:()=>{const ce=Date.now();if(c.stage==="BETTING"||c.stage==="RESULT"){He();const ht=$e.sessionStartMs||ce,rl=$e.sessionStartMs?$e.pnlBaseline||0:zt,wl=zt-rl,fn=$e.cooldownUntilMs>0&&ce<$e.cooldownUntilMs,Dn=fn?Math.max(1,Math.ceil(($e.cooldownUntilMs-ce)/6e4)):0,Ta=$e.maxLoss>0&&wl<=-$e.maxLoss,St=$e.maxSessionMinutes>0&&ce-ht>=$e.maxSessionMinutes*6e4,Ut=$e.realityCheckMinutes>0&&$e.nextRealityCheckMs>0&&ce>=$e.nextRealityCheckMs;if(fn){an("casino.deal.blocked",{reason:"cooldown",remainingMinutes:Dn,game:c.type,mode:l}),o(la=>({...la,message:`COOLDOWN ACTIVE (${Dn}m)`})),Me("settings");return}if(St){an("casino.deal.blocked",{reason:"session_limit",game:c.type,mode:l}),o(la=>({...la,message:"SESSION LIMIT REACHED"})),Me("settings");return}if(Ta){an("casino.deal.blocked",{reason:"loss_limit",game:c.type,mode:l,netPnl:wl}),o(la=>({...la,message:"LOSS LIMIT REACHED"})),Me("settings");return}if(Ut){an("casino.deal.blocked",{reason:"reality_check",game:c.type,mode:l}),Me("reality");return}}an("casino.deal",{game:c.type,mode:l,stage:c.stage,bet:c.bet}),wm("deal"),De.deal()},setBetAmount:ce=>{if($e.maxWager>0&&ce>$e.maxWager){o(Ve=>({...Ve,message:`MAX BET: ${$e.maxWager}`})),De.setBetAmount($e.maxWager);return}De.setBetAmount(ce)}};R.useEffect(()=>{if(!l||$e.realityCheckMinutes<=0||$e.sessionStartMs<=0||$e.nextRealityCheckMs<=0||on)return;const ce=setInterval(()=>{const Ve=Date.now();$e.nextRealityCheckMs>0&&Ve>=$e.nextRealityCheckMs&&c.stage!=="PLAYING"&&Me("reality")},1e3);return()=>clearInterval(ce)},[c.stage,l,$e.nextRealityCheckMs,$e.realityCheckMinutes,$e.sessionStartMs,on]),Yg({gameState:c,uiState:{commandOpen:vt,customBetOpen:ot,helpOpen:de,searchQuery:he,numberInputString:kt},uiActions:{setCommandOpen:Lt,setCustomBetOpen:W,setHelpOpen:ge,setHelpDetail:H,setSearchQuery:Ne,setCustomBetString:xe,setNumberInputString:We,startGame:da.startGame,setBetAmount:da.setBetAmount},gameActions:{...da,setGameState:o},phase:p,playMode:l,isRegistered:b,inputRefs:{input:ue,customBet:Mn},sortedGames:vo}),R.useEffect(()=>{(c.rouletteInputMode!=="NONE"||c.sicBoInputMode!=="NONE")&&We("")},[c.rouletteInputMode,c.sicBoInputMode]);const _n=()=>{const ce=vo.find(Ve=>Ve.toLowerCase().includes(he.toLowerCase()));ce&&De.startGame(ce),Lt(!1),Ne("")},Rl=()=>{const ce=parseInt(ne);!isNaN(ce)&&ce>0&&da.setBetAmount(ce),W(!1),xe("")},nl=()=>{const ce=parseInt(kt);if(!isNaN(ce)){if(c.type===D.ROULETTE){let Ve=null,ht=!0;switch(c.rouletteInputMode){case"STRAIGHT":Ve="STRAIGHT",ht=ce>=0&&ce<=36;break;case"SPLIT_H":Ve="SPLIT_H",ht=ce>=1&&ce<=35&&ce%3!==0;break;case"SPLIT_V":Ve="SPLIT_V",ht=ce>=1&&ce<=33;break;case"STREET":Ve="STREET",ht=ce>=1&&ce<=34&&(ce-1)%3===0;break;case"CORNER":Ve="CORNER",ht=ce>=1&&ce<=32&&ce%3!==0;break;case"SIX_LINE":Ve="SIX_LINE",ht=ce>=1&&ce<=31&&(ce-1)%3===0;break;case"NONE":Ve=null,ht=!1;break}Ve&&ht?De.placeRouletteBet(Ve,ce):o(rl=>({...rl,message:"INVALID NUMBER"}))}c.type===D.SIC_BO&&De.placeSicBoBet("SUM",ce)}We(""),o(Ve=>({...Ve,rouletteInputMode:"NONE",sicBoInputMode:"NONE"}))};return l===null?s.jsx(mb,{onSelect:r}):l==="FREEROLL"&&p==="REGISTRATION"?s.jsx(gb,{stats:i,leaderboard:x,isRegistered:b,statusMessage:c.message,lastTxSig:C??void 0,isSubmitting:O,activeTournamentId:I,playerActiveTournamentId:Ee,activeTimeLeft:le,nextStartIn:fe,nextTournamentId:oe,isJoinedNext:je,tournamentsPlayedToday:Je,onRegister:De.registerForTournament,onEnterTournament:De.enterTournament,botConfig:h,onBotConfigChange:E}):s.jsxs("div",{className:"flex flex-col h-[100dvh] w-screen bg-terminal-black text-white font-mono overflow-hidden select-none",onKeyDown:ce=>{ce.key==="Enter"&&(vt&&_n(),ot&&Rl(),(c.rouletteInputMode!=="NONE"||c.sicBoInputMode==="SUM")&&nl()),ce.key.toLowerCase()==="l"&&!vt&&!ot&&Oe(Ve=>Ve==="RANK"?"PAYOUT":"RANK")},children:[s.jsx(nb,{phase:p,tournamentTime:l==="FREEROLL"?v:0,stats:i,lastTxSig:C??void 0,focusMode:Ct,setFocusMode:Cl,showTimer:l==="FREEROLL",onToggleHelp:re,touchMode:Na,onToggleTouchMode:()=>tl(ce=>!ce),soundEnabled:La,onToggleSound:()=>Ka(ce=>!ce),reducedMotion:Va,onToggleReducedMotion:()=>un(ce=>!ce),children:s.jsxs("div",{className:"flex lg:hidden items-center gap-2",children:[s.jsx(hb,{currentBet:c.bet,onSelectBet:da.setBetAmount,fixedMode:!0,className:"border-none bg-transparent"}),s.jsx(pb,{playMode:l,onSetPlayMode:r,onOpenSafety:()=>Me("settings"),onToggleHelp:re,soundEnabled:La,onToggleSound:()=>Ka(ce=>!ce),touchMode:Na,onToggleTouchMode:()=>tl(ce=>!ce),reducedMotion:Va,onToggleReducedMotion:()=>un(ce=>!ce)})]})}),s.jsxs("div",{className:"border-b border-gray-800 bg-terminal-black/90 backdrop-blur px-2 sm:px-4 py-2 flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:_e,className:"h-11 px-3 rounded border border-gray-800 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-600 hover:text-white flex items-center justify-center w-full lg:w-auto",children:"Games"}),s.jsx("button",{type:"button",onClick:()=>Me("settings"),className:"hidden lg:flex h-11 px-3 rounded border border-gray-800 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-600 hover:text-white items-center justify-center",children:"Safety"}),s.jsx("div",{className:"hidden lg:flex flex-1 min-w-0 justify-center",children:s.jsx(Go,{})}),s.jsx("div",{className:"hidden lg:flex items-center",children:s.jsx(Hp,{rng:y,vusdt:N,pubkeyHex:A})})]}),s.jsxs("div",{className:"flex flex-1 overflow-hidden relative",children:[s.jsxs("main",{className:`flex-1 flex flex-col relative bg-terminal-black p-3 sm:p-4 overflow-y-auto ${c.type!==D.NONE?"pb-24 sm:pb-20 md:pb-4":""}`,children:[c.type===D.NONE?s.jsx("div",{className:"mb-2 lg:hidden",children:s.jsx(Hp,{rng:y,vusdt:N,pubkeyHex:A,className:"w-full"})}):null,l==="CASH"&&s.jsxs("div",{className:"mb-2 flex flex-wrap items-center justify-between gap-2 border border-gray-800 rounded bg-gray-900/30 px-3 py-1",children:[s.jsxs("div",{className:"text-[10px] text-gray-500 tracking-widest",children:["MODE: ",s.jsx("span",{className:"text-terminal-green",children:"CASH"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{className:"text-[10px] border px-2 py-1 rounded bg-gray-900 border-gray-800 text-gray-300 hover:border-gray-600",onClick:()=>r(null),children:"CHANGE MODE"}),s.jsx("button",{className:`text-[10px] border px-2 py-1 rounded ${M?"bg-gray-800 border-gray-700 text-gray-500 cursor-not-allowed":"bg-terminal-green/20 border-terminal-green text-terminal-green hover:bg-terminal-green/30"}`,onClick:De.claimFaucet,disabled:M,children:M?"CLAIMING":"DAILY FAUCET"})]})]}),s.jsxs("div",{className:"relative flex flex-col flex-1 min-h-0",children:[l==="FREEROLL"&&s.jsx(rb,{tournamentTime:v}),s.jsx(Ib,{children:s.jsx(Db,{gameState:c,deck:m,chips:i.chips,numberInput:kt,onToggleHold:da.toggleHold,aiAdvice:f,actions:{...da,setGameState:o},onOpenCommandPalette:_e,reducedMotion:Va,playMode:l})})]})]}),!Ct&&s.jsx(sb,{leaderboard:x,history:i.history,viewMode:Ke,currentChips:i.chips,prizePool:l==="FREEROLL"?Q??void 0:void 0,totalPlayers:l==="FREEROLL"?ie??void 0:void 0,winnersPct:.15})]}),c.type!==D.NONE&&s.jsx(ib,{currentBet:c.bet}),s.jsx(cb,{isOpen:vt,searchQuery:he,onSearchChange:Ne,sortedGames:vo,onSelectGame:ce=>{da.startGame(ce),Lt(!1),Ne("")},inputRef:ue,onClose:()=>{Lt(!1),Ne("")}}),s.jsx(ub,{isOpen:ot,betString:ne,inputRef:Mn}),s.jsx(ob,{isOpen:de,onClose:()=>{ge(!1),H(null)},gameType:c.type,detail:Fe}),s.jsx(db,{isOpen:on,mode:pe,onClose:()=>{pe==="reality"?ll():It(!1)},settings:$e,onChange:al,summary:{sessionMinutes:aa,netPnl:ka,chips:i.chips},onContinue:ll,onCooldown:ce=>{qa(ce),It(!1),Nt("settings")},onStop:Re})]})}const km="nullspace_flag_",$b={new_economy_ui:!0,new_staking_ui:!0};function Mm(l){if(l==null)return null;const r=String(l).trim().toLowerCase();return r==="1"||r==="true"||r==="on"||r==="yes"?!0:r==="0"||r==="false"||r==="off"||r==="no"?!1:null}function Gb(l){var i,c;const r=`VITE_FLAG_${l.toUpperCase()}`;try{const o=(c=(i=import.meta)==null?void 0:i.env)==null?void 0:c[r];return Mm(o)}catch{return null}}function lc(l){const r=`${km}${l}`;try{const c=Mm(localStorage.getItem(r));if(c!==null)return c}catch{}const i=Gb(l);return i!==null?i:$b[l]}function vE(l,r){const i=`${km}${l}`;try{localStorage.setItem(i,r?"1":"0")}catch{}}function NE(){return{new_economy_ui:lc("new_economy_ui"),new_staking_ui:lc("new_staking_ui")}}const zb=4500,Lo=new Set;let ln=[];function Yb(){return`toast_${Date.now().toString(36)}_${Math.random().toString(36).slice(2,8)}`}function _m(){for(const l of[...Lo])try{l()}catch{}}function Kb(l){return Lo.add(l),()=>Lo.delete(l)}function Gp(){return[...ln].sort((l,r)=>r.ts-l.ts)}function zp(l){const r=ln.filter(i=>i.id!==l);r.length!==ln.length&&(ln=r,_m())}function TE(l,r,i){const c=String(r??"").trim();if(!c)return"";const o=ln[ln.length-1];if(o&&o.level===l&&o.message===c)return o.id;const m=Date.now(),f={id:Yb(),ts:m,level:l,message:c,href:i==null?void 0:i.href,expiresAt:m+zb};return ln=[...ln,f].slice(-3),_m(),f.id}function Vb(l){switch(l){case"success":return"border-terminal-green text-terminal-green";case"error":return"border-terminal-accent text-terminal-accent";default:return"border-gray-700 text-gray-400"}}function qb(){const[l,r]=R.useState(()=>Gp());R.useEffect(()=>Kb(()=>{r(Gp())}),[]);const i=R.useMemo(()=>{const c=Date.now();return l.map(o=>({id:o.id,ms:Math.max(0,o.expiresAt-c)}))},[l]);return R.useEffect(()=>{const c=i.map(o=>setTimeout(()=>zp(o.id),o.ms));return()=>{for(const o of c)clearTimeout(o)}},[i]),l.length===0?null:s.jsx("div",{className:"fixed top-4 right-4 z-[1000] space-y-2 pointer-events-none",children:l.map(c=>{const o=!!c.href&&c.href.startsWith("/"),m=c.href?o?s.jsx(va,{to:c.href,className:"text-[11px] text-gray-200 hover:underline",children:c.message}):s.jsx("a",{href:c.href,className:"text-[11px] text-gray-200 hover:underline",target:"_blank",rel:"noreferrer",children:c.message}):s.jsx("div",{className:"text-[11px] text-gray-200",children:c.message});return s.jsx("div",{className:["pointer-events-auto w-[min(92vw,420px)] rounded border bg-terminal-black/95 backdrop-blur px-3 py-2 shadow-lg",Vb(c.level)].join(" "),role:"status",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"text-[10px] tracking-widest uppercase whitespace-nowrap",children:c.level}),s.jsx("div",{className:"min-w-0 flex-1",children:m}),s.jsx("button",{type:"button",onClick:()=>zp(c.id),className:"text-gray-500 hover:text-white text-[12px] leading-none px-1","aria-label":"Dismiss",children:""})]})},c.id)})})}const Fb=R.lazy(()=>ta(()=>import("./AppLayout-C6y4SB2O.js"),[])),Xb=R.lazy(()=>ta(()=>import("./ChainConnectionLayout-DmV8Gt8B.js"),__vite__mapDeps([0,1]))),Wb=R.lazy(()=>ta(()=>import("./EconomyDashboard-DC52_-GB.js"),[])),Zb=R.lazy(()=>ta(()=>import("./EconomyApp-jXiPrd4v.js"),__vite__mapDeps([2,3,4,1]))),Qb=R.lazy(()=>ta(()=>import("./StakingApp-BdmjSUZ7.js"),__vite__mapDeps([5,3,1,4]))),Jb=R.lazy(()=>ta(()=>import("./SecurityApp-BzL7JSYn.js"),__vite__mapDeps([6,3]))),eE=R.lazy(()=>ta(()=>import("./LegacyLiquidityApp-Dm3icIYq.js"),[])),tE=R.lazy(()=>ta(()=>import("./LegacyStakingApp-C3bX2zz6.js"),[])),aE=R.lazy(()=>ta(()=>import("./ExplorerLayout-C1w9iP_b.js"),__vite__mapDeps([7,8]))),lE=R.lazy(()=>ta(()=>import("./BlocksPage-CHSBRdxm.js"),__vite__mapDeps([9,8]))),nE=R.lazy(()=>ta(()=>import("./BlockDetailPage-C50kLRlZ.js"),__vite__mapDeps([10,8]))),rE=R.lazy(()=>ta(()=>import("./TxDetailPage-BVAPcgQm.js"),__vite__mapDeps([11,8]))),sE=R.lazy(()=>ta(()=>import("./AccountPage-BOuzOPRG.js"),__vite__mapDeps([12,8]))),iE=R.lazy(()=>ta(()=>import("./TokensPage-Z3GEXJoc.js"),[])),To=()=>lc("new_economy_ui")?s.jsx(Zb,{}):s.jsx(eE,{}),cE=()=>lc("new_staking_ui")?s.jsx(Qb,{}):s.jsx(tE,{});function uE(){return s.jsxs(eg,{children:[s.jsx(qb,{}),s.jsx(R.Suspense,{fallback:s.jsx("div",{className:"min-h-screen bg-terminal-black text-white flex items-center justify-center font-mono",children:s.jsx("div",{className:"text-[10px] tracking-widest text-gray-400",children:"LOADING"})}),children:s.jsxs(Oy,{children:[s.jsx(Xt,{path:"/",element:s.jsx(Pb,{})}),s.jsxs(Xt,{element:s.jsx(Fb,{}),children:[s.jsx(Xt,{path:"economy",element:s.jsx(Wb,{})}),s.jsxs(Xt,{element:s.jsx(Xb,{}),children:[s.jsx(Xt,{path:"swap",element:s.jsx(To,{})}),s.jsx(Xt,{path:"borrow",element:s.jsx(To,{})}),s.jsx(Xt,{path:"stake",element:s.jsx(cE,{})}),s.jsx(Xt,{path:"liquidity",element:s.jsx(To,{})})]}),s.jsx(Xt,{path:"security",element:s.jsx(Jb,{})}),s.jsxs(Xt,{path:"explorer",element:s.jsx(aE,{}),children:[s.jsx(Xt,{index:!0,element:s.jsx(lE,{})}),s.jsx(Xt,{path:"blocks/:id",element:s.jsx(nE,{})}),s.jsx(Xt,{path:"tx/:hash",element:s.jsx(rE,{})}),s.jsx(Xt,{path:"account/:pubkey",element:s.jsx(sE,{})}),s.jsx(Xt,{path:"tokens",element:s.jsx(iE,{})})]})]})]})})]})}try{const{supported:l}=Oo();l&&Fg().then(r=>{r&&(localStorage.setItem("nullspace_vault_enabled","true"),localStorage.setItem("casino_public_key_hex",r.nullspacePublicKeyHex))}).catch(()=>{})}catch{}Mx.createRoot(document.getElementById("root")).render(s.jsx(Ot.StrictMode,{children:s.jsx(uE,{})}));export{kg as C,va as L,gr as N,fE as O,Go as P,oE as R,Hp as W,ta as _,R as a,ko as b,ac as c,Oo as d,NE as e,gE as f,Yp as g,Fg as h,Hb as i,s as j,pE as k,mE as l,xE as m,hE as n,Po as o,TE as p,vE as q,jx as r,Lg as s,an as t,sn as u,yE as v,EE as w,bE as x,hy as y,dE as z};
