import{j as e,a as m,p as $,t as v,W as he,L as ae,P as ye}from"./index-B-AtvNOI.js";import{t as be,a as P,P as fe,l as we,b as Ne}from"./txTracker-DL4lrIpi.js";import{u as je}from"./CasinoConnectionContext-ButjxloC.js";import{C as ke,u as ve,p as re}from"./useActivityFeed-D5f-C2cp.js";const Se=({staker:r,derived:c})=>e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4",children:[e.jsxs("div",{className:"border border-gray-800 rounded p-3 bg-black/30",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest",children:"YOUR STAKE"}),e.jsx("div",{className:"text-white mt-1",children:(r==null?void 0:r.balance)??0}),e.jsxs("div",{className:"text-[10px] text-gray-600",children:["unlock @ ",c.unlockTs||"—"]}),e.jsxs("div",{className:"text-[10px] text-gray-600",children:["unclaimed ",c.unclaimedRewards.toString()]})]}),e.jsxs("div",{className:"border border-gray-800 rounded p-3 bg-black/30",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest",children:"VOTING POWER"}),e.jsx("div",{className:"text-white mt-1",children:c.vp.toString()}),e.jsxs("div",{className:"text-[10px] text-gray-600",children:["share ~ ",(c.shareBps/100).toFixed(2),"%"]}),e.jsxs("div",{className:"text-[10px] text-gray-600",children:["claimable ",c.claimableRewards.toString()]})]})]});function q(r,c=3){if(!Number.isFinite(r)||r<=0)return"0s";const j=Math.floor(r*c),N=Math.floor(j/60),M=Math.floor(N/60),k=Math.floor(M/24);return k>0?`~${k}d`:M>0?`~${M}h`:N>0?`~${N}m`:`~${j}s`}const Ce=({player:r,derived:c,stakeBalance:j,stakeAmount:N,stakeDuration:M,stakeAmountParsed:k,stakeDurationParsed:b,canStake:a,stakeValidationMessage:u,setStakeAmount:I,setStakeDuration:G,setStakePercent:d,onStake:X,onUnstake:h,onClaimRewards:W})=>{const[f,V]=m.useState(!1),[F,O]=m.useState(!1);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px] text-gray-600 tracking-widest uppercase",children:[e.jsx("span",{children:"Amount (RNG)"}),e.jsxs("span",{children:["Balance ",e.jsx("span",{className:"text-white",children:j.toString()})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{className:"flex-1 min-w-[180px] h-11 bg-gray-950 border border-gray-800 rounded px-2 text-xs",value:N,onChange:y=>I(y.target.value),placeholder:"Amount (RNG)",inputMode:"numeric",pattern:"[0-9]*"}),e.jsx("button",{type:"button",className:"h-11 px-3 rounded border border-gray-800 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-600 hover:text-white",onClick:()=>I(j.toString()),disabled:j<=0n,title:"Max",children:"Max"}),[25,50,75,100].map(y=>e.jsxs("button",{type:"button",className:"h-11 px-3 rounded border border-gray-800 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-600 hover:text-white",onClick:()=>d(y),disabled:j<=0n,title:`${y}%`,children:[y,"%"]},y))]}),e.jsxs("div",{className:"flex items-center justify-between gap-2 text-[10px] text-gray-600 tracking-widest uppercase",children:[e.jsx("span",{children:"Duration (blocks)"}),e.jsx("span",{className:"text-gray-500",children:b&&b>0n&&b<1000000n?q(Number(b)):"—"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("input",{className:"flex-1 min-w-[180px] h-11 bg-gray-950 border border-gray-800 rounded px-2 text-xs",value:M,onChange:y=>G(y.target.value),placeholder:"Duration (blocks)",inputMode:"numeric",pattern:"[0-9]*"}),[100,500,2e3,1e4].map(y=>e.jsx("button",{type:"button",className:"h-11 px-3 rounded border border-gray-800 text-gray-300 text-[10px] tracking-widest uppercase hover:border-gray-600 hover:text-white",onClick:()=>G(String(y)),title:`${y} blocks`,children:y>=1e3?`${y/1e3}k`:y},y))]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("button",{className:`flex-1 text-xs px-3 py-2 rounded border ${a?"border-terminal-green text-terminal-green hover:bg-terminal-green/10":"border-gray-800 text-gray-600 cursor-not-allowed"}`,onClick:()=>a?V(!0):null,disabled:!a,children:"Stake"}),e.jsx("button",{className:`text-xs px-3 py-2 rounded border ${c.locked?"border-gray-800 text-gray-600 cursor-not-allowed":"border-gray-700 text-gray-300 hover:border-gray-500"}`,onClick:h,disabled:c.locked,title:c.locked?`Locked for ${c.remainingBlocks} blocks`:"Unstake",children:"Unstake"}),e.jsx("button",{className:`text-xs px-3 py-2 rounded border ${c.claimableRewards===0n?"border-gray-800 text-gray-600 cursor-not-allowed":"border-gray-700 text-gray-300 hover:border-gray-500"}`,onClick:W,disabled:c.claimableRewards===0n,title:c.claimableRewards===0n?"No rewards to claim":"Claim rewards",children:"Claim"})]}),c.locked&&e.jsxs("div",{className:"text-[10px] text-gray-500",children:["Locked: ",c.remainingBlocks," blocks (",q(c.remainingBlocks),")"]}),u?e.jsx("div",{className:"text-[10px] text-terminal-accent",children:u}):null,e.jsx("div",{className:"text-[10px] text-gray-600 leading-relaxed",children:"Rewards are funded from positive epoch net PnL and distributed pro-rata by voting power (amount * duration). Call “Process Epoch” after ~100 blocks to roll the epoch and update the reward pool."}),e.jsx(ke,{open:f,title:"Confirm Stake",confirmText:"Confirm Stake",loading:F,onClose:()=>F?null:V(!1),onConfirm:async()=>{if(a&&!(k===null||b===null)){O(!0);try{await X(k,b),V(!1)}finally{O(!1)}}},children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest uppercase",children:"Summary"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[e.jsx("div",{className:"text-gray-500",children:"Amount"}),e.jsxs("div",{className:"text-white text-right",children:[k===null?"—":k.toString()," RNG"]}),e.jsx("div",{className:"text-gray-500",children:"Duration"}),e.jsxs("div",{className:"text-white text-right",children:[b===null?"—":b.toString()," blocks"]}),e.jsx("div",{className:"text-gray-500",children:"Voting power"}),e.jsx("div",{className:"text-white text-right",children:k&&b?(k*b).toString():"—"}),e.jsx("div",{className:"text-gray-500",children:"Unlock ETA"}),e.jsx("div",{className:"text-white text-right",children:b&&b>0n&&b<1000000n?q(Number(b)):"—"})]}),e.jsx("div",{className:"text-[10px] text-gray-600 leading-relaxed",children:"Voting power = amount × duration. Rewards depend on future epoch net PnL."})]})})]})},Re=({house:r,derived:c,currentView:j,onProcessEpoch:N})=>e.jsxs("section",{className:"border border-gray-800 rounded p-4 bg-gray-900/30",children:[e.jsx("div",{className:"text-xs text-gray-400 tracking-widest mb-3",children:"HOUSE / REWARDS"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Epoch"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.currentEpoch)??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Net PnL"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.netPnl)??"0"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total Staked"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.totalStakedAmount)??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total Voting Power"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.totalVotingPower)??"0"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"AMM Fees"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.accumulatedFees)??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total Burned"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.totalBurned)??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Total Issuance"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.totalIssuance)??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Reward Pool"}),e.jsx("span",{className:"text-white",children:c.rewardPool.toString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Reward Carry"}),e.jsx("span",{className:"text-white",children:(r==null?void 0:r.stakingRewardCarry)??0})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"View"}),e.jsx("span",{className:"text-white",children:j??"—"})]})]}),e.jsxs("div",{className:"mt-4 border-t border-gray-800 pt-4 space-y-2",children:[e.jsx("button",{className:"w-full text-xs px-3 py-2 rounded border border-gray-700 text-gray-300 hover:border-gray-500",onClick:N,children:"Process Epoch (dev)"}),e.jsx("div",{className:"text-[10px] text-gray-600",children:"Anyone can call this in dev; later it’s a keeper/admin action."})]})]});function Ae(){var Z,ee,te,se;const[r,c]=m.useState(null),[j,N]=m.useState(null),M=ve("staking",12),[k,b]=m.useState(!1),a=je(),u=m.useRef(null),[I,G]=m.useState(!1),[d,X]=m.useState(null),[h,W]=m.useState(null),[f,V]=m.useState(null),[F,O]=m.useState("Staker"),[y,J]=m.useState("0"),[Y,ie]=m.useState("100"),T=(t,s="info")=>{we("staking",t,s)},D=(t,s,i)=>{var g;Ne({surface:"staking",kind:t,message:s,pubkeyHex:(g=a.keypair)==null?void 0:g.publicKeyHex,nonce:typeof(i==null?void 0:i.nonce)=="number"?i.nonce:void 0,txHash:i==null?void 0:i.txHash,txDigest:i==null?void 0:i.txDigest})},ce=m.useMemo(()=>{switch(a.status){case"connected":return"Connected";case"connecting":return"Connecting…";case"vault_locked":case"missing_identity":return a.statusDetail??"Not ready";case"error":return a.statusDetail??a.error??"Failed to connect";default:return"Connecting…"}},[a.error,a.status,a.statusDetail]),L=()=>{const t=a.client;return t!=null&&t.nonceManager?t:(a.status==="vault_locked"?T("Vault locked — unlock to continue"):T("Client not ready"),null)};m.useEffect(()=>{a.status==="connected"?T("Connected"):a.status==="vault_locked"?T("Vault locked — unlock to continue","error"):a.status==="missing_identity"?T("Missing VITE_IDENTITY (see website/README.md).","error"):a.status==="error"&&T(a.error??"Failed to connect","error")},[a.error,a.status]),m.useEffect(()=>{if(a.status!=="connected"||!a.keypair)return;const t=a.keypair.publicKeyHex,s=t.toLowerCase(),i=a.onEvent("CasinoError",n=>{var x,o;if(((o=(x=n==null?void 0:n.player)==null?void 0:x.toLowerCase)==null?void 0:o.call(x))!==s)return;const l=(n==null?void 0:n.message)??"Unknown error";be({surface:"staking",finalMessage:l,pubkeyHex:t,error:l}),$("error",l),v("staking.error",{message:l})}),g=a.onEvent("CasinoPlayerRegistered",n=>{var o,p,w;if(((p=(o=n==null?void 0:n.player)==null?void 0:o.toLowerCase)==null?void 0:p.call(o))!==s)return;const l=(n==null?void 0:n.name)??"—",x=`Registered: ${l}`;P({surface:"staking",kind:"register",finalMessage:x,pubkeyHex:t}),$("success",x),(w=u.current)==null||w.call(u),v("staking.register.confirmed",{name:l})}),S=a.onEvent("CasinoDeposited",n=>{var p,w,E;if(((w=(p=n==null?void 0:n.player)==null?void 0:p.toLowerCase)==null?void 0:w.call(p))!==s)return;const l=(n==null?void 0:n.amount)??0,x=(n==null?void 0:n.new_chips)??(n==null?void 0:n.newChips)??0,o=`Deposit confirmed: +${l} (chips=${x})`;P({surface:"staking",kind:"deposit",finalMessage:o,pubkeyHex:t}),$("success",o),(E=u.current)==null||E.call(u),v("staking.deposit.confirmed",{amount:l,newChips:x})}),R=a.onEvent("Staked",n=>{var p,w,E;if(((w=(p=n==null?void 0:n.player)==null?void 0:p.toLowerCase)==null?void 0:w.call(p))!==s)return;const l=(n==null?void 0:n.amount)??0,x=(n==null?void 0:n.unlockTs)??(n==null?void 0:n.unlock_ts)??"—",o=`Staked: +${l} (unlock @ ${x})`;P({surface:"staking",kind:"stake",finalMessage:o,pubkeyHex:t}),$("success",o),(E=u.current)==null||E.call(u),v("staking.stake.confirmed",{amount:l,unlockTs:x})}),C=a.onEvent("Unstaked",n=>{var o,p,w;if(((p=(o=n==null?void 0:n.player)==null?void 0:o.toLowerCase)==null?void 0:p.call(o))!==s)return;const l=(n==null?void 0:n.amount)??0,x=`Unstaked: ${l}`;P({surface:"staking",kind:"unstake",finalMessage:x,pubkeyHex:t}),$("success",x),(w=u.current)==null||w.call(u),v("staking.unstake.confirmed",{amount:l})}),H=a.onEvent("RewardsClaimed",n=>{var o,p,w;if(((p=(o=n==null?void 0:n.player)==null?void 0:o.toLowerCase)==null?void 0:p.call(o))!==s)return;const l=(n==null?void 0:n.amount)??0,x=`Rewards claimed: ${l}`;P({surface:"staking",kind:"claim_rewards",finalMessage:x,pubkeyHex:t}),$("success",x),(w=u.current)==null||w.call(u),v("staking.claim.confirmed",{amount:l})}),A=a.onEvent("EpochProcessed",n=>{const l=(n==null?void 0:n.epoch)??"—",x=`Epoch processed: ${l}`;P({surface:"staking",kind:"process_epoch",finalMessage:x}),$("success",x),v("staking.epoch.processed",{epoch:l})});return()=>{try{i==null||i(),g==null||g(),S==null||S(),R==null||R(),C==null||C(),H==null||H(),A==null||A()}catch{}}},[(Z=a.keypair)==null?void 0:Z.publicKeyHex,a.onEvent,a.status]),m.useEffect(()=>{var C;const t=a.client,s=(C=a.keypair)==null?void 0:C.publicKey;if(!t||!s)return;let i=!1,g=!1;const S=async()=>{if(!(i||g)&&!(typeof document<"u"&&document.visibilityState==="hidden")){g=!0;try{const[H,A,n]=await Promise.all([t.getCasinoPlayer(s),t.getStaker(s),t.getHouse()]);X(H),G(!!H),W(A),V(n)}catch{}finally{g=!1}}};S(),u.current=()=>{S()};const R=setInterval(S,3e3);return()=>{i=!0,u.current=null,clearInterval(R)}},[a.client,(ee=a.keypair)==null?void 0:ee.publicKeyHex]);const z=m.useMemo(()=>{const t=BigInt((h==null?void 0:h.balance)??0),s=Number((h==null?void 0:h.unlockTs)??0),i=BigInt((h==null?void 0:h.votingPower)??0),g=BigInt((h==null?void 0:h.unclaimedRewards)??0),S=BigInt((h==null?void 0:h.rewardDebtX18)??0),R=BigInt((f==null?void 0:f.totalVotingPower)??0),C=BigInt((f==null?void 0:f.totalStakedAmount)??0),H=BigInt((f==null?void 0:f.stakingRewardPerVotingPowerX18)??0),A=BigInt((f==null?void 0:f.stakingRewardPool)??0),n=a.currentView??0,l=s>0&&n<s,x=l?s-n:0,o=R>0n?Number(i*10000n/R):0,p=C>0n?Number(t*10000n/C):0,w=1000000000000000000n;let E=0n;if(i>0n){const ne=i*H;E=ne>S?(ne-S)/w:0n}const pe=g+E;return{staked:t,unlockTs:s,vp:i,unclaimedRewards:g,pendingRewards:E,claimableRewards:pe,totalVp:R,totalStaked:C,locked:l,remainingBlocks:x,shareBps:o,stakedShareBps:p,rewardPool:A}},[a.currentView,f,h]),_=m.useMemo(()=>BigInt((d==null?void 0:d.chips)??0),[d==null?void 0:d.chips]),K=m.useMemo(()=>re(y),[y]),U=m.useMemo(()=>re(Y),[Y]),Q=m.useMemo(()=>d?K===null?"Enter a whole number amount":K<=0n?"Amount must be greater than zero":K>_?"Not enough RNG":U===null?"Enter a whole number duration":U<=0n?"Duration must be greater than zero":null:"Register to stake",[d,K,_,U]),le=!stakeSubmitting&&Q===null,oe=t=>{const s=Math.max(0,Math.min(100,Math.floor(t))),i=_*BigInt(s)/100n;J(i.toString())},B=async()=>{const t=L();if(!t||I)return;const s=F.trim()||`Staker_${Date.now().toString(36)}`,i=await t.nonceManager.submitCasinoRegister(s);i!=null&&i.txHash&&(c(i.txHash),N(i.txDigest??null)),v("staking.register.submitted",{name:s}),D("register",`Submitted register (${s})`,i)},de=async()=>{const t=L();if(!t)return;await B();const s=await t.nonceManager.submitCasinoDeposit(1e3);s!=null&&s.txHash&&(c(s.txHash),N(s.txDigest??null)),v("staking.faucet.submitted",{amount:1e3}),D("deposit","Submitted faucet claim (1000 RNG)",s)},xe=async(t,s)=>{const i=L();if(!i)return;if(await B(),!d){T("Register to stake");return}if(t<=0n||s<=0n){T("Stake amount/duration must be > 0");return}if(t>_){T("Not enough RNG");return}const g=await i.nonceManager.submitStake(t.toString(),s.toString());g!=null&&g.txHash&&(c(g.txHash),N(g.txDigest??null)),v("staking.stake.submitted",{amount:t.toString(),duration:s.toString()}),D("stake",`Submitted stake (amount=${t}, duration=${s})`,g)},ge=async()=>{const t=L();if(!t)return;await B();const s=await t.nonceManager.submitUnstake();s!=null&&s.txHash&&(c(s.txHash),N(s.txDigest??null)),v("staking.unstake.submitted"),D("unstake","Submitted unstake",s)},me=async()=>{const t=L();if(!t)return;await B();const s=await t.nonceManager.submitClaimRewards();s!=null&&s.txHash&&(c(s.txHash),N(s.txDigest??null)),v("staking.claim.submitted"),D("claim_rewards","Submitted claim rewards",s)},ue=async()=>{const t=L();if(!t)return;await B();const s=await t.nonceManager.submitProcessEpoch();s!=null&&s.txHash&&(c(s.txHash),N(s.txDigest??null)),v("staking.epoch.process.submitted"),D("process_epoch","Submitted process epoch",s)};return e.jsxs("div",{className:"min-h-screen bg-terminal-black text-white font-mono",children:[e.jsx(fe,{title:"Staking",status:ce,leading:e.jsx(ye,{}),right:e.jsxs(e.Fragment,{children:[e.jsx(he,{rng:d==null?void 0:d.chips,vusdt:d==null?void 0:d.vusdtBalance,pubkeyHex:(te=a.keypair)==null?void 0:te.publicKeyHex}),e.jsx("button",{type:"button",onClick:()=>b(t=>!t),className:["h-11 px-3 rounded border text-[10px] tracking-widest uppercase transition-colors",k?"border-terminal-green text-terminal-green bg-terminal-green/10":"border-gray-800 text-gray-400 hover:border-gray-600 hover:text-white"].join(" "),title:"Show advanced / dev controls",children:"Advanced"}),r?j?e.jsxs(ae,{to:`/explorer/tx/${j}`,className:"text-[10px] text-terminal-green tracking-widest hover:underline",title:j,children:["LAST TX: ",r]}):e.jsxs("div",{className:"text-[10px] text-gray-500 tracking-widest",children:["LAST TX: ",r]}):null]})}),e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[e.jsxs("section",{className:"border border-gray-800 rounded p-4 bg-gray-900/30",children:[e.jsx("div",{className:"text-xs text-gray-400 tracking-widest mb-3",children:"WALLET"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:["Registered:"," ",e.jsx("span",{className:I?"text-terminal-green":"text-terminal-accent",children:I?"YES":"NO"})]}),e.jsxs("div",{children:["RNG: ",e.jsx("span",{className:"text-white",children:(d==null?void 0:d.chips)??0})]}),e.jsxs("div",{children:["vUSDT: ",e.jsx("span",{className:"text-white",children:(d==null?void 0:d.vusdtBalance)??0})]}),e.jsxs("div",{className:"text-[10px] text-gray-600 break-all",children:["PK: ",((se=a.keypair)==null?void 0:se.publicKeyHex)??"—"]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"flex-1 bg-gray-950 border border-gray-800 rounded px-2 py-1 text-xs",value:F,onChange:t=>O(t.target.value),placeholder:"Name"}),e.jsx("button",{className:"text-xs px-3 py-1 rounded border border-terminal-green text-terminal-green hover:bg-terminal-green/10",onClick:B,children:"Register"})]}),e.jsx("button",{className:"w-full text-xs px-3 py-2 rounded border border-terminal-green text-terminal-green hover:bg-terminal-green/10",onClick:de,children:"Daily Faucet (1000 RNG)"})]})]}),e.jsxs("section",{className:["border border-gray-800 rounded p-4 bg-gray-900/30",k?"":"lg:col-span-2"].join(" ").trim(),children:[e.jsx("div",{className:"text-xs text-gray-400 tracking-widest mb-3",children:"STAKE RNG"}),e.jsx(Se,{staker:h,derived:z}),e.jsx("div",{className:"mt-4",children:e.jsx(Ce,{player:d,derived:z,stakeBalance:_,stakeAmount:y,stakeDuration:Y,stakeAmountParsed:K,stakeDurationParsed:U,canStake:le,stakeValidationMessage:Q,setStakeAmount:J,setStakeDuration:ie,setStakePercent:oe,onStake:xe,onUnstake:ge,onClaimRewards:me})})]}),k?e.jsx(Re,{house:f,derived:z,currentView:a.currentView,onProcessEpoch:ue}):null]}),e.jsxs("section",{className:"mt-4 border border-gray-800 rounded p-4 bg-gray-900/20",children:[e.jsx("div",{className:"text-xs text-gray-400 tracking-widest mb-3",children:"ACTIVITY"}),M.length===0?e.jsx("div",{className:"text-[10px] text-gray-600",children:"No activity yet."}):e.jsx("ul",{className:"space-y-1 text-[10px] text-gray-400",children:M.map(t=>{const s=t.type==="tx",i=s?t.finalMessage??t.message:t.message,g=new Date(s?t.updatedTs:t.ts).toLocaleTimeString(),S=s?t.status==="submitted"?"PENDING":t.status==="confirmed"?"OK":"FAIL":t.level==="error"?"ERROR":t.level==="success"?"OK":"INFO",R=s?t.status==="confirmed"?"text-terminal-green":t.status==="failed"?"text-terminal-accent":"text-gray-500":t.level==="error"?"text-terminal-accent":t.level==="success"?"text-terminal-green":"text-gray-500",C=s&&t.txDigest?e.jsx(ae,{to:`/explorer/tx/${t.txDigest}`,className:"text-gray-300 hover:underline",title:t.txDigest,children:i}):e.jsx("span",{className:"text-gray-300",children:i});return e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-gray-600",children:g}),e.jsx("span",{className:`text-[10px] tracking-widest ${R}`,children:S}),C]},t.id)})})]})]})]})}export{Ae as default};
