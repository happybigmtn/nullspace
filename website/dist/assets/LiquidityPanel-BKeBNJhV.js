import{a as x,j as e}from"./index-mFzF45K3.js";import{p as N}from"./useActivityFeed-BE_j7v_U.js";import"./txTracker-BOjY1mwg.js";const G=({amm:r,ammDerived:n,lpBalance:c,addLiqRng:g,addLiqVusdt:p,removeLiqShares:j,setAddLiqRng:u,setAddLiqVusdt:h,setRemoveLiqShares:R,onAddLiquidity:m,onRemoveLiquidity:k})=>{const[i,f]=x.useState(!0),[w,b]=x.useState("RNG"),d=BigInt((r==null?void 0:r.reserveRng)??0),l=BigInt((r==null?void 0:r.reserveVusdt)??0),a=d>0n&&l>0n,S=x.useMemo(()=>!a||n.price===null?"—":`1 RNG ≈ ${n.price.toFixed(6)} vUSDT`,[n.price,a]),v=t=>{if(!i||!a)return;const s=N(t);if(s===null)return;const o=s*l/d;h(o.toString())},y=t=>{if(!i||!a)return;const s=N(t);if(s===null)return;const o=s*d/l;u(o.toString())},E=t=>{f(t),t&&(w==="RNG"?v(g):y(p))};return e.jsxs("section",{className:"border border-gray-800 rounded p-4 bg-gray-900/30 lg:col-span-2",children:[e.jsx("div",{className:"text-xs text-gray-400 tracking-widest mb-3",children:"AMM (RNG/vUSDT)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"border border-gray-800 rounded p-3 bg-black/30",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest",children:"RESERVE RNG"}),e.jsx("div",{className:"text-white mt-1",children:(r==null?void 0:r.reserveRng)??0})]}),e.jsxs("div",{className:"border border-gray-800 rounded p-3 bg-black/30",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest",children:"RESERVE vUSDT"}),e.jsx("div",{className:"text-white mt-1",children:(r==null?void 0:r.reserveVusdt)??0})]}),e.jsxs("div",{className:"border border-gray-800 rounded p-3 bg-black/30",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest",children:"PRICE"}),e.jsx("div",{className:"text-white mt-1",children:n.price===null?"—":n.price.toFixed(6)}),e.jsx("div",{className:"text-[10px] text-gray-600",children:"vUSDT per RNG"})]}),e.jsxs("div",{className:"border border-gray-800 rounded p-3 bg-black/30",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest",children:"TVL"}),e.jsx("div",{className:"text-white mt-1",children:n.tvlVusdt.toString()}),e.jsx("div",{className:"text-[10px] text-gray-600",children:"~vUSDT"})]})]}),e.jsxs("div",{className:"mt-4 border-t border-gray-800 pt-4 space-y-3",children:[e.jsx("div",{className:"text-[10px] text-gray-500 tracking-widest",children:"LIQUIDITY"}),e.jsxs("div",{className:"text-[10px] text-gray-600",children:["LP shares: ",e.jsx("span",{className:"text-white",children:(c==null?void 0:c.balance)??0})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 text-[10px] text-gray-600 tracking-widest uppercase",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[e.jsx("input",{type:"checkbox",className:"accent-terminal-green",checked:i,onChange:t=>E(t.target.checked),disabled:!a}),"Auto-match ratio"]}),e.jsx("div",{className:"text-gray-500 normal-case tracking-normal",children:S})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("input",{className:"bg-gray-950 border border-gray-800 rounded px-2 py-1 text-xs",value:g,onChange:t=>{b("RNG");const s=t.target.value;u(s),v(s)},placeholder:"RNG",inputMode:"numeric",pattern:"[0-9]*"}),e.jsx("input",{className:"bg-gray-950 border border-gray-800 rounded px-2 py-1 text-xs",value:p,onChange:t=>{b("vUSDT");const s=t.target.value;h(s),y(s)},placeholder:"vUSDT",inputMode:"numeric",pattern:"[0-9]*"})]}),e.jsx("button",{className:"w-full text-xs px-3 py-2 rounded border border-terminal-green text-terminal-green hover:bg-terminal-green/10",onClick:m,children:"Add Liquidity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{className:"flex-1 bg-gray-950 border border-gray-800 rounded px-2 py-1 text-xs",value:j,onChange:t=>R(t.target.value),placeholder:"Shares",inputMode:"numeric",pattern:"[0-9]*"}),e.jsx("button",{className:"text-xs px-3 py-1 rounded border border-gray-700 text-gray-300 hover:border-gray-500",onClick:k,children:"Remove"})]})]})]})};export{G as LiquidityPanel};
